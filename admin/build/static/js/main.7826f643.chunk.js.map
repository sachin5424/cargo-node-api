{"version":3,"sources":["utils/util.js","utils/axios.js","services/admin.js","utils/Antd.js","views/pages/user/EditProfile.js","utils/controls.js","views/pages/user/Profile.js","views/components/Pagination.js","views/components/MyTable.js","services/customer.js","views/components/UploadImage.js","services/sdt.js","views/pages/customer/Customer.js","services/onlyAdmin.js","views/pages/roleAndPermissions/AssignPermission.js","rdx.js","views/components/ProComponent.js","views/pages/admin/User.js","views/pages/tabs/Module.js","views/pages/tabs/Tabs.js","services/vehicle.js","services/common.js","views/pages/vehicle/Category.js","services/ride.js","services/driver.js","views/pages/driver/Wallet.js","services/email.js","views/components/TinyMce.js","views/pages/email/Email.js","views/pages/driver/Driver.js","views/pages/vehicle/Vehicle.js","views/pages/ride/Type.js","views/pages/vehicle/Make.js","views/pages/vehicle/MakeModel.js","views/pages/vehicle/Color.js","services/fare.js","views/pages/fare/TaxiFareManagement.js","views/pages/email/Template.js","services/notification.js","views/pages/notification/Notification.js","views/pages/sdt/Taluk.js","views/pages/sdt/District.js","views/pages/sdt/State.js","Route.js","views/pages/Dashboard.js","views/layouts/Leftnav.js","views/components/svgIcons.js","views/layouts/Topnav.js","views/pages/errors/Error404.js","views/layouts/Layout.js","services/auth.js","views/Login.js","App.js","reportWebVitals.js","index.js"],"names":["util","setUserData","data","window","localStorage","clear","setItem","accessToken","refreshToken","modules","userType","getUserData","$key","JSON","parse","getToken","isLogged","logout","e","preventDefault","location","reload","key","split","includes","$theme","stylesheets","light","dark","link","document","createElement","rel","id","href","head","appendChild","setTimeout","getElementById","remove","theme","toLowerCase","replace","$str","$len","num","substring","value","maxValue","newValue","match","offset","all","indexOf","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","qs","search","slice","charAt","pairs","forEach","p","pair","decodeURIComponent","Object","prototype","toString","call","push","stringify","allModules","getModules","isSuperAdmin","axiosInstance","axios","create","baseURL","hostname","interceptors","request","use","config","module","headers","authorization","Error","response","message","errors","Array","isArray","msg","profile","post","this","params","get","delete","AntdSelect","props","placeholder","options","sort","defaultValue","rest","length","ops","v","_id","label","title","name","a","b","localeCompare","style","width","undefined","filterOption","input","option","AntdDatepicker","format","getFormat","inputReadOnly","onChange","disablePastDate","disableUpcomingDate","otherProps","moment","Date","dt","useEffect","disabledDate","current","customDate","MultiChechBox","col","type","useState","values","setValues","setOptions","handleChange","val","target","checked","splice","map","opts","i","join","className","AntdMsg","$msg","$type","success","warning","getBase64","UploadImage","forwardRef","ref","fileCount","fileRef","files","setFileList","uid","url","status","fileList","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","handlePreview","preview","originFileObj","lastIndexOf","uploadButton","PlusOutlined","marginTop","listType","customRequest","onSuccess","uploadingFiles","onPreview","newFileList","beforeUpload","onRemove","deletingFiles","thumbUrl","filter","visible","footer","onCancel","alt","src","EditProfile","callback","ajxRequesting","setAjxRequesting","setData","imgRef","useRef","service","details","then","res","catch","err","finally","list","k","spinning","indicator","LoadingOutlined","fontSize","spin","username","email","image","mobile","gender","dob","TextArea","address","onClick","fd","FormData","entries","append","save","keys","disabled","If","cond","children","EditProfileDrawer","setVisible","useImperativeHandle","openForm","closeForm","onClose","placement","extra","MyPagination","sdata","handleSData","setSData","total","showTotal","start","page","limit","end","color","pageSize","pp","showSizeChanger","MyTable","columns","parentSData","loading","formRef","filters","searchPlaceholder","addNew","addNewIcon","addNewText","index","dataIndex","state","bordered","size","showHeader","scroll","hasData","tableLayout","yScroll","xScroll","y","x","tableColumns","item","fixed","pagination","position","dataSource","Search","AddNewIcon","allowClear","Fragment","customer","base64","multiple","sdt","view","add","edit","viewAccess","addAccess","editAccess","deleteAccess","AddForm","districts","setDistricts","taluks","setTaluks","changeForm","setChangeForm","handleVisible","isActive","photo","newDistricts","find","newTaluks","district","checkDistrictExist","taluk","checkTalukExist","top","okText","onOk","okButtonProps","display","destroyOnClose","maskClosable","onSubmit","autoComplete","spellCheck","firstName","lastName","phoneNo","handleInteger","password","zipcode","onlyAdmin","admService","saveAdminModules","danger","grantedModules","UserTypeSelect","parData","adharCardImgRef","panCardImgRef","adharCardPhoto","panCardPhoto","orientation","adharNo","adharCardImage","panNo","panCardImage","Module","setLoading","render","text","row","EditOutlined","onConfirm","deleteConfirm","cancelText","DeleteOutlined","hidden","listModules","deleteModule","saveModule","components","component","Detail","TabPane","Tabs","history","useHistory","queryStringToJSON","tab","activeTab","setActiveTab","querySelector","scrollTop","activeKey","vehicle","common","serviceTypes","removeSpecialChars","saveCategory","serviceType","slug","ride","driver","Wallet","driverId","transactionMethod","transactionType","listWalletHistory","saveWalletHistory","amount","description","TinyMce","height","menubar","plugins","toolbar","content_style","initialValue","editorRef","onInit","evt","editor","init","file_browser_callback_types","file_picker_callback","cb","meta","setAttribute","onchange","click","deprecation_warnings","onSelectionChange","getContent","templates","customers","drivers","admins","allUsers","setAllUsers","users","setUsers","userSelectMode","setUserSelectMode","deletable","updateState","to","vehicleDetails","SendOutlined","subject","template","mode","emailIds","shape","icon","InfoOutlined","html","Driver","vehicleData","setVisibleParent","setSdt","setServiceType","setFilters","walletModalRef","emailModalRef","vehicleId","walletDetails","isApproved","EyeOutlined","sdtService","listSdt","commonService","listServiceType","WalletModal","EmailModal","licenceImgRef","badgeImgRef","drivingLicencePhoto","badgePhoto","drivingLicenceNumber","drivingLicenceNumberExpiryDate","drivingLicenceImage","badgeNo","badgeImage","parRideTypes","rideTypes","makes","colors","setRideTypes","vehicleCategories","setVehicleCategories","models","setModels","primaryImgRef","otherImgRef","registrationImgRef","insuranceImgRef","permitImgRef","pollutionImgRef","registrationExpiryDate","insuranceExpiryDate","permitExpiryDate","pollutionExpiryDate","addedBy","newRideTypes","newVehicleCategories","allowedVehicleCategoriesDetails","flat","self","findIndex","t","newModels","make","model","flagUpdate","vehicleCategory","primaryPhoto","otherPhotos","registrationPhoto","insurancePhoto","permitPhoto","pollutionPhoto","picker","manufacturingYear","vehicleNumber","availableSeats","availableCapacity","registrationNumber","registrationImage","insuranceNumber","insuranceImage","permitNumber","permitImage","pollutionNumber","pollutionImage","AddFormDriver","closable","saveRideType","allowedVehicleCategories","saveMake","saveMakeModel","saveColor","code","fare","TaxiFareManagement","activeServiceType","setServiceTypes","serviceTypeKey","baseFare","bookingFare","perMinuteFare","cancelCharge","waitingCharge","adminCommissionType","adminCommissionValue","rideService","listAllRideType","tempRT","activeRideTypes","setActiveRideTypes","activeVehicleCategories","setActiveVehicleCategories","perKMCharges","varDt","parseInt","tempVC","rideType","handleFloat","PerKMCharges","maxKM","charge","pop","saveTeplate","notification","tempUserIds","userIds","content","Taluk","districtId","states","setStates","listTaluk","deleteTaluk","listAllState","listAllDistrict","parentDistricts","saveTaluk","District","stateId","talukModalRef","listDistrict","deleteDistrict","TalukModal","saveDistrict","saveState","DistrictModal","includesAny","arr","some","element","routes","leftNav","DashboardOutlined","CarOutlined","colorModules","makeModules","makeModelModules","categoryModules","vehicleModules","EnvironmentOutlined","subMenus","districtModalRef","listState","deleteState","stateModules","districtModules","talukModules","backgroundColor","listColor","deleteColor","listMake","deleteMake","setMakes","listMakeModel","deleteMakeModel","listAllMake","mask","listCategory","deleteCategory","setColors","driverFormRef","driverDetails","CheckCircleOutlined","CloseCircleOutlined","PlusCircleOutlined","active","modelActive","listAllColor","typeModules","listRideType","vehicleService","listAllCategory","taxiFareManagementModules","TeamOutlined","driverModules","userModules","addNew11","customerModules","KeyOutlined","setModules","listAdminModules","listModulesAll","templateModules","emailModules","MailOutlined","listTeplates","deleteTeplates","setTemplates","setCustomers","setDrivers","setAdmins","listAllTeplates","customerService","listAll","driverService","adminService","NotificationOutlined","notificationModules","topNav","marginRight","drawerRef","user_type","SubMenu","Menu","Sider","useLocation","pathname","selectedKey","setSelectedKey","defaultOpenKeys","selectedKeys","subMenu","Item","Sun","focusable","xmlns","enableBackground","viewBox","fill","d","Moon","getTheme","setTheme","classList","toggle","MenuOutlined","PoweroffOutlined","Error404","subTitle","layout","exact","path","auth","Login","userName","setUserName","setPassword","passwordVisible","setPasswordVisible","login","prefix","UserOutlined","LockOutlined","suffix","htmlType","App","isLoggedin","setIsLoggedin","validateToken","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.7826f643.chunk.js","sourcesContent":["/* eslint-disable */\r\n\r\nclass util {\r\n    setUserData = (data) => {\r\n        window.localStorage.clear();\r\n        window.localStorage.setItem('authorization', data.accessToken);\r\n        window.localStorage.setItem('refreshToken', data.refreshToken);\r\n        window.localStorage.setItem('modules', data.modules);\r\n        window.localStorage.setItem('userType', data.userType);\r\n    }\r\n    getUserData = ($key) => {\r\n        if ($key) {\r\n            return JSON.parse(window.localStorage['user'])[$key];\r\n        } else {\r\n            return JSON.parse(window.localStorage['user']);\r\n        }\r\n    }\r\n    getToken = () => {\r\n        return window.localStorage['authorization'] || '';\r\n    }\r\n    isLogged = () => {\r\n        if (typeof window.localStorage['authorization'] !== \"undefined\" && window.localStorage['authorization'] !== '') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    logout = (e) => {\r\n        if (e) e.preventDefault();\r\n        window.localStorage.clear();\r\n        window.location.reload();\r\n    }\r\n    getModules(key=null) {\r\n        if(key){\r\n            if((window.localStorage['modules'] || '').split(',').includes(key) || window.localStorage['userType'] === 'superAdmin'){\r\n                return key;\r\n            }\r\n            return null;\r\n        }\r\n        return (window.localStorage['modules'] || '').split(',');\r\n    }\r\n\r\n    isSuperAdmin(){\r\n        return window.localStorage['userType'] === 'superAdmin' ? true : false;\r\n    }\r\n    isStateAdmin(){\r\n        return window.localStorage['userType'] === 'stateAdmin' ? true : false;\r\n    }\r\n    isDistrictAdmin(){\r\n        return window.localStorage['userType'] === 'districtAdmin' ? true : false;\r\n    }\r\n    isTalukAdmin(){\r\n        return window.localStorage['userType'] === 'talukAdmin' ? true : false;\r\n    }\r\n\r\n    setTheme($theme = 'light') {\r\n        window.localStorage.setItem('theme', $theme);\r\n\r\n        const stylesheets = {\r\n            light: \"./css/antd.min.css\",\r\n            dark: \"./css/antd.dark.min.css\",\r\n        }\r\n\r\n        const link = document.createElement(\"link\");\r\n        link.rel = \"stylesheet\";\r\n        link.id = \"antd-stylesheet-\" + $theme;\r\n        link.href = stylesheets[$theme];\r\n        document.head.appendChild(link);\r\n\r\n        setTimeout(() => {\r\n            if ($theme === 'light') {\r\n                document.getElementById(\"antd-stylesheet-dark\")?.remove();\r\n            }\r\n            if ($theme === 'dark') {\r\n                document.getElementById(\"antd-stylesheet-light\")?.remove();\r\n            }\r\n        }, 500);\r\n        return $theme;\r\n    }\r\n    getTheme() {\r\n        return window.localStorage?.theme;\r\n    }\r\n    removeSpecialChars(key) {\r\n        return key.toLowerCase().replace(/[^a-z0-9 _-]/g, '').replace(/\\s+/g, '-').replace(/-+/g, '-');\r\n    }\r\n    handleInteger($str, $len = 10) {\r\n        let num = $str?.replace(/[^0-9]/g, '');\r\n        return $len ? num?.substring(0, $len) : num;\r\n    }\r\n    handleFloat(value, maxValue) {\r\n        value = value.replace(/[^0-9.]/g, '')\r\n        let newValue = value.replace(/[\\.\\%]/g, function (match, offset, all) {\r\n            return match === \".\" ? (all.indexOf(\".\") === offset ? '.' : '') : '';\r\n        })\r\n        if (maxValue) {\r\n            if (newValue * 1 > maxValue * 1) {\r\n                newValue = maxValue\r\n            }\r\n        }\r\n        return newValue\r\n    }\r\n    toBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n    queryStringToJSON(qs) {\r\n        qs = qs || window.location.search.slice(1);\r\n        if(qs.charAt(0) === '?'){\r\n            qs = qs.slice(1);\r\n        }\r\n    \r\n        var pairs = qs.split('&');\r\n        var result = {};\r\n        pairs.forEach(function(p) {\r\n            var pair = p.split('=');\r\n            var key = pair[0];\r\n            var value = decodeURIComponent(pair[1] || '');\r\n            if( result[key] ) {\r\n                if( Object.prototype.toString.call( result[key] ) === '[object Array]' ) {\r\n                    result[key].push( value );\r\n                } else {\r\n                    result[key] = [ result[key], value ];\r\n                }\r\n            } else {\r\n                result[key] = value;\r\n            }\r\n        });\r\n    \r\n        return JSON.parse(JSON.stringify(result));\r\n    };\r\n}\r\n\r\nexport default new util();","import axios from \"axios\";\r\nimport util from \"./util\";\r\n\r\nconst allModules = util.getModules();\r\nconst isSuperAdmin = util.isSuperAdmin();\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: window.location.hostname !== 'localhost'\r\n        ? 'https://demoaanaxagorasr.net/rupiloan/admin-api/public/api/admin/'\r\n        : 'http://localhost:3003/admin/'\r\n});\r\n\r\naxiosInstance.interceptors.request.use(\r\n    (config) => {\r\n        if (isSuperAdmin || config.module === 'ignoreModule' || allModules.includes(config.module)) {\r\n            config.headers.authorization = 'Bearer ' + util.getToken();\r\n            return config;\r\n        } else {\r\n            return Promise.reject(new Error('Unauthorized'));\r\n        }\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n    (response) => {\r\n        return response.data;\r\n    },\r\n    (error) => {\r\n        let response = {};\r\n        if (typeof error.response !== 'undefined') {\r\n            response = error.response?.data;\r\n            if (!response?.message) {\r\n                response.message = error.message\r\n            }\r\n            if (response.errors && Array.isArray(response.errors)) {\r\n                response.message = response.errors[0].msg;\r\n            }\r\n        } else {\r\n            response.message = error.message\r\n        }\r\n        return Promise.reject(response);\r\n    }\r\n);\r\n\r\nexport default axiosInstance;","import axios from \"../utils/axios\";\r\n\r\nexport default class profile {\r\n    static baseURL = 'user/';\r\n    static details(data, module) {\r\n        return axios.post(this.baseURL + \"profile/details\", { params: data, module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState, forwardRef } from 'react';\r\nimport moment from 'moment';\r\nimport {\r\n    Select,\r\n    DatePicker,\r\n    Pagination,\r\n    Tag,\r\n    Checkbox,\r\n    message,\r\n    Upload,\r\n    Modal,\r\n} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nexport function AntdSelect(props) {\r\n    let {\r\n        placeholder,\r\n        options,\r\n        value,\r\n        sort,\r\n        defaultValue,\r\n        ...rest\r\n    } = props;\r\n\r\n    if (!options.length > 0) {\r\n        value = defaultValue;\r\n    }\r\n\r\n    if ((value && typeof value !== \"object\") || typeof value === 'boolean') {\r\n        value = value + '';\r\n    }\r\n\r\n    if (typeof options !== \"object\") {\r\n        options = [];\r\n    }\r\n    // if (typeof options[0] !== \"object\") {\r\n    //     let ops = [...options];\r\n    //     options = [];\r\n    //     for (let ind in ops) {\r\n    // options.push({ value: ops[ind], label: ops[ind] });\r\n    //     }\r\n    // }\r\n    if (typeof options[0]?.value === \"undefined\") {\r\n        let ops = [...options];\r\n        options = [];\r\n        ops.forEach(v => {\r\n            options.push({ value: v.id || v._id, label: v.title || v.name });\r\n        })\r\n    }\r\n\r\n    options.forEach(v => {\r\n        v.value += '';\r\n        v.label += '';\r\n    })\r\n\r\n    if (sort) {\r\n        options.sort((a, b) => {\r\n            return ('' + a.label).localeCompare(b.label);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={placeholder || \"Select\"}\r\n                options={options}\r\n                value={(value !== null && typeof value !== \"undefined\") ? (value) : undefined}\r\n                filterOption={\r\n                    (input, option) => {\r\n                        return option?.label?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                    }\r\n                }\r\n\r\n                {...rest}\r\n            >\r\n            </Select>\r\n        </>\r\n    )\r\n}\r\n\r\nexport function AntdDatepicker(props) {\r\n    let {\r\n        format,\r\n        getFormat = 'YYYY-MM-DD',\r\n        inputReadOnly,\r\n        value,\r\n        defaultValue,\r\n        onChange,\r\n        disablePastDate = false,\r\n        disableUpcomingDate = false,\r\n        ...rest\r\n    } = props;\r\n\r\n\r\n    let otherProps = {};\r\n    if (typeof value !== \"undefined\") {\r\n        // otherProps.value = moment(value).format(format || 'DD MMM YYYY') ? moment(new Date(value)) : null\r\n        otherProps.value = moment(new Date(value ? value : new Date()), format || 'DD MMM YYYY');\r\n    }\r\n    if (typeof defaultValue !== \"undefined\") {\r\n        otherProps.defaultValue = defaultValue ? moment(new Date(defaultValue)) : null\r\n    }\r\n    if (typeof onChange !== \"undefined\") {\r\n        otherProps.onChange = (dt) => {\r\n            onChange(dt ? moment(dt).format(getFormat) : null);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        onChange(moment(value).format(getFormat))\r\n    }, [])\r\n\r\n    return (\r\n        <DatePicker\r\n            format={format || 'DD MMM YYYY'}\r\n            inputReadOnly={inputReadOnly || true}\r\n            disabledDate={(current) => {\r\n                let customDate = moment().format(\"YYYY-MM-DD\");\r\n                if (disablePastDate) {\r\n                    return current && current < moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n                if (disableUpcomingDate) {\r\n                    return current && current > moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n            }}\r\n            {...otherProps}\r\n            {...rest}\r\n            style={{ width: '100%' }}\r\n        />\r\n    )\r\n}\r\n\r\nexport function AntdPaging(props) {\r\n    let { onChange, total, pageSize, ...rest } = props;\r\n    let jumpOn1st = false;\r\n    const handlePaseSizeChange = (n, ps) => {\r\n        jumpOn1st = true;\r\n    }\r\n\r\n    const handleOnChange = (n, ps) => {\r\n        onChange(jumpOn1st ? 1 : n, ps);\r\n        jumpOn1st = false;\r\n    }\r\n\r\n    return (\r\n        <Pagination\r\n            defaultCurrent={1}\r\n            total={total}\r\n            defaultPageSize={pageSize || 25}\r\n            pageSizeOptions={[10, 20, 25, 50, 100]}\r\n            onChange={handleOnChange}\r\n            onShowSizeChange={handlePaseSizeChange}\r\n            {...rest}\r\n        />\r\n    )\r\n}\r\n\r\nexport function AntdTag(props) {\r\n    const { type, ...rest } = props;\r\n    const [tagType, setTagType] = React.useState(type);\r\n    const types = {\r\n        danger: '#ff4d4f',\r\n        info: '#2db7f5',\r\n        success: '#87d068',\r\n        primary: '#108ee9',\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setTagType(type);\r\n    }, [type]);\r\n\r\n    return (\r\n        <Tag color={types[tagType]} {...rest}>{props.children}</Tag>\r\n    )\r\n}\r\n\r\nexport function AntdCheckbox(props) {\r\n    const { onChange, value, children } = props;\r\n    return (\r\n        <div className=\"w-100 border p-1\">\r\n            <Checkbox className=\"w-100 req\" checked={value === '1' ? true : false}\r\n                onChange={(e) => { onChange(e.target.checked ? '1' : '0') }} >{children}</Checkbox>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport function MultiChechBox(props) {\r\n    const { col = 3 } = props;\r\n    const type = typeof props.value === 'object' ? 'array' : 'string';\r\n\r\n    let [values, setValues] = useState();\r\n    let [options, setOptions] = useState([]);\r\n\r\n    const handleChange = (e) => {\r\n        const val = typeof e.target.value * 1 !== 'NaN' ? e.target.value + '' : e.target.value * 1;\r\n        if (e.target.checked) {\r\n            values.push(val)\r\n            setValues([...values]);\r\n        } else {\r\n            if (values.indexOf(val) > -1) {\r\n                values.splice(values.indexOf(val), 1);\r\n                setValues([...values])\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (type === 'string') {\r\n            values = props.value ? props.value.split(',').map((v) => v * 1) : [];\r\n            setValues([...values]);\r\n        } else {\r\n            setValues([...props.value]);\r\n        }\r\n    }, [props.value]);\r\n\r\n    useEffect(() => {\r\n        let opts = props.options.map((v, i) => {\r\n            if (v.value) {\r\n                return { value: v.value * 1, label: v.label }\r\n            } else if (v.id) {\r\n                return { value: v.id * 1, label: v.name || v.title || v.label }\r\n            } else if (v._id) {\r\n                return { value: v._id + '', label: v.name || v.title || v.label }\r\n            }\r\n            return null;\r\n        });\r\n        setOptions(opts);\r\n    }, [props.options]);\r\n\r\n    useEffect(() => {\r\n        // if (type === 'string') {\r\n        //     props.onChange(values?.join());\r\n        // } else {\r\n        props.onChange(values)\r\n        // }\r\n    }, [(values || []).join(\",\")])\r\n\r\n    return (\r\n        <div className=\"row mingap\" >\r\n            {\r\n                options.map((v, i) => (\r\n                    <div className={`col-md-${col} mb-2 form-group`} key={i}>\r\n                        <div className=\"border p-1\">\r\n                            <Checkbox\r\n                                value={typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1}\r\n                                checked={values?.includes(typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1)}\r\n                                onChange={handleChange}\r\n                                className=\"mx-0 mr15\"\r\n                            >\r\n                                {v.label}\r\n                            </Checkbox>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport function AntdMsg($msg, $type = 'success') {\r\n    if ($msg) {\r\n        if ($type === 'success')\r\n            message.success($msg);\r\n        if ($type === 'error')\r\n            message.error($msg);\r\n        if ($type === 'warning')\r\n            message.warning($msg);\r\n    }\r\n};\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    const fileRef = ref;\r\n    let { files } = props;\r\n    useEffect(() => {\r\n        setFileList(files)\r\n    }, [files])\r\n\r\n    if (files.length) {\r\n        files = files?.map((v, i) => {\r\n            return { uid: i, url: v.url, status: 'done', name: v.name };\r\n        });\r\n    } else {\r\n        files = [];\r\n    }\r\n\r\n\r\n    const [fileList, setFileList] = useState(files);\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            fileRef.current.uploadingFiles?.push(file);\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","import { useState, useEffect, useRef } from \"react\";\r\nimport { Button, Input, Spin } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/admin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage, { AntdSelect, AntdDatepicker } from \"../../../utils/Antd\";\r\n\r\nexport default function EditProfile(props) {\r\n    const {callback} = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [data, setData] = useState({});\r\n    let imgRef = useRef([]);\r\n\r\n    const list = (data) => {\r\n        setAjxRequesting(true);\r\n        service.details(data).then(res => {\r\n            setData(res.result?.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        let fd = new FormData();\r\n\r\n        for (const [key, value] of Object.entries(data)) {\r\n            fd.append(key, value);\r\n        }\r\n\r\n        fd.delete('image');\r\n        if (typeof imgRef.current.uploadingFiles !== 'undefined') {\r\n            fd.append('image', imgRef.current.uploadingFiles[0]);\r\n        }\r\n\r\n        service.save(fd).then((res) => {\r\n            AntdMsg(res.message);\r\n            callback();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                AntdMsg(err.message[Object.keys(err.message)[0]], 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list()\r\n    }, []);\r\n\r\n    const handleChange = (v, k) => {\r\n        setData({ ...data, [k]: v });\r\n    }\r\n    return (\r\n        <>\r\n            <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <div className=\"d-flex\">\r\n                    <div className=\"row w-100\">\r\n                        <div className=\"col-md-9\">\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Name :</span>\r\n                                <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                            </div>\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">username :</span>\r\n                                <Input value={data.username || ''} onChange={e => handleChange(e.target.value, 'username')} />\r\n                            </div>\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">email :</span>\r\n                                <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-3 my-3\">\r\n                            <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                        </div>\r\n                        <div className=\"row col-md-12\">\r\n                            <div className=\"col-md-6 d-flex my-3 \">\r\n                                <span className=\"w100 text-secondary text-bold\">Mobile :</span>\r\n                                <Input value={data.mobile || ''} onChange={e => handleChange(e.target.value, 'mobile')} />\r\n                            </div>\r\n                            <div className=\"col-md-6 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Gender :</span>\r\n                                <AntdSelect\r\n                                    options={[{ value: 'male', label: \"Male\" }, { value: 'female', label: \"Female\" }, { value: 'other', label: \"Other\" }]}\r\n                                    value={data.gender}\r\n                                    onChange={v => { handleChange(v, 'gender') }}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col-md-6 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">DOB :</span>\r\n                                <AntdDatepicker format=\"MMMM D, YYYY\" value={(data.dob || '') + ''} onChange={value => { handleChange(value, 'dob') }} />\r\n                            </div>\r\n                            <div className=\"col-md-12 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Address :</span>\r\n                                <Input.TextArea value={data.address || ''} onChange={e => handleChange(e.target.value, 'address')} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex mt-2\">\r\n                    <Button type=\"primary\" className=\"ml-auto w100\" onClick={save} disabled={ajxRequesting}>Save</Button>\r\n                </div>\r\n            </Spin>\r\n        </>\r\n    );\r\n}","export function If({cond, children}){\r\n    return cond ? children : <></>;\r\n}","import { Image, Divider, Button, Drawer, Space, Spin } from \"antd\";\r\nimport { forwardRef, useImperativeHandle, useRef, useState, useEffect } from 'react';\r\nimport service from \"../../../services/admin\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport { If } from \"../../../utils/controls\";\r\nimport moment from \"moment\";\r\n\r\nexport default function Profile() {\r\n    const [data, setData] = useState({});\r\n    const [loading, setLoading] = useState(true)\r\n    const drawerRef = useRef();\r\n\r\n    const list = (data) => {\r\n        setLoading(true);\r\n        service.details(data).then(res => {\r\n            setData(res.result?.data || {});\r\n            setLoading(false);\r\n            drawerRef.current.closeForm()\r\n        }).catch(err => {\r\n            setLoading(false);\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list()\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <EditProfileDrawer ref={drawerRef} {...{list}} />\r\n                <div className=\"p-2 d-flex w-100\">\r\n                    <div className=\"px-3\">\r\n                        <Image className=\"w200\" src={data.image?.url || ''} />\r\n                        <Button type=\"dashed\" className=\"w200\" onClick={() => { drawerRef.current.openForm() }}>Edit Profile</Button>\r\n                    </div>\r\n                    <div className=\"px-3 w-100\">\r\n                        <h5 className=\"text-secondary text-bold\">{data.name || ''} <span className=\"text-danger h6\">@{data.username || ''}</span></h5>\r\n                        <p className=\"text-info text-bold\">{data.user_type?.title || ''}</p>\r\n                        <Divider orientation=\"left\">Contact Info</Divider>\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Phone: </td>\r\n                                    <td className=\"text-info\">{data.mobile || ''}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Address: </td>\r\n                                    <td className=\"text-secondary\">{data.address || ''}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Email: </td>\r\n                                    <td className=\"text-info\">{data.email || ''}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <Divider orientation=\"left\">Basic Info</Divider>\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Birthday: </td>\r\n                                    <td className=\"text-info\">{moment(data.dob).format('MMMM D, YYYY')}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Gender: </td>\r\n                                    <td className=\"text-secondary\">{data.gender === 'male' ? 'Male' : data.gender === 'female' ? 'Female' : 'Other'}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </Spin>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst EditProfileDrawer = forwardRef((props, ref) => {\r\n    const {list} = props;\r\n    const [visible, setVisible] = useState(false);\r\n    useImperativeHandle(ref, () => ({\r\n        openForm() {\r\n            setVisible(true);\r\n        },\r\n        closeForm(){\r\n            setVisible(false);\r\n        }\r\n    }));\r\n    const onClose = () => {\r\n        setVisible(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Drawer\r\n                title=\"Update Profile\"\r\n                placement=\"right\"\r\n                width={700}\r\n                onClose={onClose}\r\n                visible={visible}\r\n                extra={\r\n                    <Space>\r\n                        <Button onClick={onClose}>Cancel</Button>\r\n                        <Button type=\"primary\" onClick={onClose}>\r\n                            OK\r\n                        </Button>\r\n                    </Space>\r\n                }\r\n            >\r\n                <If cond={visible}>\r\n                    <EditProfile {...{callback:list}} />\r\n                </If>\r\n            </Drawer>\r\n        </>\r\n    );\r\n});","import { Pagination, Tag } from 'antd';\r\nimport { If } from '../../utils/controls';\r\n\r\nexport default function MyPagination(props) {\r\n    const { sdata, handleSData, setSData } = props;\r\n    const handleChange = (page, pp) => {\r\n        handleSData(page, 'page');\r\n        if(sdata.limit !== pp){\r\n            setSData({...sdata, page: 1, limit: pp});\r\n        }\r\n    }\r\n    const showTotal = () =>{\r\n        let start = (sdata.page - 1) * sdata.limit * 1 + 1;\r\n        let end = sdata.page * sdata.limit;\r\n        return <Tag color=\"magenta\">{'Showing ' + start + ' - ' + end + ' out of ' + sdata.total}</Tag>\r\n    }\r\n    return (\r\n        <If cond={sdata.total > 0}>\r\n            <Pagination\r\n                total={sdata.total}\r\n                showTotal={showTotal}\r\n                pageSize={sdata.limit}\r\n                current={sdata.page}\r\n                onChange={handleChange}\r\n                showSizeChanger={true}\r\n            />\r\n        </If>\r\n    )\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Input, Button } from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport MyPagination from './Pagination';\r\nimport { AntdSelect } from '../../utils/Antd';\r\n\r\n\r\nexport default function MyTable(props) {\r\n    let { columns, data, parentSData, loading, formRef, list, filters, searchPlaceholder, addNew = true, addNewIcon = PlusOutlined, addNewText = 'Add New' } = props;\r\n    let [sdata, setSData] = useState({ ...parentSData });\r\n    const handleSData = (v, k) => {\r\n        if (k === 'key') {\r\n            sdata.page = 1;\r\n        }\r\n        setSData({ ...sdata, [k]: v });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (parentSData.total) {\r\n            handleSData(parentSData.total, 'total')\r\n        }\r\n    }, [parentSData.total]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (sdata.total) {\r\n            list(sdata);\r\n        }\r\n    }, [sdata.page, sdata.limit]);\r\n\r\n    data = data?.map((v, i) => { return { index: i + 1, key: i, ...v } })\r\n    columns = [{ title: 'S/N', dataIndex: 'index', width: 45 }, ...columns]\r\n\r\n    const state = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <><Search {...{ sdata, handleSData, formRef, list, filters, searchPlaceholder, addNew, addNewIcon, addNewText }} /></>,\r\n        showHeader: true,\r\n        footer: () => <MyPagination {...{ sdata, handleSData, setSData }} />,\r\n        scroll: undefined,\r\n        hasData: true,\r\n        tableLayout: undefined,\r\n        yScroll: 'calc(100vh - 316px)'\r\n    };\r\n\r\n    const { xScroll, yScroll } = state;\r\n    const scroll = {};\r\n    if (yScroll) {\r\n        scroll.y = yScroll;\r\n    }\r\n    if (xScroll) {\r\n        scroll.x = xScroll;\r\n    }\r\n    const tableColumns = columns.map(item => ({ ...item }));\r\n    if (xScroll === 'fixed') {\r\n        tableColumns[0].fixed = true;\r\n        tableColumns[tableColumns.length - 1].fixed = 'right';\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table\r\n                {...state}\r\n                pagination={{ position: ['none'], pageSize: sdata.limit }}\r\n                columns={tableColumns}\r\n                dataSource={state.hasData ? data : null}\r\n                scroll={scroll}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst Search = ({ sdata, handleSData, formRef, list, filters, searchPlaceholder, addNew, addNewIcon: AddNewIcon, addNewText }) => {\r\n    return <>\r\n        <div className=\"d-flex\">\r\n            {\r\n                typeof sdata.key !== 'undefined'\r\n                    ? <>\r\n                        <Input className=\"w200 mx-1\" allowClear placeholder={searchPlaceholder || \"Search\"} value={sdata.key || ''} onChange={(e) => { handleSData(e.target.value, 'key') }} />\r\n                        {\r\n                            typeof filters !== 'undefined'\r\n                                ? filters.map((v, i) => (\r\n                                    <React.Fragment key={i}>\r\n                                        {\r\n                                            v.type === 'dropdown'\r\n                                                ? <AntdSelect style={v.style} placeholder={v.placeholder || 'Select'} className={v?.className} allowClear={true} options={v.options} value={sdata?.[v.key] || undefined } onChange={value => { handleSData(value, v.key) }} />\r\n                                                : null\r\n                                        }\r\n                                    </React.Fragment>\r\n                                ))\r\n                                : null\r\n                        }\r\n                        <Button type=\"primary\" onClick={() => { list(sdata) }} >Search</Button>\r\n                    </>\r\n                    : null\r\n            }\r\n            {\r\n                addNew\r\n                    ? <Button type=\"primary\" className=\"ml-auto\">\r\n                        <span className=\"d-flex\" onClick={() => { formRef.current.openForm() }}>\r\n                            {<AddNewIcon className=\"my-auto mx-1\" />}\r\n                            {addNewText}\r\n                        </span>\r\n                    </Button>\r\n                    : null\r\n            }\r\n\r\n        </div>\r\n    </>\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class customer {\r\n\r\n    static baseURL = 'customer';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + '/list', { params: data, module });\r\n    }\r\n    static listAll(module) {\r\n        return axios.get(this.baseURL + \"/list/ALL\", { module });\r\n    }\r\n    static listAllIgnoreStatus(module) {\r\n        return axios.get(this.baseURL + \"/all/ignore-status\", { module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"/save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","import React, { forwardRef, useState } from 'react';\r\nimport { Upload, Modal, message } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    let { files } = props;\r\n    if(files.length){\r\n        files = files?.map((v, i) => {\r\n            // if ( v ) {\r\n                return { uid: i, url: v.url, status: 'done', name: v.name };\r\n            // }\r\n        });\r\n    } else{\r\n        files = [];\r\n    }\r\n\r\n    const fileRef = ref;\r\n    const [fileList, setFileList] = useState( files );\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(async() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            const base64 = await getBase64(file);\r\n            fileRef.current.uploadingFiles?.push({uid: file.uid, base64: base64});\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status ) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                multiple={fileCount > 1 ? true : false}\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e.name);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles?.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","import axios from \"../utils/axios\";\r\n\r\nexport default class sdt {\r\n    static baseURL = 'sdt/';\r\n\r\n    static listSdt(module) {\r\n        return axios.get(this.baseURL + 'sdt', { module });\r\n    }\r\n\r\n    static listState(data, module=\"viewState\") {\r\n        return axios.get(this.baseURL + 'state/list', { params: data, module });\r\n    }\r\n    static listAllState(data, module=\"viewState\") {\r\n        return axios.get(this.baseURL + 'state/list/ALL', { params: data, module });\r\n    }\r\n    static saveState(data, module) {\r\n        return axios.post(this.baseURL + \"state/save\", data, { module });\r\n    }\r\n    static deleteState(id, module) {\r\n        return axios.delete(`${this.baseURL}/state/delete/${id}`, { module });\r\n    }\r\n\r\n    static listDistrict(data, module=\"viewDistrict\") {\r\n        return axios.get(this.baseURL + 'district/list', { params: data, module });\r\n    }\r\n    static listAllDistrict(data, module=\"viewDistrict\") {\r\n        return axios.get(this.baseURL + 'district/list/ALL', { params: data, module });\r\n    }\r\n    static saveDistrict(data, module) {\r\n        return axios.post(this.baseURL + \"district/save\", data, { module });\r\n    }\r\n    static deleteDistrict(id, module) {\r\n        return axios.delete(`${this.baseURL}/district/delete/${id}`, { module });\r\n    }\r\n\r\n    static listTaluk(data, module=\"viewTaluk\") {\r\n        return axios.get(this.baseURL + 'taluk/list', { params: data, module });\r\n    }\r\n    static listAllTaluk(data, module=\"viewTaluk\") {\r\n        return axios.get(this.baseURL + 'taluk/list/ALL', { params: data, module });\r\n    }\r\n    static saveTaluk(data, module) {\r\n        return axios.post(this.baseURL + \"taluk/save\", data, { module });\r\n    }\r\n    static deleteTaluk(id, module) {\r\n        return axios.delete(`${this.baseURL}/taluk/delete/${id}`, { module });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/customer\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewCustomer'),\r\n    add: util.getModules('addCustomer'),\r\n    edit: util.getModules('editCustomer'),\r\n    delete: util.getModules('deleteCustomer'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Customer() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (id, row) => row.firstName + ' ' + row.lastName,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this admin?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Customer List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew11: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false)\r\n    const [visible, setVisible] = useState(false)\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt, } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt?._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Customer'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n})","import axios from \"../utils/axios\";\r\n\r\nexport default class onlyAdmin {\r\n    static baseURL = 'adm';\r\n\r\n    static listModules(data, module) {\r\n        return axios.get(this.baseURL + '/list-modules', { params: data, module });\r\n    }\r\n    static listModulesAll(data, module) {\r\n        return axios.get(this.baseURL + '/list-modules/ALL', { params: data, module });\r\n    }\r\n    static saveModule(data, module) {\r\n        return axios.post(this.baseURL + \"/save-module\", data, { module });\r\n    }\r\n    static deleteModule(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete-module/${id}`, { module });\r\n    }\r\n\r\n    static listAdminModules(data, module) {\r\n        return axios.get(this.baseURL + '/admin-modules', { params: data, module });\r\n    }\r\n\r\n    static saveAdminModules(data, module) {\r\n        return axios.post(this.baseURL + '/save-admin-modules', data, { module });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Modal, Tag, Spin } from \"antd\";\r\nimport { MultiChechBox } from \"../../../utils/Antd\";\r\nimport { EditOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport admService from \"../../../services/onlyAdmin\";\r\n\r\nexport default function AssignPermission() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [modules, setModules] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'User Type',\r\n            dataIndex: 'typeName',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Granted Modules',\r\n            dataIndex: 'grantedModuleTitles',\r\n            render: (data, row) => (\r\n                data.map((v, i) => {\r\n                    return <Tag color={\r\n                        i % 4 === 0\r\n                            ? 'blue'\r\n                            : i % 4 === 1\r\n                                ? 'gold'\r\n                                : i % 4 === 2\r\n                                    ? 'cyan'\r\n                                    : 'pink'\r\n                    } key={row.grantedModules[i]}>{v.title}</Tag>\r\n                })\r\n            )\r\n        },\r\n        {\r\n            title: 'Action',\r\n            key: 'action',\r\n            width: 60,\r\n            render: (text, row) => (\r\n                <>\r\n                    <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                        <span className=\"d-flex\">\r\n                            <EditOutlined />\r\n                        </span>\r\n                    </Button>\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        admService.listAdminModules(data).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        admService.listModulesAll().then(res => { setModules(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Customer List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew: false }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, modules }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, modules } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false)\r\n    const [visible, setVisible] = useState(false)\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        admService.saveAdminModules(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Add / Remove Modules'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset>\r\n                            <div className=\"row mingap\">\r\n                                <div>\r\n                                    <div className=\"col-md-12 form-group\">\r\n                                        <div className=\"d-flex mb-2\">\r\n                                            <Button size=\"small\" danger className=\"ml-auto mx-2\" onClick={() => { handleChange([], 'grantedModules') }}> Uncheck All Modules</Button>\r\n                                            <Button size=\"small\" type=\"primary\" onClick={() => { handleChange(modules?.map(v=>v?._id), 'grantedModules') }}> Check All Modules</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-12 form-group\">\r\n                                        <MultiChechBox options={modules?.map(v=>({_id: v.key, label: v.title}))} value={data.grantedModules} onChange={v => { (!v?.length || handleChange(v, 'grantedModules')) }} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n})","const config = {\r\n\tuserType: '',\r\n}\r\n\r\nexport default config;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useState, useEffect } from \"react\";\r\nimport { AntdSelect } from \"../../utils/Antd\";\r\nimport config from \"../../rdx\";\r\n\r\nexport function UserTypeSelect({ data: parData, handleChange, key = 'type' }) {\r\n    const [data, setData] = useState({ ...parData });\r\n    const options = config.userType === 'superAdmin'\r\n        ? [{ value: 'stateAdmin', label: \"State Admin\" }, { value: 'districtAdmin', label: \"District Admin\" }, { value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n        : config.userType === 'stateAdmin'\r\n            ? [{ value: 'districtAdmin', label: \"District Admin\" }, { value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n            : config.userType === 'talukAdmin'\r\n                ? [{ value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n                : [];\r\n\r\n    useEffect(() => {\r\n        setData({ ...parData });\r\n    }, [parData[key]]);\r\n\r\n    return (\r\n        <>\r\n            <AntdSelect\r\n                options={options}\r\n                value={data[key]}\r\n                onChange={v => { handleChange(v, key) }}\r\n            />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Divider } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/admin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport { UserTypeSelect } from \"../../components/ProComponent\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewUser'),\r\n    add: util.getModules('addUser'),\r\n    edit: util.getModules('editUser'),\r\n    delete: util.getModules('deleteUser'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Admin() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (id, row) => row.firstName + ' ' + row.lastName,\r\n        },\r\n        {\r\n            title: 'User Type',\r\n            dataIndex: 'type',\r\n            width: 150,\r\n            render: (text) =>\r\n                <Tag\r\n                    color={text === 'stateAdmin'\r\n                        ? 'geekblue'\r\n                        : text === 'districtAdmin'\r\n                            ? 'magenta'\r\n                            : text === 'talukAdmin'\r\n                                ? 'orange'\r\n                                : ''}\r\n                >\r\n                    {text === 'stateAdmin'\r\n                        ? 'State Admin'\r\n                        : text === 'districtAdmin'\r\n                            ? 'District Admin'\r\n                            : text === 'talukAdmin'\r\n                                ? 'Taluk Admin'\r\n                                : ''}\r\n                </Tag>\r\n\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this admin?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Admin List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n    const adharCardImgRef = useRef();\r\n    const panCardImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            adharCardImgRef.current = {};\r\n            panCardImgRef.current = {};\r\n\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.adharCardPhoto = adharCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.panCardPhoto = panCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state])\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts])\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state])\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' User'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Type</label>\r\n                                    <UserTypeSelect {...{ data, handleChange }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Document Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Number</label>\r\n                                    <Input value={data.adharNo || ''} onChange={e => handleChange(e.target.value, 'adharNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Card photo</label>\r\n                                    <UploadImage ref={adharCardImgRef} {...{ fileCount: 1, files: data.adharCardImage ? [data.adharCardImage] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan No.</label>\r\n                                    <Input value={data.panNo || ''} onChange={e => handleChange(e.target.value, 'panNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan Card photo</label>\r\n                                    <UploadImage ref={panCardImgRef} {...{ fileCount: 1, files: data.panCardImage ? [data.panCardImage] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Spin } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/onlyAdmin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\n\r\nexport default function Module() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            render: (text, row) => (\r\n                <>\r\n                    <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                        <span className=\"d-flex\">\r\n                            <EditOutlined />\r\n                        </span>\r\n                    </Button>\r\n                    <Button type=\"danger\" size=\"small\">\r\n                        <span className=\"d-flex\">\r\n                            <Popconfirm\r\n                                title=\"Are you sure to delete this module?\"\r\n                                onConfirm={() => deleteConfirm(row._id)}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <DeleteOutlined />\r\n                            </Popconfirm>\r\n                        </span>\r\n                    </Button>\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listModules(data).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteModule(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Module List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveModule(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Module'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\">\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Title</label>\r\n                                    <Input value={data.title || ''} onChange={e => handleChange(e.target.value, 'title')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(e.target.value, 'key')} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { forwardRef, useState, useEffect } from \"react\";\r\nimport { useHistory, } from \"react-router-dom\";\r\nimport { Tabs } from \"antd\";\r\nimport util from \"../../../utils/util\";\r\nimport Module from \"./Module\";\r\n\r\n\r\nconst components = [\r\n    { component: Module, name: 'Module', key: 'module' },\r\n];\r\n\r\n\r\nexport default function Tabstest() {\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Bank List</span>\r\n            </div> */}\r\n            <div className=\"m-21 border p-2\">\r\n                <Detail />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nconst Detail = forwardRef(() => {\r\n    const { TabPane } = Tabs;\r\n    const history = useHistory();\r\n    const [activeTab, setActiveTab] = useState(util.queryStringToJSON(history.location?.search)?.tab || components[0].key);\r\n\r\n    useEffect(() => {\r\n        history.push({ search: `?tab=${activeTab}` });\r\n        document.querySelector('.ant-tabs-content-holder').scrollTop = 0;\r\n    }, [activeTab]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Tabs activeKey={activeTab} className=\"border overflow-y-auto\" type=\"card\" size=\"small\" onChange={(v) => { setActiveTab(v) }} >\r\n                {\r\n                    components.map(v => (\r\n                        <TabPane tab={v.name} key={v.key}>\r\n                            {\r\n                                activeTab === v.key\r\n                                    ? <v.component />\r\n                                    : null\r\n                            }\r\n                        </TabPane>\r\n                    ))\r\n                }\r\n            </Tabs>\r\n        </>\r\n    );\r\n})","import axios from \"../utils/axios\";\r\n\r\nexport default class vehicle {\r\n    static baseURL = 'vehicle/';\r\n\r\n    static listColor(data, module) {\r\n        return axios.get(this.baseURL + 'color/list', { params: data, module });\r\n    }\r\n    static listAllColor(data, module) {\r\n        return axios.get(this.baseURL + 'color/list/ALL', { params: data, module });\r\n    }\r\n    static saveColor(data, module) {\r\n        return axios.post(this.baseURL + \"color/save\", data, { module });\r\n    }\r\n    static deleteColor(id, module) {\r\n        return axios.delete(`${this.baseURL}color/delete/${id}`, { module });\r\n    }\r\n\r\n    static listMake(data, module) {\r\n        return axios.get(this.baseURL + 'make/list', { params: data, module });\r\n    }\r\n    static listAllMake(data, module) {\r\n        return axios.get(this.baseURL + 'make/list/ALL', { params: data, module });\r\n    }\r\n    static saveMake(data, module) {\r\n        return axios.post(this.baseURL + \"make/save\", data, { module });\r\n    }\r\n    static deleteMake(id, module) {\r\n        return axios.delete(`${this.baseURL}make/delete/${id}`, { module });\r\n    }\r\n\r\n    static listMakeModel(data, module) {\r\n        return axios.get(this.baseURL + 'make-model/list', { params: data, module });\r\n    }\r\n    static listAllMakeModel(data, module) {\r\n        return axios.get(this.baseURL + 'make-model/list/ALL', { params: data, module });\r\n    }\r\n    static saveMakeModel(data, module) {\r\n        return axios.post(this.baseURL + \"make-model/save\", data, { module });\r\n    }\r\n    static deleteMakeModel(id, module) {\r\n        return axios.delete(`${this.baseURL}make-model/delete/${id}`, { module });\r\n    }\r\n\r\n    static listCategory(data, module) {\r\n        return axios.get(this.baseURL + 'category/list', { params: data, module });\r\n    }\r\n    static listAllCategory(data, module) {\r\n        return axios.get(this.baseURL + 'category/list/ALL', { params: data, module });\r\n    }\r\n    static saveCategory(data, module) {\r\n        return axios.post(this.baseURL + \"category/save\", data, { module });\r\n    }\r\n    static deleteCategory(id, module) {\r\n        return axios.delete(`${this.baseURL}category/delete/${id}`, { module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class common {\r\n    static baseURL = 'common';\r\n\r\n    static listServiceType() {\r\n        return axios.get(this.baseURL + '/list-service-type', { module: 'ignoreModule' });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Image } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport commonService from \"../../../services/common\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewVehicleCategory'),\r\n    add: util.getModules('addVehicleCategory'),\r\n    edit: util.getModules('editVehicleCategory'),\r\n    delete: util.getModules('deleteVehicleCategory'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Category() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => ( <Image height={30} preview={{mask: \"View\"}} src={v?.url} /> )\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceTypeDetails',\r\n            width: 100,\r\n            render: (data, row) => {\r\n                if(data?.key === 'cargo'){\r\n                    return <Tag color='cyan'>{data?.name}</Tag>\r\n                } else if(data?.key === 'taxi'){\r\n                    return <Tag color='purple'>{data?.name}</Tag>\r\n                } else {\r\n                    return <Tag>{data?.name}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this category?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listCategory(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteCategory(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceTypes\r\n            },\r\n        ]);\r\n    }, [serviceTypes]);\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Vehicle Category List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Slug', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'slug'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveCategory(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Vehicle Category'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect options={serviceTypes} value={data.serviceType} onChange={v => { handleChange(v, 'serviceType') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Slug</label>\r\n                                    <Input value={data.slug || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'slug')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class ride {\r\n    static baseURL = 'ride/';\r\n\r\n    static listRideType(data, module) {\r\n        return axios.get(this.baseURL + 'type/list', { params: data, module });\r\n    }\r\n    static listAllRideType(data, module) {\r\n        return axios.get(this.baseURL + 'type/list/ALL', { params: data, module });\r\n    }\r\n    static saveRideType(data, module) {\r\n        return axios.post(this.baseURL + \"type/save\", data, { module });\r\n    }\r\n    // static deleteRideType(id, module) {\r\n    //     return axios.delete(`${this.baseURL}type/delete/${id}`, { module });\r\n    // }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class driver {\r\n    static baseURL = 'driver/';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n    static listWalletHistory(data, module) {\r\n        return axios.get(this.baseURL + 'list/wallet-history', { params: data, module });\r\n    }\r\n\r\n    static listAllWalletHistory(data, module) {\r\n        return axios.get(this.baseURL + 'list/wallet-history/ALL', { params: data, module });\r\n    }\r\n\r\n    static saveWalletHistory(data, module) {\r\n        return axios.post(this.baseURL + \"save/wallet-history\", data, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/driver\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewWallet'),\r\n    add: util.getModules('addWallet'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\n\r\n\r\nexport default function Wallet({driverId}) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const filters = [\r\n        {\r\n            type: 'dropdown',\r\n            key: 'transactionMethod',\r\n            placeholder: 'Transction Method',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'byAdmin', title: \"By Admin\"}, {_id: \"paytm\", title: \"Paytm\"}]\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            key: 'transactionType',\r\n            placeholder: 'Transction Type',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'debit', title: \"Debit\"}, {_id: \"credit\", title: \"Credit\"}]\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            key: 'status',\r\n            placeholder: 'Status',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'pending', title: \"Pending\"}, {_id: \"failed\", title: \"Failed\"}, {_id: \"completed\", title: \"Completed\"}]\r\n        },\r\n    ];\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, driverId });\r\n    const columns = [\r\n        {\r\n            title: 'Transaction Id',\r\n            dataIndex: 'transactionId',\r\n            width: 150\r\n        },\r\n        {\r\n            title: 'Transaction Method',\r\n            dataIndex: 'transactionMethod',\r\n            width: 150,\r\n            render: transactionMethod => {\r\n                if (transactionMethod === 'byAdmin') {\r\n                    return <Tag color='magenta'>By Admin</Tag>\r\n                } else if(transactionMethod === 'paytm') {\r\n                    return <Tag color='yellow'>Paytm</Tag>\r\n                } else {\r\n                    return <Tag color=''>{transactionMethod}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Transaction Type',\r\n            dataIndex: 'transactionType',\r\n            width: 150,\r\n            render: transactionType => {\r\n                if (transactionType === 'credit') {\r\n                    return <Tag color='green'>Credit</Tag>\r\n                } else if(transactionType === 'debit') {\r\n                    return <Tag color='red'>Debit</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n            width: 150\r\n        },\r\n        {\r\n            title: 'Description',\r\n            dataIndex: 'description',\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: status => {\r\n                if (status === 'completed') {\r\n                    return <Tag color='green'>completed</Tag>\r\n                } else if(status === 'pending') {\r\n                    return <Tag color='yellow'>Pending</Tag>\r\n                } else if(status === 'failed') {\r\n                    return <Tag color='red'>Failed</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            width: 10,\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listWalletHistory(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Wallet History List</span>\r\n            </div> */}\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Transaction Id', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, driverId }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, driverId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ driverId });\r\n            handleVisible(true);\r\n            if (addAccess) {\r\n                setChangeForm(true);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveWalletHistory(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Add Wallet History'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Transaction Type</label>\r\n                                    <AntdSelect\r\n                                        options={[{ _id: 'debit', name: 'Debit' }, { _id: 'credit', name: 'Credit' }]}\r\n                                        value={data?.transactionType} onChange={v => { handleChange(v, 'transactionType') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Amount</label>\r\n                                    <Input value={data.amount || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'amount')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"\">Description</label>\r\n                                    <Input.TextArea value={data.description || ''} onChange={e => handleChange(e.target.value, 'description')} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class email {\r\n\r\n    static baseURL = 'email';\r\n\r\n    static listTeplates(data, module) {\r\n        return axios.get(this.baseURL + '/template/list', { params: data, module });\r\n    }\r\n    static listAllTeplates(module) {\r\n        return axios.get(this.baseURL + \"/template/list/ALL\", { module });\r\n    }\r\n    static saveTeplate(data, module) {\r\n        return axios.post(this.baseURL + \"/template/save\", data, { module });\r\n    }\r\n    static deleteTeplates(id, module) {\r\n        return axios.delete(`${this.baseURL}/template/delete/${id}`, { module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + '/list', { params: data, module });\r\n    }\r\n    static listAll(module) {\r\n        return axios.get(this.baseURL + \"/list/ALL\", { module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"/save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","import React, { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\n\r\nexport default function TinyMce(props) {\r\n    let { height = 400, menubar = false, plugins, toolbar, content_style, initialValue, onChange } = props;\r\n    if (!plugins) {\r\n        plugins = [\r\n            'advlist autolink lists link image charmap print preview anchor',\r\n            'searchreplace visualblocks code fullscreen',\r\n            'insertdatetime media table paste code help wordcount forecolor backcolor textcolor'\r\n        ];\r\n    }\r\n    if (!toolbar) {\r\n        // toolbar = 'undo redo | formatselect | bold italic backcolor | forecolor emoticons | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | image link | imageupload | fullscreen';\r\n        toolbar = 'undo redo | insert | styleselect | bold italic | fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | forecolor backcolor emoticons | bullist numlist outdent indent | link unlink | image responsivefilemanager table | removeformat code help | fullscreen'\r\n    }\r\n    if (!content_style) {\r\n        content_style = 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }';\r\n    }\r\n\r\n    const editorRef = useRef(null);\r\n    const editorContent = () => {\r\n        if (editorRef.current) {\r\n            onChange(editorRef.current.getContent())\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <Editor\r\n                onInit={(evt, editor) => editorRef.current = editor}\r\n                {...{ initialValue }}\r\n                init={{\r\n                    height, menubar, plugins, toolbar, content_style,\r\n\r\n                    file_browser_callback_types: 'image',\r\n                    file_picker_callback: function (cb, value, meta) {\r\n                        const input = document.createElement(\"input\");\r\n                        input.setAttribute(\"type\", \"file\");\r\n                        input.setAttribute(\"accept\", \"image/*\");\r\n                        input.onchange = function () {\r\n                            const file = this.files[0];\r\n                            const reader = new FileReader();\r\n                            reader.readAsDataURL(file);\r\n                            reader.onload = () => {cb(reader.result, {title: file.name});};\r\n                        };\r\n                        input.click();\r\n                    },\r\n                    deprecation_warnings: false\r\n                }}\r\n                onSelectionChange={editorContent}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Tooltip } from \"antd\";\r\nimport { LoadingOutlined, EyeOutlined, MailOutlined, SendOutlined, InfoOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/email\";\r\nimport customerService from \"../../../services/customer\";\r\nimport driverService from \"../../../services/driver\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\nimport adminService from \"../../../services/admin\";\r\nimport { AntdMsg, AntdSelect } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport TinyMce from \"../../components/TinyMce\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewSentEmail'),\r\n    add: util.getModules('sendEmail'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\n\r\n\r\nexport default function Email() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [templates, setTemplates] = useState([]);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [drivers, setDrivers] = useState([]);\r\n    const [admins, setAdmins] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Subject',\r\n            dataIndex: 'subject',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 60,\r\n            hidden: !addAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listTeplates(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllTeplates('viewEmailTemplate').then(res => {\r\n            setTemplates([...(res.result.data || []), { _id: 'custom', subject: 'Custom' }]);\r\n        }).catch(err => {\r\n            AntdMsg('Email templates are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        customerService.listAll('viewCustomer').then(res => {\r\n            setCustomers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Customers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        driverService.listAll({}, 'viewDriver').then(res => {\r\n            setDrivers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Drivers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        adminService.listAll({}, 'viewAdmin').then(res => {\r\n            setAdmins(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Admins are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Sent Email List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Title or Key', addNew: addAccess, addNewIcon: MailOutlined, addNewText: 'Compose Email' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, templates, sdt, customers, drivers, admins, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, templates, sdt, customers, drivers, admins, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [userSelectMode, setUserSelectMode] = useState('multiple');\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'manyCustomers') {\r\n            setAllUsers(customers.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'manyDrivers') {\r\n            setAllUsers(drivers.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk, serviceType: v?.vehicleDetails?.serviceType }\r\n            )) || []);\r\n        } else if (data.to === 'manyAdmins') {\r\n            setAllUsers(admins.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'custom') {\r\n            setAllUsers([]);\r\n        } else {\r\n            setAllUsers([]);\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => { setUsers(allUsers); }, [allUsers]);\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'custom') {\r\n            setUserSelectMode('tags');\r\n        } else {\r\n            setUserSelectMode('multiple');\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => {\r\n        handleChange(null, 'emailIds');\r\n    }, [users]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n    useEffect(() => { const newDistricts = sdt.find(v => v._id === data.state)?.districts || []; setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || []); }, [data.state]);\r\n    useEffect(() => { const newTaluks = districts?.find(v => v.value === data.district)?.taluks || []; setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } })); }, [data.district, districts]);\r\n    useEffect(() => { if (!checkDistrictExist()) { handleChange('', 'district'); } }, [data.state]);\r\n    useEffect(() => { if (!checkTalukExist()) { handleChange('', 'taluk'); } }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (data.taluk) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.taluk === data?.taluk && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.taluk === data?.taluk\r\n                }\r\n            }));\r\n        } else if (data.district) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.district === data?.district && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.district === data?.district;\r\n                }\r\n            }));\r\n        } else if (data.state) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.state === data?.state && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.state === data?.state;\r\n                }\r\n            }));\r\n        } else if (data.serviceType) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (v.serviceType) {\r\n                    return v.serviceType === data.serviceType;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }));\r\n        } else {\r\n            setUsers(allUsers);\r\n        }\r\n    }, [data.serviceType, data.state, data.district, data.taluk, allUsers]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Send Email'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText={<div className=\"d-flex\">Send <SendOutlined className=\"my-auto mx-1\" /></div>}\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Email Template</label>\r\n                                    <AntdSelect\r\n                                        options={templates.map(v => ({ _id: v._id, title: v.subject })) || []}\r\n                                        value={data.template}\r\n                                        onChange={v => { handleChange(v, 'template') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All States\"\r\n                                        allowClear\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Districts\"\r\n                                        allowClear\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Taluks\"\r\n                                        allowClear\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Send To</label>\r\n                                    <AntdSelect\r\n                                        options={[\r\n                                            { _id: 'manyCustomers', title: 'Many Customers' },\r\n                                            { _id: 'manyDrivers', title: 'Many Drivers' },\r\n                                            { _id: 'manyAdmins', title: 'Many Admins' },\r\n                                            { _id: 'allCustomers', title: 'All Customers' },\r\n                                            { _id: 'allDrivers', title: 'All Drivers' },\r\n                                            { _id: 'allAdmins', title: 'All Admins' },\r\n                                            { _id: 'custom', title: 'Custom' }\r\n                                        ]}\r\n                                        value={data.to}\r\n                                        onChange={v => { handleChange(v, 'to') }}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    ['manyDrivers', 'allDrivers'].includes(data.to)\r\n                                        ? <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Service Type</label>\r\n                                            <AntdSelect\r\n                                                allowClear\r\n                                                placeholder=\"All Service Types\"\r\n                                                options={serviceTypes || []}\r\n                                                value={data.serviceType}\r\n                                                onChange={v => { handleChange(v, 'serviceType') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    ['manyCustomers', 'manyDrivers', 'manyAdmins', 'custom'].includes(data.to)\r\n                                        ? <div className=\"col-md-12 form-group\">\r\n                                            <label className=\"req\">{data.to === 'custom' ? 'Enter Emails' : 'Select Users'}</label>\r\n                                            <AntdSelect\r\n                                                mode={userSelectMode}\r\n                                                placeholder={data.to === 'custom' ? 'Enter Emails' : 'Select Users'}\r\n                                                options={users || []}\r\n                                                value={data.emailIds}\r\n                                                onChange={v => { handleChange(v, 'emailIds') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n\r\n                                {\r\n                                    data.template === 'custom'\r\n                                        ? <>\r\n                                            <div></div>\r\n                                            <div className=\"col-md-12 form-group\">\r\n                                                <label className=\"req\">Subject</label>\r\n                                                <Input value={data.subject || ''} onChange={e => { handleChange(e.target.value, 'subject') }} />\r\n                                            </div>\r\n                                            <div className=\"col-md-12 form-group\">\r\n                                                <label className=\"req\">\r\n                                                    Template Design\r\n                                                    <Tooltip title={\r\n                                                        <table>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <td>First Name: </td>\r\n                                                                    <td>{`<%= firstName %>`}</td>\r\n                                                                </tr>\r\n                                                                <tr>\r\n                                                                    <td>Last Name: </td>\r\n                                                                    <td>{`<%= lastName %>`}</td>\r\n                                                                </tr>\r\n                                                                <tr>\r\n                                                                    <td>Email: </td>\r\n                                                                    <td>{`<%= email %>`}</td>\r\n                                                                </tr>\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    } color=\"cyan\">\r\n                                                        <Button size=\"small\" shape=\"circle\" icon={<InfoOutlined />} />\r\n                                                    </Tooltip>\r\n                                                </label>\r\n                                                <TinyMce {...{ height: 700 }} initialValue={data.html || ''} onChange={v => { handleChange(v, 'html', false) }} />\r\n                                            </div>\r\n                                        </>\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Divider } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/driver\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\n// import vehicleService from \"../../../services/vehicle\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\nimport Wallet from \"./Wallet\";\r\nimport {AddForm as SendEmail} from \"../email/Email\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDriver'),\r\n    add: util.getModules('addDriver'),\r\n    edit: util.getModules('editDriver'),\r\n    delete: util.getModules('deleteDriver'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Driver({ vehicleData, setVisible: setVisibleParent }) {\r\n\r\n    const [data, setData] = useState();\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    // const [vehicles, setVehicles] = useState([]);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [filters, setFilters] = useState([\r\n        {\r\n            type: 'dropdown',\r\n            key: 'isApproved',\r\n            className: \"w200 mx-1\",\r\n            placeholder: 'Approval Status',\r\n            options: [\r\n                { id: 0, name: 'Not Approved' },\r\n                { id: 1, name: 'Approved' },\r\n            ]\r\n        }\r\n    ]);\r\n\r\n    const formRef = useRef();\r\n    const walletModalRef = useRef();\r\n    const emailModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, vehicleId: vehicleData?._id });\r\n    const columns = [\r\n        {\r\n            title: 'Driver Id',\r\n            dataIndex: 'driverId',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (text, row) => (text + ' ' + row.lastName)\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Wallet',\r\n            dataIndex: 'walletDetails',\r\n            hidden: !util.getModules('viewWallet'),\r\n            width: 100,\r\n            render: (walletDetails, row) => (\r\n                <Button size=\"small\" type=\"primary\" className=\"mx-1\" onClick={() => { walletModalRef.current.openForm(row) }}>Wallet  ({walletDetails?.[0]?.amount})</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Approval Status',\r\n            dataIndex: 'isApproved',\r\n            width: 120,\r\n            render: isApproved => {\r\n                if (isApproved) {\r\n                    return <Tag color='green'>Approved</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Not Approved</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this driver?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (serviceType.length > 0) {\r\n            setFilters([...filters, {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            }]);\r\n        }\r\n    }, [serviceType]);\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        // vehicleService.listAll({}, 'viewVehicle').then(res => { setVehicles(res.result.data || []) });\r\n        commonService.listServiceType().then(res => { setServiceType(res.result.data); });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (vehicleData && typeof data === \"object\") {\r\n            formRef.current.openForm(data?.[0] ? data?.[0] : { vehicle: vehicleData._id, isActive: true, isApproved: false });\r\n        }\r\n    }, [data]);\r\n\r\n    return (\r\n        <>\r\n\r\n            {\r\n                !vehicleData\r\n                    ? <>\r\n                        <div className=\"page-description text-white p-2\" >\r\n                            <span>Driver List</span>\r\n                        </div>\r\n                        <div className=\"m-2 border p-2\">\r\n                            <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name or Driver Id', addNew: false }} />\r\n                        </div>\r\n                    </>\r\n                    : null\r\n            }\r\n            <AddForm ref={formRef} {...{ list, sdt, setVisibleParent, emailModalRef }} />\r\n            <WalletModal ref={walletModalRef} />\r\n            <EmailModal ref={emailModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nexport const AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, setVisibleParent, emailModalRef } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n    const licenceImgRef = useRef();\r\n    const adharCardImgRef = useRef();\r\n    const panCardImgRef = useRef();\r\n    const badgeImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n        if (setVisibleParent && !val) {\r\n            setVisibleParent(false);\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = {};\r\n            }\r\n            imgRef.current = {};\r\n            licenceImgRef.current = {};\r\n            adharCardImgRef.current = {};\r\n            panCardImgRef.current = {};\r\n            badgeImgRef.current = {};\r\n\r\n            dt.dob = moment(dt.dob).format('YYYY-MM-DD');\r\n            setData(dt ? { ...dt } : { isActive: true, isApproved: false });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.drivingLicencePhoto = licenceImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.adharCardPhoto = adharCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.panCardPhoto = panCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.badgePhoto = badgeImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Driver'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"sendEmail\" type=\"dashed\" onClick={()=>{emailModalRef.current.openForm(data)}}>Send Email</Button>,\r\n                    <Button key=\"cancel\" onClick={() => { handleVisible(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                {/* <div><Divider orientation=\"left\" className=\"text-danger\">Vehicle</Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle</label> */}\r\n                                {/* <AntdSelect options={vehicles} disabled value={data.vehicle} onChange={v => { handleChange(v, 'vehicle') }} /> */}\r\n                                {/* <Input value={data?.vehicleDetails?.name || ''} disabled />\r\n                                </div> */}\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Personal Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driver Id</label>\r\n                                    <Input value={data.driverId || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'driverId')} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Driving Licence Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driving Licence Number</label>\r\n                                    <Input value={data.drivingLicenceNumber || ''} onChange={e => handleChange(e.target.value, 'drivingLicenceNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driving Licence Number Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.drivingLicenceNumberExpiryDate || new Date()} onChange={value => { handleChange(value, 'drivingLicenceNumberExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Driving Licence photo</label>\r\n                                    <UploadImage ref={licenceImgRef} {...{ fileCount: 1, files: data.drivingLicenceImage ? [data.drivingLicenceImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Adhar Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Number</label>\r\n                                    <Input value={data.adharNo || ''} onChange={e => handleChange(e.target.value, 'adharNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Card photo</label>\r\n                                    <UploadImage ref={adharCardImgRef} {...{ fileCount: 1, files: data.adharCardImage ? [data.adharCardImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Pan Card Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan No.</label>\r\n                                    <Input value={data.panNo || ''} onChange={e => handleChange(e.target.value, 'panNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan Card photo</label>\r\n                                    <UploadImage ref={panCardImgRef} {...{ fileCount: 1, files: data.panCardImage ? [data.panCardImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Badge Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Badge No.</label>\r\n                                    <Input value={data.badgeNo || ''} onChange={e => handleChange(e.target.value, 'badgeNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Badge photo</label>\r\n                                    <UploadImage ref={badgeImgRef} {...{ fileCount: 1, files: data.badgeImage ? [data.badgeImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Status </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Approval Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Approved\" }, { value: false, label: \"Not Approved\" }]}\r\n                                        value={data.isApproved}\r\n                                        onChange={v => { handleChange(v, 'isApproved') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nexport const WalletModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Wallet History of <span className=\"text-danger\">{data.name}</span></>}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                footer={null}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Wallet driverId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nexport const EmailModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const formRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n            // formRef.current.openForm({outerData: {...data, to: 'manyDrivers', emailIds: [data._id]}});\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Send Email\"\r\n                style={{ top: 50 }}\r\n                visible={visible}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                footer={null}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                {/* <SendEmail ref={formRef} /> */}\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Image, Divider } from \"antd\";\r\nimport { AntdSelect, MultiChechBox, AntdDatepicker } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined, CheckCircleOutlined, CloseCircleOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport commonService from \"../../../services/common\";\r\nimport rideService from \"../../../services/ride\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\nimport Driver from \"../driver/Driver\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewVehicle'),\r\n    add: util.getModules('addVehicle'),\r\n    edit: util.getModules('editVehicle'),\r\n    delete: util.getModules('deleteVehicle'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Vehicle() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [rideTypes, setRideTypes] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const [makes, setMakes] = useState();\r\n    const [colors, setColors] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    const driverFormRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => (<Image height={30} preview={{ mask: \"View\" }} src={v?.url} />)\r\n        },\r\n        {\r\n            title: 'Vehicle Id',\r\n            dataIndex: 'vehicleId',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Vehicle Number',\r\n            dataIndex: 'vehicleNumber',\r\n            width: 120,\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Capacity',\r\n            dataIndex: 'availableCapacity',\r\n            width: 80,\r\n            render: (text, row) => {\r\n                if (text) {\r\n                    return text + \" Tons\";\r\n                } else {\r\n                    return row.availableSeats + \" Seats\";\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'Created At',\r\n            dataIndex: 'createdAt',\r\n            render: text => moment(text).format(\"MMMM D, YYYY\")\r\n        },\r\n        {\r\n            title: 'Driver',\r\n            dataIndex: '',\r\n            width: 120,\r\n            hidden: !util.getModules('viewDriver'),\r\n            render: (isActive, row) => {\r\n                return <Button size=\"small\" className=\"mx-1\" onClick={() => { driverFormRef.current.openForm(row) }}>\r\n                    <span className=\"d-flex\">\r\n                        <span>Driver</span>\r\n                        <span\r\n                            className={\"d-flex mx-1 \" + (\r\n                                ! row?.driverDetails\r\n                                    ? \"text-danger\"\r\n                                    : row?.driverDetails?.isApproved ? \"text-success\" : \"text-warning\"\r\n                            )}\r\n                        >\r\n                            {\r\n                                ! row?.driverDetails\r\n                                    ? <PlusCircleOutlined className=\"my-auto\" />\r\n                                    : row?.driverDetails?.isApproved\r\n                                        ? <CheckCircleOutlined className=\"my-auto\" />\r\n                                        : <CloseCircleOutlined className=\"my-auto\" />\r\n                            }\r\n\r\n                        </span>\r\n                    </span>\r\n                </Button>\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this vehicle?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res => { setServiceType(res.result.data); });\r\n        rideService.listAllRideType({}, 'viewRideType').then(res => { setRideTypes(res.result.data); });\r\n        service.listAllMake({ models: 1, active: 1, modelActive: 1 }, 'viewMake').then(res => { setMakes(res.result.data); });\r\n        service.listAllColor({}, 'viewColor').then(res => { setColors(res.result.data); });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            },\r\n            {\r\n                type: 'dropdown',\r\n                key: 'driverApproved',\r\n                placeholder: 'Driver Status',\r\n                className: \"w200 mx-1\",\r\n                options: [{ value: true, label: \"Approved\" }, { value: false, label: \"Not Approved\" }/* , { value: 'withoutDriver', label: \"Without Driver\" } */]\r\n            }\r\n        ]);\r\n    }, [serviceType]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Vehicle List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Vehicle id or Name or Number', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceType, rideTypes, makes, colors, sdt }} />\r\n            <AddFormDriver ref={driverFormRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceType, rideTypes: parRideTypes, makes, colors, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [rideTypes, setRideTypes] = useState([]);\r\n    const [vehicleCategories, setVehicleCategories] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [models, setModels] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const primaryImgRef = useRef();\r\n    const otherImgRef = useRef();\r\n    const registrationImgRef = useRef();\r\n    const insuranceImgRef = useRef();\r\n    const permitImgRef = useRef();\r\n    const pollutionImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = {};\r\n            }\r\n            primaryImgRef.current = {};\r\n            otherImgRef.current = {};\r\n            registrationImgRef.current = {};\r\n            insuranceImgRef.current = {};\r\n            permitImgRef.current = {};\r\n            pollutionImgRef.current = {};\r\n            dt.registrationExpiryDate = moment(dt.registrationExpiryDate).format('YYYY-MM-DD');\r\n            dt.insuranceExpiryDate = moment(dt.insuranceExpiryDate).format('YYYY-MM-DD');\r\n            dt.permitExpiryDate = moment(dt.permitExpiryDate).format('YYYY-MM-DD');\r\n            dt.pollutionExpiryDate = moment(dt.pollutionExpiryDate).format('YYYY-MM-DD');\r\n            setData(dt._id ? { ...dt } : { isActive: true, addedBy: 'admin', isApproved: false });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'slug'); }, [data.name]);\r\n    useEffect(() => {\r\n        const newRideTypes = parRideTypes?.filter(v => {\r\n            // if (v.serviceType._id === data.serviceType) {\r\n            //     return v.serviceType\r\n            // }\r\n            return v.serviceType._id === data.serviceType;\r\n        });\r\n\r\n        setRideTypes(newRideTypes || []);\r\n    }, [data.serviceType]);\r\n\r\n    useEffect(() => {\r\n        handleChange([], 'rideTypes');\r\n    }, [rideTypes]);\r\n\r\n    useEffect(() => {\r\n        let newVehicleCategories = parRideTypes?.filter(v => data.rideTypes?.includes(v._id));\r\n        newVehicleCategories = newVehicleCategories?.map(v => v.allowedVehicleCategoriesDetails)?.flat(1);\r\n        newVehicleCategories = newVehicleCategories?.filter((value, index, self) =>\r\n            index === self.findIndex((t) => t._id === value._id)\r\n        );\r\n\r\n        setVehicleCategories(newVehicleCategories);\r\n    }, [rideTypes, data.rideTypes]);\r\n\r\n    useEffect(() => {\r\n        const newModels = makes?.find(v => data.make === v._id)?.models || [];\r\n        setModels([...newModels]);\r\n    }, [data.make]);\r\n\r\n    useEffect(() => {\r\n        if (!models?.map(v => v._id)?.includes(data?.model)) {\r\n            handleChange('', 'model');\r\n        }\r\n    }, [models]);\r\n\r\n    useEffect(() => {\r\n        handleChange(\r\n            (makes?.find(v => v._id === data.make)?.name || '')\r\n            + \" - \" + (models?.find(v => v._id === data.model)?.name || '')\r\n            , 'name');\r\n    }, [data.make, data.model]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(vehicleCategories) && vehicleCategories.length > 0) {\r\n            const flagUpdate = vehicleCategories?.filter(v => v._id === data.vehicleCategory);\r\n            if (flagUpdate?.length === 0) { handleChange('', 'vehicleCategory'); }\r\n        }\r\n    }, [vehicleCategories]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.primaryPhoto = primaryImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.otherPhotos = otherImgRef?.current?.uploadingFiles?.map(v => v.base64);\r\n        data.registrationPhoto = registrationImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.insurancePhoto = insuranceImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.permitPhoto = permitImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.pollutionPhoto = pollutionImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.deletingFiles = otherImgRef?.current?.deletingFiles;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Vehicle'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Added By</label>\r\n                                    <AntdSelect\r\n                                        disabled\r\n                                        options={[{ value: 'admin', label: \"Admin\" }, { value: 'driver', label: \"Driver\" }]}\r\n                                        value={data.addedBy}\r\n                                        onChange={v => { handleChange(v, 'addedBy') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\"></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Approved</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Yes\" }, { value: false, label: \"No\" }]}\r\n                                        value={data.isApproved}\r\n                                        onChange={v => { handleChange(v, 'isApproved') }}\r\n                                    />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Vehicle Id</Divider></div>\r\n\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle Id</label>\r\n                                    <Input value={data.vehicleId || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'vehicleId')} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Service Type </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect options={serviceType} value={data.serviceType} onChange={v => { handleChange(v, 'serviceType') }} />\r\n                                </div>\r\n                                {\r\n                                    rideTypes?.length\r\n                                        ? <div className=\"col-md-6 form-group\">\r\n                                            <label className=\"req\">Ride Types</label>\r\n                                            <MultiChechBox options={rideTypes} {...{ col: 4 }} value={data.rideTypes} onChange={v => { (!v?.length || handleChange(v, 'rideTypes')) }} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n                                {\r\n                                    vehicleCategories?.length\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Vehicle Categories</label>\r\n                                            <AntdSelect options={vehicleCategories} value={data.vehicleCategory || ''} onChange={v => { handleChange(v, 'vehicleCategory') }} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Make Details </Divider></div>\r\n\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Make</label>\r\n                                    <AntdSelect options={makes || []} value={data.make || ''} onChange={v => { handleChange(v, 'make') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Model</label>\r\n                                    <AntdSelect options={models || []} value={data.model || ''} onChange={v => { handleChange(v, 'model') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Color</label>\r\n                                    <AntdSelect options={colors} value={data.color || ''} onChange={v => { handleChange(v, 'color') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Manufacturing Year</label>\r\n                                    <AntdDatepicker picker=\"year\" format=\"YYYY\" getFormat=\"YYYY\" disableUpcomingDate={true} value={data.manufacturingYear || new Date()} onChange={value => { handleChange(value, 'manufacturingYear') }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Basic Details</Divider></div>\r\n\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} disabled />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle Number</label>\r\n                                    <Input value={data.vehicleNumber || ''} onChange={e => handleChange(e.target.value, 'vehicleNumber')} />\r\n                                </div>\r\n                                {\r\n                                    serviceType?.find(v => v._id === data.serviceType)?.key === 'taxi'\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Available Seats</label>\r\n                                            <Input value={data.availableSeats || ''} onChange={e => handleChange(util.handleInteger(e.target.value, 2), 'availableSeats')} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    serviceType?.find(v => v._id === data.serviceType)?.key === 'cargo'\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Available Capacity (in tons)</label>\r\n                                            <Input value={data.availableCapacity || ''} onChange={e => handleChange(e.target.value, 'availableCapacity')} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                <div></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-2 form-group\">\r\n                                    <label className=\"req\">Primary Image</label>\r\n                                    <UploadImage ref={primaryImgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-10 form-group\">\r\n                                    <label className=\"req\">Images</label>\r\n                                    <UploadImage ref={otherImgRef} {...{ fileCount: 4, files: data.otherPhotos ? data.otherPhotos : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Registration</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Number</label>\r\n                                    <Input value={data.registrationNumber || ''} onChange={e => handleChange(e.target.value, 'registrationNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.registrationExpiryDate || new Date()} onChange={value => { handleChange(value, 'registrationExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Image</label>\r\n                                    <UploadImage ref={registrationImgRef} {...{ fileCount: 1, files: data.registrationImage ? [data.registrationImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Insurance</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Number</label>\r\n                                    <Input value={data.insuranceNumber || ''} onChange={e => handleChange(e.target.value, 'insuranceNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.insuranceExpiryDate || new Date()} onChange={value => { handleChange(value, 'insuranceExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Image</label>\r\n                                    <UploadImage ref={insuranceImgRef} {...{ fileCount: 1, files: data.insuranceImage ? [data.insuranceImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Permit</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Number</label>\r\n                                    <Input value={data.permitNumber || ''} onChange={e => handleChange(e.target.value, 'permitNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.permitExpiryDate || new Date()} onChange={value => { handleChange(value, 'permitExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Image</label>\r\n                                    <UploadImage ref={permitImgRef} {...{ fileCount: 1, files: data.permitImage ? [data.permitImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Pollution Certificate</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Number</label>\r\n                                    <Input value={data.pollutionNumber || ''} onChange={e => handleChange(e.target.value, 'pollutionNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.pollutionExpiryDate || new Date()} onChange={value => { handleChange(value, 'pollutionExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Image</label>\r\n                                    <UploadImage ref={pollutionImgRef} {...{ fileCount: 1, files: data.pollutionImage ? [data.pollutionImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddFormDriver = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt);\r\n            setVisible(true);\r\n        }\r\n    }));\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { setVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={200}\r\n                // bodyStyle={{display: \"none\"}}\r\n                closable={false}\r\n                footer={null}\r\n            >\r\n                <Spin spinning={true} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>Loading</Spin>\r\n                <Driver {...{ vehicleData: data, setVisible }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Tag, Spin, Image } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/ride\";\r\nimport { AntdMsg, MultiChechBox } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\nimport commonService from \"../../../services/common\";\r\nimport vehicleService from \"../../../services/vehicle\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewRideType'),\r\n    add: util.getModules('addRideType'),\r\n    edit: util.getModules('editRideType'),\r\n    delete: util.getModules('deleteRideType'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Type() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n    const [vehicleCategories, setVehicleCategories] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => (<Image height={30} preview={{ mask: \"View\" }} src={v?.url} />)\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Allowed Vehicle Categories',\r\n            dataIndex: 'allowedVehicleCategoriesDetails',\r\n            render: (data, row) => (\r\n                data.map((v, i) => {\r\n                    return <Tag color={\r\n                        i % 4 === 0\r\n                            ? 'blue'\r\n                            : i % 4 === 1\r\n                                ? 'gold'\r\n                                : i % 4 === 2\r\n                                    ? 'cyan'\r\n                                    : 'pink'\r\n                    } key={i}>{v.name}</Tag>\r\n                })\r\n            )\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceType',\r\n            width: 100,\r\n            render: serviceType => {\r\n                if (serviceType.key === 'cargo') {\r\n                    return <Tag color=\"magenta\">{serviceType.name}</Tag>\r\n                } else {\r\n                    return <Tag color=\"orange\">{serviceType.name}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 60,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({serviceType: sdata?.serviceType, ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({serviceType: sdata?.serviceType, ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {/* {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this ride type?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    } */}\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listRideType(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    // const deleteConfirm = (id) => {\r\n    //     service.deleteRideType(id, deleteAccess).then(res => {\r\n    //         AntdMsg(res.message);\r\n    //         list();\r\n    //     }).catch(err => {\r\n    //         AntdMsg(err.message, 'error');\r\n    //     })\r\n    // }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res=>{setServiceType(res.result.data);});\r\n        vehicleService.listAllCategory({}, 'viewVehicleCategory').then(res=>{setVehicleCategories(res.result.data);});\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            }\r\n        ]);\r\n    }, [serviceType]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Ride Type List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, filters, loading, formRef, list, searchPlaceholder: 'Name or Slug', addNew: false }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceType, vehicleCategories }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceType, vehicleCategories } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    // useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveRideType(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Ride Type'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect\r\n                                        options={serviceType}\r\n                                        value={data?.serviceType?._id}\r\n                                        disabled={data._id}\r\n                                        onChange={v => { /*handleChange(v, 'serviceType')*/ }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Vehicle Categories</label>\r\n                                    <MultiChechBox options={vehicleCategories} value={data.allowedVehicleCategories} onChange={v => { (!v?.length || handleChange(v, 'allowedVehicleCategories')) }} />\r\n\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewMake'),\r\n    add: util.getModules('addMake'),\r\n    edit: util.getModules('editMake'),\r\n    delete: util.getModules('deleteMake'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Make() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this make?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listMake(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteMake(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Make List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveMake(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Make'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'key')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewMakeModel'),\r\n    add: util.getModules('addMakeModel'),\r\n    edit: util.getModules('editMakeModel'),\r\n    delete: util.getModules('deleteMakeModel'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function MakeModel() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [makes, setMakes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Make',\r\n            dataIndex: 'makeDetails',\r\n            width: 200,\r\n            render: data =>  <Tag>{data.name}</Tag>,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this make model?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listMakeModel(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteMakeModel(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllMake().then(res=>{setMakes(res.result.data)});\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Make Model List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, makes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, makes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveMakeModel(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Make Model'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Make</label>\r\n                                    <AntdSelect options={makes} value={data.make} onChange={v => { handleChange(v, 'make') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'key')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewColor'),\r\n    add: util.getModules('addColor'),\r\n    edit: util.getModules('editColor'),\r\n    delete: util.getModules('deleteColor'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Color() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Color',\r\n            dataIndex: 'code',\r\n            width: 60,\r\n            render: data => <Tag style={{backgroundColor: data}}>&nbsp;</Tag>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this color?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listColor(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteColor(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Color List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Code', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveColor(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Color'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Code</label>\r\n                                    <Input type=\"color\" value={data.code || ''} onChange={e => handleChange((e.target.value), 'code')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class fare {\r\n    static baseURL = 'fare-management/';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Spin, Divider } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/fare\";\r\nimport commonService from \"../../../services/common\";\r\nimport rideService from \"../../../services/ride\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewFareManagement'),\r\n    add: util.getModules('addFareManagement'),\r\n    edit: util.getModules('addFareManagement'),\r\n    delete: util.getModules('deleteFareManagement'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function TaxiFareManagement({ activeServiceType = 'taxi' }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n    const [rideTypes, setRideTypes] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, serviceTypeKey: activeServiceType });\r\n    const columns = [\r\n        {\r\n            title: 'Fares',\r\n            dataIndex: '',\r\n            width: 200,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-success\">\r\n                                <td>Base Fare</td>\r\n                                <td>: {row.baseFare}</td>\r\n                            </tr>\r\n                            <tr className=\"text-primary\">\r\n                                <td>Booking Fare</td>\r\n                                <td>: {row.bookingFare}</td>\r\n                            </tr>\r\n                            <tr className=\"text-info\">\r\n                                <td>Per Minute Fare</td>\r\n                                <td>: {row.perMinuteFare}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Charges',\r\n            dataIndex: '',\r\n            width: 180,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-danger\">\r\n                                <td>Cancel Charge</td>\r\n                                <td>: {row.cancelCharge}</td>\r\n                            </tr>\r\n                            <tr className=\"text-warning\">\r\n                                <td>Waiting Charge</td>\r\n                                <td>: {row.waitingCharge}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Admin Comission',\r\n            dataIndex: '',\r\n            width: 180,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-secondary\">\r\n                                <td>Type</td>\r\n                                <td >: {row.adminCommissionType}</td>\r\n                            </tr>\r\n                            <tr className=\"text-primary\">\r\n                                <td>Value</td>\r\n                                <td>: {row.adminCommissionValue}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceTypeDetails',\r\n            width: 100,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Ride Type',\r\n            dataIndex: 'rideTypeDetails',\r\n            width: 120,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Vehicle Category',\r\n            dataIndex: 'vehicleCategoryDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this fare?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => setServiceTypes(res.result.data || []));\r\n        rideService.listAllRideType({}, 'viewRideType').then(res => setRideTypes(res.result.data || []));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const tempRT =rideTypes.filter(v => v.serviceType?.key === activeServiceType);\r\n        if(tempRT.length){\r\n            setFilters([...filters, {\r\n                type: 'dropdown',\r\n                key: 'rideType',\r\n                placeholder: 'Ride Type',\r\n                className: \"w200 mx-1\",\r\n                options: tempRT\r\n            }]);\r\n        }\r\n    }, [rideTypes]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Fare List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters,  parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Search', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt, activeServiceType, serviceTypes, rideTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, activeServiceType, serviceTypes, rideTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [activeRideTypes, setActiveRideTypes] = useState([]);\r\n    const [activeVehicleCategories, setActiveVehicleCategories] = useState([]);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = { isActive: true, serviceType: serviceTypes?.find(v => v.key === activeServiceType)?._id };\r\n                dt.perKMCharges = [{}];\r\n            }\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => {\r\n        let varDt = data;\r\n        let keys = k.split('.');\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (i + 1 === keys.length) {\r\n                varDt[keys[i]] = v;\r\n            } else {\r\n                if (typeof varDt[keys[i]] === 'undefined') {\r\n                    if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                        varDt[keys[i]] = [];\r\n                    } else {\r\n                        varDt[keys[i]] = {};\r\n                    }\r\n                } varDt = varDt[keys[i]];\r\n            }\r\n        }\r\n        setData({ ...data });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setActiveRideTypes(rideTypes.filter(v => v.serviceType?.key === activeServiceType));\r\n    }, [rideTypes]);\r\n\r\n    useEffect(() => {\r\n        const tempVC = activeRideTypes.find(v => v._id === data.rideType)?.allowedVehicleCategoriesDetails || [];\r\n        if (!tempVC.find(v => v._id === data.vehicleCategory)) {\r\n            handleChange('', 'vehicleCategory');\r\n        }\r\n        setActiveVehicleCategories(tempVC);\r\n    }, [data.rideType, activeRideTypes]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state])\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts])\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state])\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Fare Management'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={900}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect\r\n                                        options={serviceTypes}\r\n                                        value={data.serviceType}\r\n                                        onChange={v => { handleChange(v, 'serviceType') }}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Ride Type</label>\r\n                                    <AntdSelect\r\n                                        options={activeRideTypes}\r\n                                        value={data.rideType}\r\n                                        onChange={v => { handleChange(v, 'rideType') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Vehicle Category</label>\r\n                                    <AntdSelect\r\n                                        options={activeVehicleCategories}\r\n                                        value={data.vehicleCategory}\r\n                                        onChange={v => { handleChange(v, 'vehicleCategory') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Base Fare</label>\r\n                                    <Input value={data.baseFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'baseFare')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Booking Fare</label>\r\n                                    <Input value={data.bookingFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'bookingFare')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Per Minute Fare</label>\r\n                                    <Input value={data.perMinuteFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'perMinuteFare')} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Cancel Charge</label>\r\n                                    <Input value={data.cancelCharge || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'cancelCharge')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Waiting Charge(Per Minute)</label>\r\n                                    <Input value={data.waitingCharge || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'waitingCharge')} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Admin Commission Type</label>\r\n                                    <AntdSelect\r\n                                        options={[{ _id: 'flat', title: 'FLAT' }, { _id: 'percentage', title: 'PERCENTAGE' }]}\r\n                                        value={data.adminCommissionType}\r\n                                        onChange={v => { handleChange(v, 'adminCommissionType') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Admin Commission Value</label>\r\n                                    <Input value={data.adminCommissionValue || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'adminCommissionValue')} />\r\n                                </div>\r\n                                {\r\n                                    \r\n                                    [\"taxi-pickup-drop\", \"taxi-rentals\", \"cargo-daily-ride\", \"cargo-rentals\"].includes(activeRideTypes?.find(v => v._id === data.rideType)?.key)\r\n                                        ? <PerKMCharges {...{ perKMCharges: data.perKMCharges, handleChange }} />\r\n                                        : null\r\n                                }\r\n\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nfunction PerKMCharges({ perKMCharges: data, handleChange }) {\r\n\r\n    return (\r\n        <>\r\n            <div><Divider orientation=\"left\">Per KM Charge</Divider></div>\r\n            <div className=\"col-md-2 form-group\">\r\n                <label className=\"req\">Min KM</label>\r\n            </div>\r\n            <div className=\"col-md-2 form-group\">\r\n                <label className=\"req\">Max KM</label>\r\n            </div>\r\n            <div className=\"col-md-4 form-group\">\r\n                <label className=\"req\">Per KM Charge</label>\r\n            </div>\r\n            <div></div>\r\n            {\r\n                data?.map((v, i) => (\r\n                    <React.Fragment key={i}>\r\n                        <div className=\"col-md-2 form-group\">\r\n                            <Input placeholder=\"Min KM\" value={i === 0 ? 0 : (data[i - 1].maxKM)} disabled />\r\n                        </div>\r\n                        <div className=\"col-md-2 form-group\">\r\n                            <Input placeholder=\"Max KM\" value={v.maxKM || ''} onChange={(e) => { handleChange(util.handleInteger(e.target.value), `perKMCharges.${i}.maxKM`) }} />\r\n                        </div>\r\n                        <div className=\"col-md-4 form-group\">\r\n                            <Input placeholder=\"Per KM Charge\" value={v.charge || ''} onChange={(e) => { handleChange(util.handleFloat(e.target.value), `perKMCharges.${i}.charge`) }} />\r\n                        </div>\r\n                        <div className=\"col-md-4 form-group\">\r\n                            {\r\n                                i + 1 === data.length\r\n                                    ? <Button type=\"dashed\" onClick={() => {\r\n                                        if (v.maxKM && v.maxKM > (i === 0 ? 0 : (data[i - 1].maxKM)) && v.charge) {\r\n                                            handleChange([...data, {}], 'perKMCharges');\r\n                                        } else {\r\n                                            AntdMsg(`Max KM must be greater than ${i === 0 ? 0 : (data[i - 1].maxKM)} and Per KM charge is required`, 'error');\r\n                                        }\r\n                                    }}>Add</Button>\r\n                                    : null\r\n                            }\r\n                            {\r\n                                i + 1 === data.length && i !== 0\r\n                                    ? <Button type=\"dashed\" className=\"mx-2\" danger onClick={() => {\r\n                                        data.pop();\r\n                                        handleChange([...data], 'perKMCharges');\r\n                                    }}>Remove</Button>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </React.Fragment>\r\n                ))\r\n            }\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Popconfirm } from \"antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/email\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport TinyMce from \"../../components/TinyMce\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewEmailTemplate'),\r\n    add: util.getModules('addEmailTemplate'),\r\n    edit: util.getModules('editEmailTemplate'),\r\n    delete: util.getModules('deleteEmailTemplate'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Template() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Subject',\r\n            dataIndex: 'subject',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 100,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        row.deletable && deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this email template?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listTeplates(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteTeplates(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Email Template List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Title or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveTeplate(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => { !data.deletable || handleChange(util.removeSpecialChars(data.subject || ''), 'key'); }, [data.subject]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Email Template'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Subject</label>\r\n                                    <Input value={data.subject || ''} onChange={e => { handleChange(e.target.value, 'subject') }} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} disabled={!data.deletable} onChange={e => { !data.deletable || handleChange(util.removeSpecialChars(e.target.value), 'key') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Template Design</label>\r\n                                    <TinyMce {...{ height: 700 }} initialValue={data.html || ''} onChange={v => { handleChange(v, 'html', false) }} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class notification {\r\n    static baseURL = 'notification/';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Popconfirm } from \"antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined, DeleteOutlined, SendOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/notification\";\r\nimport customerService from \"../../../services/customer\";\r\nimport driverService from \"../../../services/driver\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\nimport adminService from \"../../../services/admin\";\r\nimport { AntdMsg, AntdSelect } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewNotification'),\r\n    add: util.getModules('addNotification'),\r\n    edit: util.getModules('editNotification'),\r\n    delete: util.getModules('deleteNotification'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Notification() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [drivers, setDrivers] = useState([]);\r\n    const [admins, setAdmins] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'To',\r\n            dataIndex: 'to',\r\n            width: 150,\r\n            render: (text) => {\r\n                if (text === 'manyCustomers') {\r\n                    return \"Many Customers\";\r\n                } else if (text === 'manyDrivers') {\r\n                    return \"Many Drivers\";\r\n                } else if (text === 'manyAdmins') {\r\n                    return \"Many Admins\";\r\n                } else if (text === 'allCustomers') {\r\n                    return \"All Customers\";\r\n                } else if (text === 'allDrivers') {\r\n                    return \"All Drivers\";\r\n                } else if (text === 'allAdmins') {\r\n                    return \"All Admins\";\r\n                } else {\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: 'Content',\r\n            dataIndex: 'content',\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 100,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this notification?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        customerService.listAll('viewCustomer').then(res => {\r\n            setCustomers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Customers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        driverService.listAll({}, 'viewDriver').then(res => {\r\n            setDrivers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Drivers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        adminService.listAll({}, 'viewAdmin').then(res => {\r\n            setAdmins(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Admins are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Notification List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Content', addNew: addAccess, addNewIcon: SendOutlined, addNewText: 'Send New' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt, customers, drivers, admins, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, customers, drivers, admins, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'manyCustomers' || data.to === 'allCustomers') {\r\n            setAllUsers(customers.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'manyDrivers' || data.to === 'allDrivers') {\r\n            setAllUsers(drivers.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk, serviceType: v?.vehicleDetails?.serviceType }\r\n            )) || []);\r\n        } else if (data.to === 'manyAdmins' || data.to === 'allAdmins') {\r\n            setAllUsers(admins.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else {\r\n            setAllUsers([]);\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => { setUsers(allUsers); }, [allUsers]);\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'allCustomers' || data.to === 'allDrivers' || data.to === 'allAdmins') {\r\n            const tempUserIds = users.map(v => v._id);\r\n            handleChange(tempUserIds, 'userIds');\r\n        } else {\r\n            handleChange(null, 'userIds');\r\n        }\r\n    }, [users]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n    useEffect(() => { const newDistricts = sdt.find(v => v._id === data.state)?.districts || []; setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || []); }, [data.state]);\r\n    useEffect(() => { const newTaluks = districts?.find(v => v.value === data.district)?.taluks || []; setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } })); }, [data.district, districts]);\r\n    useEffect(() => { if (!checkDistrictExist()) { handleChange(null, 'district'); } }, [data.state]);\r\n    useEffect(() => { if (!checkTalukExist()) { handleChange(null, 'taluk'); } }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (data.taluk) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.taluk === data?.taluk && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.taluk === data?.taluk\r\n                }\r\n            }));\r\n        } else if (data.district) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.district === data?.district && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.district === data?.district;\r\n                }\r\n            }));\r\n        } else if (data.state) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.state === data?.state && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.state === data?.state;\r\n                }\r\n            }));\r\n        } else if (data.serviceType) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (v.serviceType) {\r\n                    return v.serviceType === data.serviceType;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }));\r\n        } else {\r\n            setUsers(allUsers);\r\n        }\r\n    }, [data.serviceType, data.state, data.district, data.taluk, allUsers]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Send Notification'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText={<div className=\"d-flex\">Send <SendOutlined className=\"my-auto mx-1\" /></div>}\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All States\"\r\n                                        allowClear\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Districts\"\r\n                                        allowClear\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Taluks\"\r\n                                        allowClear\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Send To</label>\r\n                                    <AntdSelect\r\n                                        options={[\r\n                                            { _id: 'manyCustomers', title: 'Many Customers' },\r\n                                            { _id: 'manyDrivers', title: 'Many Drivers' },\r\n                                            { _id: 'manyAdmins', title: 'Many Admins' },\r\n                                            { _id: 'allCustomers', title: 'All Customers' },\r\n                                            { _id: 'allDrivers', title: 'All Drivers' },\r\n                                            { _id: 'allAdmins', title: 'All Admins' },\r\n                                        ]}\r\n                                        value={data.to}\r\n                                        onChange={v => { handleChange(v, 'to') }}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    ['manyDrivers', 'allDrivers'].includes(data.to)\r\n                                        ? <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Service Type</label>\r\n                                            <AntdSelect\r\n                                                allowClear\r\n                                                placeholder=\"All Service Types\"\r\n                                                options={serviceTypes || []}\r\n                                                value={data.serviceType}\r\n                                                onChange={v => { handleChange(v, 'serviceType') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    ['manyCustomers', 'manyDrivers', 'manyAdmins'].includes(data.to)\r\n                                        ? <div className=\"col-md-12 form-group\">\r\n                                            <label className=\"req\">Select Users</label>\r\n                                            <AntdSelect\r\n                                                mode={'multiple'}\r\n                                                placeholder={'Select Users'}\r\n                                                options={users || []}\r\n                                                value={data.userIds}\r\n                                                onChange={v => { handleChange(v, 'userIds') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Content</label>\r\n                                    <Input.TextArea value={data.content} onChange={e => { handleChange(e.target.value, 'content') }} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewTaluk'),\r\n    add: util.getModules('addTaluk'),\r\n    edit: util.getModules('editTaluk'),\r\n    delete: util.getModules('deleteTaluk'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Taluk({ districtId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, district: districtId });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this taluk?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listTaluk(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteTaluk(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllState().then(res => { setStates(res.result.data || []) });\r\n        service.listAllDistrict().then(res => { setDistricts(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !districtId\r\n                    ? <div className=\"page-description text-white p-2\" >\r\n                        <span>Taluk List</span>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, states, districts, districtId }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, states, districts: parentDistricts, districtId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if(dt){\r\n                // dt.state = parentDistricts.find(v => v._id === dt.district)?.state;\r\n            } else{\r\n                dt = {};\r\n                dt.isActive = true;\r\n                dt.state = parentDistricts.find(v => v._id === districtId)?.state;\r\n                dt.district = districtId;\r\n            }\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    useEffect(() => {\r\n        if (data.state) {\r\n            setDistricts(parentDistricts?.filter(v => v.state === data.state))\r\n        } else {\r\n            setDistricts([]);\r\n        }\r\n    }, [data.state]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveTaluk(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Taluk'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        disabled={districtId}\r\n                                        options={states || []}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        disabled={districtId}\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport Taluk from \"./Taluk\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDistrict'),\r\n    add: util.getModules('addDistrict'),\r\n    edit: util.getModules('editDistrict'),\r\n    delete: util.getModules('deleteDistrict'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function District({ stateId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [states, setStates] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    const talukModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, state: stateId });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Taluks',\r\n            dataIndex: 'name',\r\n            width: 100,\r\n            render: (text, row) => <Button size=\"small\" className=\"mx-1\" onClick={() => { talukModalRef.current.openForm(row) }}>Taluks</Button>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this district?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listDistrict(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteDistrict(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllState().then(res => { setStates(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !stateId\r\n                    ? <div className=\"page-description text-white p-2\" >\r\n                        <span>District List</span>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, states, stateId }} />\r\n            <TalukModal ref={talukModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, states, stateId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true, state: stateId });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveDistrict(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' District'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        disabled={stateId}\r\n                                        options={states || []}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst TalukModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Taluk list of <span className=\"text-danger\">{data.name}</span></> }\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                footer={null}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Taluk districtId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport District from \"./District\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewState'),\r\n    add: util.getModules('addState'),\r\n    edit: util.getModules('editState'),\r\n    delete: util.getModules('deleteState'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function State() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    const districtModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Districts',\r\n            dataIndex: 'name',\r\n            width: 100,\r\n            render: (text, row) => <Button size=\"small\" className=\"mx-1\" onClick={() => { districtModalRef.current.openForm(row) }}>Districts</Button>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: (!addAccess && !editAccess && !deleteAccess && !viewAccess) || !util.isSuperAdmin(),\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this state?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listState(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteState(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>State List</span>\r\n            </div>\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess && util.isSuperAdmin() }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n            <DistrictModal ref={districtModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveState(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' State'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst DistrictModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>District list of <span className=\"text-danger\">{data.name}</span></> }\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                footer={null}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <District stateId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }] */\r\nimport { DashboardOutlined, TeamOutlined, KeyOutlined, CarOutlined, MailOutlined, NotificationOutlined, EnvironmentOutlined } from '@ant-design/icons';\r\nimport { Avatar } from 'antd';\r\nimport Dashboard from './views/pages/Dashboard';\r\nimport Profile from './views/pages/user/Profile';\r\nimport Customer, { modules as customerModules } from './views/pages/customer/Customer';\r\nimport AssignPermission from './views/pages/roleAndPermissions/AssignPermission';\r\nimport User, { modules as userModules } from './views/pages/admin/User';\r\nimport TabsVehicle from './views/pages/tabs/Tabs';\r\nimport Category, {modules as categoryModules} from './views/pages/vehicle/Category';\r\nimport Vehicle, {modules as vehicleModules} from './views/pages/vehicle/Vehicle';\r\nimport Type, {modules as typeModules} from './views/pages/ride/Type';\r\nimport util from './utils/util';\r\nimport Driver, {modules as driverModules} from './views/pages/driver/Driver';\r\nimport Module from './views/pages/tabs/Module';\r\nimport Make, {modules as makeModules} from './views/pages/vehicle/Make';\r\nimport MakeModel, {modules as makeModelModules} from './views/pages/vehicle/MakeModel';\r\nimport Color, {modules as colorModules} from './views/pages/vehicle/Color';\r\nimport TaxiFareManagement, {modules as taxiFareManagementModules} from './views/pages/fare/TaxiFareManagement';\r\nimport Template, {modules as templateModules} from './views/pages/email/Template';\r\nimport Email, {modules as emailModules} from './views/pages/email/Email';\r\nimport Notification, {modules as notificationModules} from './views/pages/notification/Notification';\r\nimport State, {modules as stateModules} from './views/pages/sdt/State';\r\nimport District, {modules as districtModules} from './views/pages/sdt/District';\r\nimport Taluk, {modules as talukModules} from './views/pages/sdt/Taluk';\r\n\r\nconst allModules = util.getModules();\r\nconst isSuperAdmin = util.isSuperAdmin();\r\n\r\nArray.prototype.includesAny = function (arr = []) {\r\n    return this.some(function (element) {\r\n        return arr.includes(element);\r\n    });\r\n}\r\n\r\nconst routes = {\r\n    leftNav: [\r\n        { name: 'Dashboard', icon: () => <DashboardOutlined />, url: '/', component: Dashboard },\r\n        { name: 'Modules', icon: () => <DashboardOutlined />, url: '/modules', component: Module },\r\n        { name: 'Tabs', url: '/vehicles', icon: () => <CarOutlined />, component: TabsVehicle },\r\n        {\r\n            name: 'States, Districts & Taluks',\r\n            baseURL: '/sdt',\r\n            modules: [colorModules.view, makeModules.view, makeModelModules.view, categoryModules.view, vehicleModules.view ],\r\n            icon: () => <EnvironmentOutlined />,\r\n            subMenus: [\r\n                { name: 'States', url: '/states', component: State, modules: [stateModules.view] },\r\n                { name: 'Districts', url: '/districts', component: District, modules: [districtModules.view] },\r\n                { name: 'Taluks', url: '/taluks', component: Taluk, modules: [talukModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Vehicle',\r\n            baseURL: '/vehicle',\r\n            modules: [colorModules.view, makeModules.view, makeModelModules.view, categoryModules.view, vehicleModules.view ],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Color', url: '/color', component: Color, modules: [colorModules.view] },\r\n                { name: 'Make', url: '/make', component: Make, modules: [makeModules.view] },\r\n                { name: 'Make Model', url: '/make-model', component: MakeModel, modules: [makeModelModules.view] },\r\n                { name: 'Category', url: '/category', component: Category, modules: [categoryModules.view] },\r\n                { name: 'Vehicle', url: '/vehicle', component: Vehicle, modules: [vehicleModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Ride',\r\n            baseURL: '/ride',\r\n            modules: [typeModules.view],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Type', url: '/type', component: Type, modules: [typeModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Fare Management',\r\n            baseURL: '/fare-management',\r\n            modules: [taxiFareManagementModules.view],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Taxi Fare Management', url: '/taxi', component: TaxiFareManagement, modules: [taxiFareManagementModules.view] },\r\n                { name: 'Cargo Fare Management', url: '/cargo', component: ()=>{return TaxiFareManagement({activeServiceType: 'cargo'})}, modules: [taxiFareManagementModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        { name: 'Drivers', url: '/drivers', icon: () => <TeamOutlined />, component: Driver, modules: [driverModules.view] },\r\n        { name: 'Admins', url: '/users', icon: () => <TeamOutlined />, component: User, modules: [userModules.view] },\r\n        { name: 'Customers', url: '/customers', icon: () => <TeamOutlined />, component: Customer, modules: [customerModules.view] },\r\n        { name: 'User Permissions', url: '/user-permissions', icon: () => <KeyOutlined />, component: AssignPermission },\r\n        {\r\n            name: 'Email',\r\n            baseURL: '/email',\r\n            modules: [templateModules.view, emailModules.view],\r\n            icon: () => <MailOutlined />,\r\n            subMenus: [\r\n                { name: 'Template', url: '/template', component: Template, modules: [templateModules.view] },\r\n                { name: 'Email', url: '/email', component: Email, modules: [emailModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        { name: 'Notifications', url: '/notifications', icon: () => <NotificationOutlined />, component: Notification, modules: [notificationModules.view] },\r\n    ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n\r\n    topNav: [\r\n        {\r\n            name: 'Your Profile',\r\n            icon: () => <Avatar style={{ marginRight: 8 }} size={30} src=\"images/avatar-1.jpg\" />,\r\n            url: '/profile',\r\n            component: Profile\r\n        },\r\n    ]\r\n}\r\n\r\nexport default routes;","export default function Dashboard() {\r\n    return (\r\n        <>\r\n            <div style={{ height: '100vh' }}>\r\n                <div className=\"page-description text-white p-2\" >\r\n                    <span>Dashboard</span>\r\n                </div>\r\n                <h2 className=\"text-secondary\">Dashboard Comming Soon...</h2>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useState, Fragment } from 'react';\r\nimport { Menu } from 'antd';\r\nimport routes from '../../Route';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function Sider() {\r\n    let location = useLocation();\r\n    const [selectedKey, setSelectedKey] = useState(location.pathname);\r\n\r\n    const handleClick = e => {\r\n        setSelectedKey(e.key);\r\n    };\r\n\r\n    return (\r\n        <>\r\n             <Menu\r\n                onClick={handleClick}\r\n                style={{ width: 256 }}\r\n                defaultOpenKeys={['sub1']}\r\n                selectedKeys={selectedKey}\r\n                mode=\"inline\"\r\n                // theme=\"dark\"\r\n                id=\"left-menu-bar\"\r\n            >\r\n                {\r\n                    routes.leftNav.map((v, i) => (\r\n                        <Fragment key={i}>\r\n                            {v.subMenus?.length ?\r\n                                <SubMenu key={v.name.replace(/ /g, '')} icon={<v.icon />} title={v.name}>\r\n                                    {\r\n                                        v.subMenus.map((subMenu) => (\r\n                                            <Menu.Item key={subMenu.module || subMenu.url}>\r\n                                                <Link className=\"text-d-none\" to={(v.baseURL || '') + subMenu.url}>{subMenu.name}</Link>\r\n                                            </Menu.Item>\r\n                                        ))\r\n                                    }\r\n                                </SubMenu> :\r\n                                <Menu.Item key={v.url} icon={<v.icon />}>\r\n                                    <Link className=\"text-d-none\" to={v.url}>{v.name}</Link>    \r\n                                </Menu.Item>\r\n                            }\r\n                        </Fragment>\r\n                    ))\r\n                }\r\n            </Menu>\r\n        </>\r\n    )\r\n}","export function Sun() {\r\n    return (\r\n        <svg focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n            <rect fill=\"none\" height=\"24\" width=\"24\"></rect>\r\n            <path d=\"M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function Moon() {\r\n    return (\r\n        <svg focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n            <rect fill=\"none\" height=\"24\" width=\"24\"></rect>\r\n            <path fill=\"white\" d=\"M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, Fragment } from 'react';\r\nimport { Menu, Image } from 'antd';\r\nimport routes from '../../Route';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { PoweroffOutlined, MenuOutlined } from '@ant-design/icons';\r\nimport util from '../../utils/util';\r\nimport { Moon, Sun } from '../components/svgIcons';\r\nimport { If } from '../../utils/controls';\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function Sider() {\r\n    const location = useLocation();\r\n\r\n    const [selectedKey, setSelectedKey] = useState(location.pathname);\r\n    const [theme, setTheme] = useState(typeof util.getTheme === 'undefined' ? util.setTheme('light') : util.getTheme());\r\n\r\n    const handleClick = e => {\r\n        setSelectedKey(e.key);\r\n    };\r\n\r\n    const handleTheme = ($theme) => {\r\n        setTheme($theme);\r\n        util.setTheme($theme);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Menu\r\n                onClick={handleClick}\r\n                selectedKeys={selectedKey}\r\n                mode=\"horizontal\"\r\n            // theme=\"dark\"\r\n            >\r\n                <Menu.Item id=\"menu-bar-logo\" className='d-flex' key=\"mail\" style={{ width: 256 }}>\r\n                    <Image preview={false} style={{ height: '24px', width: '36px' }} src=\"images/logo-thumb.png\" />\r\n                </Menu.Item>\r\n                <Menu.Item key=\"menu\" className=\"mr-auto\" onClick={() => {\r\n                    document.querySelector('#left-menu-bar')?.classList?.toggle('d-none')\r\n                    document.querySelector('#menu-bar-logo')?.classList?.toggle('d-none')\r\n                }}>\r\n                    <MenuOutlined />\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"light\" icon={\r\n                    <>\r\n                        <If cond={theme === 'light'}>\r\n                            <Sun />\r\n                        </If>\r\n                        <If cond={theme === 'dark'}>\r\n                            <Moon />\r\n                        </If>\r\n                    </>\r\n                }\r\n                    onClick={() => {\r\n                        handleTheme(theme === 'light' ? 'dark' : 'light')\r\n                    }\r\n                    }>\r\n                </Menu.Item>\r\n\r\n                {\r\n                    routes.topNav.map((v, i) => (\r\n                        <Fragment key={i}>\r\n                            {v.subMenus?.length ?\r\n                                <SubMenu key={v.name.replace(/ /g, '')} icon={<v.icon />} title={v.name}>\r\n                                    {\r\n                                        v.subMenus.map((subMenu) => (\r\n                                            <Menu.Item key={subMenu.url}>\r\n                                                <Link className=\"text-d-none\" to={(v.baseURL || '') + subMenu.url}>{subMenu.name}</Link>\r\n                                            </Menu.Item>\r\n                                        ))\r\n                                    }\r\n                                </SubMenu> :\r\n                                <Menu.Item key={v.url} icon={<v.icon />}>\r\n                                    <Link className=\"text-d-none\" to={v.url}>{v.name}</Link>\r\n                                </Menu.Item>\r\n                            }\r\n                        </Fragment>\r\n                    ))\r\n                }\r\n                <Menu.Item key=\"logout\" icon={<PoweroffOutlined />} onClick={() => { util.logout() }}>\r\n                    Logout\r\n                </Menu.Item>\r\n\r\n            </Menu>\r\n        </>\r\n    )\r\n}","import { Result, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\"><Button type=\"primary\">Back Home</Button></Link>}\r\n        />\r\n    );\r\n}\r\n\r\n","import Leftnav from \"./Leftnav\";\r\nimport Topnav from \"./Topnav\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport routes from \"../../Route\";\r\nimport Error404 from \"../pages/errors/Error404\";\r\nexport default function layout() {\r\n    return (\r\n        <>\r\n            <Topnav />\r\n            <div className=\"d-flex\">\r\n                <div className=\"nav-overflow\">\r\n                    <Leftnav />\r\n                </div>\r\n                <div className=\"content-data\">\r\n                    <Switch>\r\n                        {\r\n                            routes.leftNav.map((v, i) => (\r\n                                v.subMenus?.length ?\r\n                                    v.subMenus.map((subMenu) => (\r\n                                        <Route key={subMenu.module || subMenu.url} exact={true} path={v.baseURL + subMenu.url}><subMenu.component /></Route>\r\n                                    )) :\r\n                                    <Route key={v.module || v.url} exact={true} path={v.url}><v.component /></Route>\r\n                            ))\r\n                        }\r\n                        {\r\n                            routes.topNav.map((v, i) => (\r\n                                v.subMenus?.length ?\r\n                                    v.subMenus.map((subMenu) => (\r\n                                        <Route key={subMenu.module || subMenu.url} exact={true} path={v.baseURL + subMenu.url}><subMenu.component /></Route>\r\n                                    )) :\r\n                                    <Route key={v.module || v.url} exact={true} path={v.url}><v.component /></Route>\r\n                            ))\r\n                        }\r\n                        <Route path=\"*\">\r\n                            <Error404 />\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class auth{\r\n    static login(data){\r\n        return axios.post(\"user/login\", data, {module: 'ignoreModule'});\r\n    }\r\n    static validateToken(data){\r\n        return axios.post(\"user/validate-token\", data, {module: 'ignoreModule'});\r\n    }\r\n}","import { Input, Button, Spin } from 'antd';\r\nimport { UserOutlined, LockOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\nimport auth from '../services/auth';\r\nimport { AntdMsg } from '../utils/Antd';\r\nimport util from '../utils/util';\r\n\r\nexport default function Login() {\r\n    const [userName, setUserName] = useState('superadmin@test.com');\r\n    const [password, setPassword] = useState('123456');\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [passwordVisible, setPasswordVisible] = useState(false);\r\n\r\n    const login = () => {\r\n        setAjxRequesting(true);\r\n\r\n        auth.login({ email: userName, password: password }).then(res => {\r\n            AntdMsg(res.message);\r\n            util.setUserData(res.data);\r\n            window.location.reload();\r\n        }).catch((err) => {\r\n            if (typeof err.message !== 'string') {\r\n                AntdMsg(err.message[Object.keys(err.message)[0]][0], 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error')\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n            <div className=\"d-flex h100vh bg-light1\">\r\n                <div className=\"w280 mx-auto mt-5 border p-4 bg-white1 h280\">\r\n                    <form onSubmit={e => { e.preventDefault(); login() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <h5 className=\"text-secondary text-center\">Cargo Admin Panel</h5>\r\n                        <div className=\"ant-image w-100 mb-3\">\r\n                            <img className=\"ant-image-img w60 h40 mx-auto\" src=\"images/logo-thumb.png\" alt=\"Logo\" />\r\n                        </div>\r\n                        <Input className=\"mb-2\"\r\n                            prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                            value={userName}\r\n                            onChange={(e) => { setUserName(e.target.value) }}\r\n                            placeholder=\"Username\" />\r\n                        <Input className=\"mb-2\"\r\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            value={password}\r\n                            onChange={(e) => { setPassword(e.target.value) }}\r\n                            type={!passwordVisible ? \"password\" : \"text\"}\r\n                            suffix={<Button type=\"text\" shape=\"circle\" icon={<EyeOutlined />} onClick={() => setPasswordVisible(!passwordVisible)} />}\r\n                            placeholder=\"Password\" />\r\n                        <Button className=\"login-form-button w-100\" type=\"primary\" htmlType=\"submit\" onClick={login}>Log in</Button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    );\r\n};","import './App.css';\r\nimport { useEffect, useState, createContext } from 'react';\r\nimport Layout from './views/layouts/Layout';\r\nimport Login from './views/Login';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { If } from './utils/controls';\r\nimport util from './utils/util';\r\nimport auth from './services/auth';\r\nimport config from './rdx';\r\n\r\nexport const IsSuperAdminContext = createContext();\r\n\r\nfunction App() {\r\n\tconst [isLoggedin, setIsLoggedin] = useState(util.isLogged());\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tauth.validateToken().then(res => {\r\n\t\t\tsetIsLoggedin(true);\r\n\t\t\tconfig.userType = res.type;\r\n\t\t}).catch(err => {\r\n\t\t\tsetIsLoggedin(false);\r\n\t\t\twindow.localStorage.clear();\r\n\t\t})\r\n\t}, [])\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BrowserRouter basename=\"/cargo/admin/build\">\r\n\t\t\t\t<If cond={isLoggedin}>\r\n\t\t\t\t\t<Layout />\r\n\t\t\t\t</If>\r\n\t\t\t\t<If cond={!isLoggedin}>\r\n\t\t\t\t\t<Login />\r\n\t\t\t\t</If>\r\n\t\t\t</BrowserRouter>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import 'antd/dist/antd.min.css';\r\n// import 'antd/dist/antd.dark.min.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport util from './utils/util';\r\n// import Test from './views/components/Test';\r\n\r\n(async () => {\r\n  if (util.getTheme() === 'dark') {\r\n    await util.setTheme('dark');\r\n  } else {\r\n    await util.setTheme('light');\r\n  }\r\n  ReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n  );\r\n})();\r\n\r\n\r\n// ReactDOM.render(\r\n//     <Test />,\r\n//   document.getElementById('root')\r\n// );\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}