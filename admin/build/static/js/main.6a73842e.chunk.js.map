{"version":3,"sources":["utils/util.js","utils/axios.js","services/admin.js","utils/Antd.js","views/pages/user/EditProfile.js","utils/controls.js","views/pages/user/Profile.js","views/components/Pagination.js","views/components/MyTable.js","services/customer.js","views/components/UploadImage.js","services/sdt.js","views/pages/customer/Customer.js","services/onlyAdmin.js","views/pages/roleAndPermissions/AssignPermission.js","rdx.js","views/components/ProComponent.js","views/pages/admin/User.js","views/pages/tabs/Module.js","views/pages/tabs/Tabs.js","services/vehicle.js","services/common.js","views/pages/vehicle/Category.js","services/ride.js","services/driver.js","services/email.js","views/pages/driver/Wallet.js","views/components/TinyMce.js","views/pages/email/Email.js","views/pages/driver/Onoff.js","views/pages/driver/Logins.js","views/pages/driver/Driver.js","views/pages/vehicle/Vehicle.js","views/pages/ride/Type.js","views/pages/vehicle/Make.js","views/pages/vehicle/MakeModel.js","views/pages/vehicle/Color.js","services/fare.js","views/pages/fare/TaxiFareManagement.js","views/pages/email/Template.js","services/notification.js","views/pages/notification/Notification.js","views/pages/sdt/Taluk.js","views/pages/sdt/District.js","views/pages/sdt/State.js","views/pages/fare/Package.js","Route.js","views/pages/Dashboard.js","views/layouts/Leftnav.js","views/components/svgIcons.js","views/layouts/Topnav.js","views/pages/errors/Error404.js","views/layouts/Layout.js","services/auth.js","views/Login.js","App.js","reportWebVitals.js","index.js"],"names":["util","setUserData","data","window","localStorage","clear","setItem","accessToken","refreshToken","modules","userType","getUserData","$key","JSON","parse","getToken","isLogged","logout","e","preventDefault","location","reload","key","split","includes","$theme","stylesheets","light","dark","link","document","createElement","rel","id","href","head","appendChild","setTimeout","getElementById","remove","theme","toLowerCase","replace","$str","$len","num","substring","value","maxValue","newValue","match","offset","all","indexOf","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","qs","search","slice","charAt","pairs","forEach","p","pair","decodeURIComponent","Object","prototype","toString","call","push","stringify","allModules","getModules","isSuperAdmin","axiosInstance","axios","create","baseURL","hostname","interceptors","request","use","config","module","headers","authorization","Error","response","message","errors","Array","isArray","msg","profile","post","this","params","get","delete","AntdSelect","props","placeholder","options","sort","defaultValue","rest","length","ops","v","_id","label","title","name","a","b","localeCompare","style","width","undefined","filterOption","input","option","AntdDatepicker","format","getFormat","inputReadOnly","onChange","disablePastDate","disableUpcomingDate","otherProps","moment","Date","dt","useEffect","disabledDate","current","customDate","MultiChechBox","col","type","useState","values","setValues","setOptions","handleChange","val","target","checked","splice","map","opts","i","join","className","AntdMsg","$msg","$type","success","warning","getBase64","UploadImage","forwardRef","ref","fileCount","fileRef","files","setFileList","uid","url","status","fileList","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","handlePreview","preview","originFileObj","lastIndexOf","uploadButton","PlusOutlined","marginTop","listType","customRequest","onSuccess","uploadingFiles","onPreview","newFileList","beforeUpload","onRemove","deletingFiles","thumbUrl","filter","visible","footer","onCancel","alt","src","EditProfile","callback","ajxRequesting","setAjxRequesting","setData","imgRef","useRef","service","details","then","res","catch","err","finally","list","k","spinning","indicator","LoadingOutlined","fontSize","spin","username","email","image","mobile","gender","dob","TextArea","address","onClick","fd","FormData","entries","append","save","keys","disabled","If","cond","children","EditProfileDrawer","setVisible","useImperativeHandle","openForm","closeForm","onClose","placement","extra","MyPagination","sdata","handleSData","setSData","csvData","total","showTotal","start","page","limit","end","color","pageSize","pp","showSizeChanger","size","MyTable","columns","parentSData","loading","formRef","filters","searchPlaceholder","addNew","addNewIcon","addNewText","allowSearch","allowDefaultSearch","index","dataIndex","state","bordered","showHeader","scroll","hasData","tableLayout","yScroll","xScroll","y","x","tableColumns","item","fixed","pagination","position","dataSource","Search","AddNewIcon","allowClear","Fragment","mode","console","log","customer","base64","multiple","sdt","view","add","edit","viewAccess","addAccess","editAccess","deleteAccess","AddForm","districts","setDistricts","taluks","setTaluks","changeForm","setChangeForm","handleVisible","isActive","photo","newDistricts","find","newTaluks","district","checkDistrictExist","taluk","checkTalukExist","top","okText","onOk","okButtonProps","display","destroyOnClose","maskClosable","onSubmit","autoComplete","spellCheck","firstName","lastName","phoneNo","handleInteger","password","zipcode","onlyAdmin","admService","saveAdminModules","danger","grantedModules","UserTypeSelect","parData","adharCardImgRef","panCardImgRef","adharCardPhoto","panCardPhoto","orientation","adharNo","adharCardImage","panNo","panCardImage","Module","setLoading","render","text","row","EditOutlined","onConfirm","deleteConfirm","cancelText","DeleteOutlined","hidden","listModules","deleteModule","saveModule","components","component","Detail","TabPane","Tabs","history","useHistory","queryStringToJSON","tab","activeTab","setActiveTab","querySelector","scrollTop","activeKey","vehicle","common","serviceTypes","removeSpecialChars","saveCategory","serviceType","slug","ride","driver","Wallet","driverId","transactionMethod","transactionType","listWalletHistory","saveWalletHistory","amount","description","TinyMce","height","menubar","plugins","toolbar","content_style","initialValue","editorRef","onInit","evt","editor","init","file_browser_callback_types","file_picker_callback","cb","meta","setAttribute","onchange","click","deprecation_warnings","onSelectionChange","getContent","templates","customers","drivers","admins","allUsers","setAllUsers","users","setUsers","userSelectMode","setUserSelectMode","outerCall","setOuterCall","outerData","deletable","updateState","to","vehicleDetails","SendOutlined","subject","emailTemplate","emailIds","shape","icon","InfoOutlined","html","Onoff","loginId","calendar","listOnOff","Logins","onoffModalRef","walletDetails","listLogins","OnoffModal","Driver","vehicleData","setVisibleParent","setCsvData","setSdt","setServiceType","setTemplates","states","setStates","setFilters","walletModalRef","emailModalRef","loginsModalRef","vehicleId","ratingCount","isApproved","EyeOutlined","sdtService","listSdt","emailService","listAllTeplates","commonService","listServiceType","stateDetails","districtDetails","talukDetails","drivingLicenceNumber","drivingLicenceNumberExpiryDate","badgeNo","WalletModal","LoginsModal","licenceImgRef","badgeImgRef","drivingLicencePhoto","badgePhoto","userName","drivingLicenceImage","badgeImage","parRideTypes","rideTypes","makes","colors","setRideTypes","vehicleCategories","setVehicleCategories","models","setModels","primaryImgRef","otherImgRef","registrationImgRef","insuranceImgRef","permitImgRef","pollutionImgRef","registrationExpiryDate","insuranceExpiryDate","permitExpiryDate","pollutionExpiryDate","addedBy","newRideTypes","newVehicleCategories","allowedVehicleCategoriesDetails","flat","self","findIndex","t","newModels","make","model","flagUpdate","vehicleCategory","primaryPhoto","otherPhotos","registrationPhoto","insurancePhoto","permitPhoto","pollutionPhoto","picker","manufacturingYear","vehicleNumber","availableSeats","availableCapacity","registrationNumber","registrationImage","insuranceNumber","insuranceImage","permitNumber","permitImage","pollutionNumber","pollutionImage","AddFormDriver","closable","saveRideType","allowedVehicleCategories","saveMake","saveMakeModel","code","saveColor","fare","TaxiFareManagement","activeServiceType","setServiceTypes","packages","setPackages","serviceTypeKey","baseFare","bookingFare","rideTypeDetails","extraPerMinuteCharge","perMinuteFare","cancelCharge","waitingCharge","adminCommissionType","adminCommissionValue","rideService","listAllRideType","listPackageAll","tempRT","activeRideTypes","setActiveRideTypes","activeVehicleCategories","setActiveVehicleCategories","perKMCharges","extraPerKMCharges","varDt","parseInt","tempVC","rideType","serviceTypeDetails","package","handleFloat","PerKMCharges","parentKay","maxKM","charge","pop","saveTeplate","notification","tempUserIds","userIds","content","Taluk","districtId","listTaluk","deleteTaluk","listAllState","listAllDistrict","parentDistricts","saveTaluk","District","stateId","talukModalRef","listDistrict","deleteDistrict","TalukModal","saveDistrict","saveState","DistrictModal","savePackage","distance","time","includesAny","arr","some","element","routes","leftNav","DashboardOutlined","CarOutlined","colorModules","makeModules","makeModelModules","categoryModules","vehicleModules","EnvironmentOutlined","subMenus","districtModalRef","listState","deleteState","stateModules","districtModules","talukModules","backgroundColor","listColor","deleteColor","listMake","deleteMake","setMakes","listMakeModel","deleteMakeModel","listAllMake","mask","listCategory","deleteCategory","setColors","driverFormRef","driverDetails","CheckCircleOutlined","CloseCircleOutlined","PlusCircleOutlined","active","modelActive","listAllColor","typeModules","listRideType","vehicleService","listAllCategory","taxiFareManagementModules","listPackage","deletePackage","packageModules","TeamOutlined","driverModules","userModules","addNew11","customerModules","KeyOutlined","setModules","listAdminModules","listModulesAll","templateModules","emailModules","MailOutlined","listTeplates","deleteTeplates","setCustomers","setDrivers","setAdmins","customerService","listAll","driverService","adminService","NotificationOutlined","notificationModules","topNav","marginRight","drawerRef","user_type","SubMenu","Menu","Sider","useLocation","pathname","selectedKey","setSelectedKey","defaultOpenKeys","selectedKeys","subMenu","Item","Sun","focusable","xmlns","enableBackground","viewBox","fill","d","Moon","getTheme","setTheme","classList","toggle","MenuOutlined","PoweroffOutlined","Error404","subTitle","layout","exact","path","auth","Login","setUserName","setPassword","passwordVisible","setPasswordVisible","login","prefix","UserOutlined","LockOutlined","suffix","htmlType","App","isLoggedin","setIsLoggedin","validateToken","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"static/js/main.6a73842e.chunk.js","sourcesContent":["/* eslint-disable */\r\n\r\nclass util {\r\n    setUserData = (data) => {\r\n        window.localStorage.clear();\r\n        window.localStorage.setItem('authorization', data.accessToken);\r\n        window.localStorage.setItem('refreshToken', data.refreshToken);\r\n        window.localStorage.setItem('modules', data.modules);\r\n        window.localStorage.setItem('userType', data.userType);\r\n    }\r\n    getUserData = ($key) => {\r\n        if ($key) {\r\n            return JSON.parse(window.localStorage['user'])[$key];\r\n        } else {\r\n            return JSON.parse(window.localStorage['user']);\r\n        }\r\n    }\r\n    getToken = () => {\r\n        return window.localStorage['authorization'] || '';\r\n    }\r\n    isLogged = () => {\r\n        if (typeof window.localStorage['authorization'] !== \"undefined\" && window.localStorage['authorization'] !== '') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    logout = (e) => {\r\n        if (e) e.preventDefault();\r\n        window.localStorage.clear();\r\n        window.location.reload();\r\n    }\r\n    getModules(key=null) {\r\n        if(key){\r\n            if((window.localStorage['modules'] || '').split(',').includes(key) || window.localStorage['userType'] === 'superAdmin'){\r\n                return key;\r\n            }\r\n            return null;\r\n        }\r\n        return (window.localStorage['modules'] || '').split(',');\r\n    }\r\n\r\n    isSuperAdmin(){\r\n        return window.localStorage['userType'] === 'superAdmin' ? true : false;\r\n    }\r\n    isStateAdmin(){\r\n        return window.localStorage['userType'] === 'stateAdmin' ? true : false;\r\n    }\r\n    isDistrictAdmin(){\r\n        return window.localStorage['userType'] === 'districtAdmin' ? true : false;\r\n    }\r\n    isTalukAdmin(){\r\n        return window.localStorage['userType'] === 'talukAdmin' ? true : false;\r\n    }\r\n\r\n    setTheme($theme = 'light') {\r\n        window.localStorage.setItem('theme', $theme);\r\n\r\n        const stylesheets = {\r\n            light: \"./css/antd.min.css\",\r\n            dark: \"./css/antd.dark.min.css\",\r\n        }\r\n\r\n        const link = document.createElement(\"link\");\r\n        link.rel = \"stylesheet\";\r\n        link.id = \"antd-stylesheet-\" + $theme;\r\n        link.href = stylesheets[$theme];\r\n        document.head.appendChild(link);\r\n\r\n        setTimeout(() => {\r\n            if ($theme === 'light') {\r\n                document.getElementById(\"antd-stylesheet-dark\")?.remove();\r\n            }\r\n            if ($theme === 'dark') {\r\n                document.getElementById(\"antd-stylesheet-light\")?.remove();\r\n            }\r\n        }, 500);\r\n        return $theme;\r\n    }\r\n    getTheme() {\r\n        return window.localStorage?.theme;\r\n    }\r\n    removeSpecialChars(key) {\r\n        return key.toLowerCase().replace(/[^a-z0-9 _-]/g, '').replace(/\\s+/g, '-').replace(/-+/g, '-');\r\n    }\r\n    handleInteger($str, $len = 10) {\r\n        let num = $str?.replace(/[^0-9]/g, '');\r\n        return $len ? num?.substring(0, $len) : num;\r\n    }\r\n    handleFloat(value, maxValue) {\r\n        value = value.replace(/[^0-9.]/g, '')\r\n        let newValue = value.replace(/[\\.\\%]/g, function (match, offset, all) {\r\n            return match === \".\" ? (all.indexOf(\".\") === offset ? '.' : '') : '';\r\n        })\r\n        if (maxValue) {\r\n            if (newValue * 1 > maxValue * 1) {\r\n                newValue = maxValue\r\n            }\r\n        }\r\n        return newValue\r\n    }\r\n    toBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n    queryStringToJSON(qs) {\r\n        qs = qs || window.location.search.slice(1);\r\n        if(qs.charAt(0) === '?'){\r\n            qs = qs.slice(1);\r\n        }\r\n    \r\n        var pairs = qs.split('&');\r\n        var result = {};\r\n        pairs.forEach(function(p) {\r\n            var pair = p.split('=');\r\n            var key = pair[0];\r\n            var value = decodeURIComponent(pair[1] || '');\r\n            if( result[key] ) {\r\n                if( Object.prototype.toString.call( result[key] ) === '[object Array]' ) {\r\n                    result[key].push( value );\r\n                } else {\r\n                    result[key] = [ result[key], value ];\r\n                }\r\n            } else {\r\n                result[key] = value;\r\n            }\r\n        });\r\n    \r\n        return JSON.parse(JSON.stringify(result));\r\n    };\r\n}\r\n\r\nexport default new util();","import axios from \"axios\";\r\nimport util from \"./util\";\r\n\r\nconst allModules = util.getModules();\r\nconst isSuperAdmin = util.isSuperAdmin();\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: window.location.hostname !== 'localhost'\r\n        ? 'http://65.0.236.48:3003/admin/'\r\n        : 'http://localhost:3003/admin/'\r\n});\r\n\r\naxiosInstance.interceptors.request.use(\r\n    (config) => {\r\n        if (isSuperAdmin || config.module === 'ignoreModule' || allModules.includes(config.module)) {\r\n            config.headers.authorization = 'Bearer ' + util.getToken();\r\n            return config;\r\n        } else {\r\n            return Promise.reject(new Error('Unauthorized'));\r\n        }\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n    (response) => {\r\n        return response.data;\r\n    },\r\n    (error) => {\r\n        let response = {};\r\n        if (typeof error.response !== 'undefined') {\r\n            response = error.response?.data;\r\n            if (!response?.message) {\r\n                response.message = error.message\r\n            }\r\n            if (response.errors && Array.isArray(response.errors)) {\r\n                response.message = response.errors[0].msg;\r\n            }\r\n        } else {\r\n            response.message = error.message\r\n        }\r\n        return Promise.reject(response);\r\n    }\r\n);\r\n\r\nexport default axiosInstance;","import axios from \"../utils/axios\";\r\n\r\nexport default class profile {\r\n    static baseURL = 'user/';\r\n    static details(data, module) {\r\n        return axios.post(this.baseURL + \"profile/details\", { params: data, module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState, forwardRef } from 'react';\r\nimport moment from 'moment';\r\nimport {\r\n    Select,\r\n    DatePicker,\r\n    Pagination,\r\n    Tag,\r\n    Checkbox,\r\n    message,\r\n    Upload,\r\n    Modal,\r\n} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nexport function AntdSelect(props) {\r\n    let {\r\n        placeholder,\r\n        options,\r\n        value,\r\n        sort,\r\n        defaultValue,\r\n        ...rest\r\n    } = props;\r\n\r\n    if (!options.length > 0) {\r\n        value = defaultValue;\r\n    }\r\n\r\n    if ((value && typeof value !== \"object\") || typeof value === 'boolean') {\r\n        value = value + '';\r\n    }\r\n\r\n    if (typeof options !== \"object\") {\r\n        options = [];\r\n    }\r\n    // if (typeof options[0] !== \"object\") {\r\n    //     let ops = [...options];\r\n    //     options = [];\r\n    //     for (let ind in ops) {\r\n    // options.push({ value: ops[ind], label: ops[ind] });\r\n    //     }\r\n    // }\r\n    if (typeof options[0]?.value === \"undefined\") {\r\n        let ops = [...options];\r\n        options = [];\r\n        ops.forEach(v => {\r\n            options.push({ value: v.id || v._id, label: v.title || v.name });\r\n        })\r\n    }\r\n\r\n    options.forEach(v => {\r\n        v.value += '';\r\n        v.label += '';\r\n    })\r\n\r\n    if (sort) {\r\n        options.sort((a, b) => {\r\n            return ('' + a.label).localeCompare(b.label);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={placeholder || \"Select\"}\r\n                options={options}\r\n                value={(value !== null && typeof value !== \"undefined\") ? (value) : undefined}\r\n                filterOption={\r\n                    (input, option) => {\r\n                        return option?.label?.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                    }\r\n                }\r\n\r\n                {...rest}\r\n            >\r\n            </Select>\r\n        </>\r\n    )\r\n}\r\n\r\nexport function AntdDatepicker(props) {\r\n    let {\r\n        format,\r\n        getFormat = 'YYYY-MM-DD',\r\n        inputReadOnly,\r\n        value,\r\n        defaultValue,\r\n        onChange,\r\n        disablePastDate = false,\r\n        disableUpcomingDate = false,\r\n        ...rest\r\n    } = props;\r\n\r\n\r\n    let otherProps = {};\r\n    if (typeof value !== \"undefined\") {\r\n        // otherProps.value = moment(value).format(format || 'DD MMM YYYY') ? moment(new Date(value)) : null\r\n        otherProps.value = moment(new Date(value ? value : new Date()), format || 'DD MMM YYYY');\r\n    }\r\n    if (typeof defaultValue !== \"undefined\") {\r\n        otherProps.defaultValue = defaultValue ? moment(new Date(defaultValue)) : null\r\n    }\r\n    if (typeof onChange !== \"undefined\") {\r\n        otherProps.onChange = (dt) => {\r\n            onChange(dt ? moment(dt).format(getFormat) : null);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        onChange(moment(value).format(getFormat))\r\n    }, [])\r\n\r\n    return (\r\n        <DatePicker\r\n            format={format || 'DD MMM YYYY'}\r\n            inputReadOnly={inputReadOnly || true}\r\n            disabledDate={(current) => {\r\n                let customDate = moment().format(\"YYYY-MM-DD\");\r\n                if (disablePastDate) {\r\n                    return current && current < moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n                if (disableUpcomingDate) {\r\n                    return current && current > moment(customDate, \"YYYY-MM-DD\");\r\n                }\r\n            }}\r\n            {...otherProps}\r\n            {...rest}\r\n            style={{ width: '100%' }}\r\n        />\r\n    )\r\n}\r\n\r\nexport function AntdPaging(props) {\r\n    let { onChange, total, pageSize, ...rest } = props;\r\n    let jumpOn1st = false;\r\n    const handlePaseSizeChange = (n, ps) => {\r\n        jumpOn1st = true;\r\n    }\r\n\r\n    const handleOnChange = (n, ps) => {\r\n        onChange(jumpOn1st ? 1 : n, ps);\r\n        jumpOn1st = false;\r\n    }\r\n\r\n    return (\r\n        <Pagination\r\n            defaultCurrent={1}\r\n            total={total}\r\n            defaultPageSize={pageSize || 25}\r\n            pageSizeOptions={[10, 20, 25, 50, 100]}\r\n            onChange={handleOnChange}\r\n            onShowSizeChange={handlePaseSizeChange}\r\n            {...rest}\r\n        />\r\n    )\r\n}\r\n\r\nexport function AntdTag(props) {\r\n    const { type, ...rest } = props;\r\n    const [tagType, setTagType] = React.useState(type);\r\n    const types = {\r\n        danger: '#ff4d4f',\r\n        info: '#2db7f5',\r\n        success: '#87d068',\r\n        primary: '#108ee9',\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setTagType(type);\r\n    }, [type]);\r\n\r\n    return (\r\n        <Tag color={types[tagType]} {...rest}>{props.children}</Tag>\r\n    )\r\n}\r\n\r\nexport function AntdCheckbox(props) {\r\n    const { onChange, value, children } = props;\r\n    return (\r\n        <div className=\"w-100 border p-1\">\r\n            <Checkbox className=\"w-100 req\" checked={value === '1' ? true : false}\r\n                onChange={(e) => { onChange(e.target.checked ? '1' : '0') }} >{children}</Checkbox>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport function MultiChechBox(props) {\r\n    const { col = 3 } = props;\r\n    const type = typeof props.value === 'object' ? 'array' : 'string';\r\n\r\n    let [values, setValues] = useState();\r\n    let [options, setOptions] = useState([]);\r\n\r\n    const handleChange = (e) => {\r\n        const val = typeof e.target.value * 1 !== 'NaN' ? e.target.value + '' : e.target.value * 1;\r\n        if (e.target.checked) {\r\n            values.push(val)\r\n            setValues([...values]);\r\n        } else {\r\n            if (values.indexOf(val) > -1) {\r\n                values.splice(values.indexOf(val), 1);\r\n                setValues([...values])\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (type === 'string') {\r\n            values = props.value ? props.value.split(',').map((v) => v * 1) : [];\r\n            setValues([...values]);\r\n        } else {\r\n            setValues([...props.value]);\r\n        }\r\n    }, [props.value]);\r\n\r\n    useEffect(() => {\r\n        let opts = props.options.map((v, i) => {\r\n            if (v.value) {\r\n                return { value: v.value * 1, label: v.label }\r\n            } else if (v.id) {\r\n                return { value: v.id * 1, label: v.name || v.title || v.label }\r\n            } else if (v._id) {\r\n                return { value: v._id + '', label: v.name || v.title || v.label }\r\n            }\r\n            return null;\r\n        });\r\n        setOptions(opts);\r\n    }, [props.options]);\r\n\r\n    useEffect(() => {\r\n        // if (type === 'string') {\r\n        //     props.onChange(values?.join());\r\n        // } else {\r\n        props.onChange(values)\r\n        // }\r\n    }, [(values || []).join(\",\")])\r\n\r\n    return (\r\n        <div className=\"row mingap\" >\r\n            {\r\n                options.map((v, i) => (\r\n                    <div className={`col-md-${col} mb-2 form-group`} key={i}>\r\n                        <div className=\"border p-1\">\r\n                            <Checkbox\r\n                                value={typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1}\r\n                                checked={values?.includes(typeof v.value * 1 !== 'NaN' ? v.value + '' : v.value * 1)}\r\n                                onChange={handleChange}\r\n                                className=\"mx-0 mr15\"\r\n                            >\r\n                                {v.label}\r\n                            </Checkbox>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport function AntdMsg($msg, $type = 'success') {\r\n    if ($msg) {\r\n        if ($type === 'success')\r\n            message.success($msg);\r\n        if ($type === 'error')\r\n            message.error($msg);\r\n        if ($type === 'warning')\r\n            message.warning($msg);\r\n    }\r\n};\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    const fileRef = ref;\r\n    let { files } = props;\r\n    useEffect(() => {\r\n        setFileList(files)\r\n    }, [files])\r\n\r\n    if (files.length) {\r\n        files = files?.map((v, i) => {\r\n            return { uid: i, url: v.url, status: 'done', name: v.name };\r\n        });\r\n    } else {\r\n        files = [];\r\n    }\r\n\r\n\r\n    const [fileList, setFileList] = useState(files);\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            fileRef.current.uploadingFiles?.push(file);\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","import { useState, useEffect, useRef } from \"react\";\r\nimport { Button, Input, Spin } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/admin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage, { AntdSelect, AntdDatepicker } from \"../../../utils/Antd\";\r\n\r\nexport default function EditProfile(props) {\r\n    const {callback} = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [data, setData] = useState({});\r\n    let imgRef = useRef([]);\r\n\r\n    const list = (data) => {\r\n        setAjxRequesting(true);\r\n        service.details(data).then(res => {\r\n            setData(res.result?.data || {});\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        let fd = new FormData();\r\n\r\n        for (const [key, value] of Object.entries(data)) {\r\n            fd.append(key, value);\r\n        }\r\n\r\n        fd.delete('image');\r\n        if (typeof imgRef.current.uploadingFiles !== 'undefined') {\r\n            fd.append('image', imgRef.current.uploadingFiles[0]);\r\n        }\r\n\r\n        service.save(fd).then((res) => {\r\n            AntdMsg(res.message);\r\n            callback();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                AntdMsg(err.message[Object.keys(err.message)[0]], 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list()\r\n    }, []);\r\n\r\n    const handleChange = (v, k) => {\r\n        setData({ ...data, [k]: v });\r\n    }\r\n    return (\r\n        <>\r\n            <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <div className=\"d-flex\">\r\n                    <div className=\"row w-100\">\r\n                        <div className=\"col-md-9\">\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Name :</span>\r\n                                <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                            </div>\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">username :</span>\r\n                                <Input value={data.username || ''} onChange={e => handleChange(e.target.value, 'username')} />\r\n                            </div>\r\n                            <div className=\"d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">email :</span>\r\n                                <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-3 my-3\">\r\n                            <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                        </div>\r\n                        <div className=\"row col-md-12\">\r\n                            <div className=\"col-md-6 d-flex my-3 \">\r\n                                <span className=\"w100 text-secondary text-bold\">Mobile :</span>\r\n                                <Input value={data.mobile || ''} onChange={e => handleChange(e.target.value, 'mobile')} />\r\n                            </div>\r\n                            <div className=\"col-md-6 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Gender :</span>\r\n                                <AntdSelect\r\n                                    options={[{ value: 'male', label: \"Male\" }, { value: 'female', label: \"Female\" }, { value: 'other', label: \"Other\" }]}\r\n                                    value={data.gender}\r\n                                    onChange={v => { handleChange(v, 'gender') }}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col-md-6 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">DOB :</span>\r\n                                <AntdDatepicker format=\"MMMM D, YYYY\" value={(data.dob || '') + ''} onChange={value => { handleChange(value, 'dob') }} />\r\n                            </div>\r\n                            <div className=\"col-md-12 d-flex my-3\">\r\n                                <span className=\"w100 text-secondary text-bold\">Address :</span>\r\n                                <Input.TextArea value={data.address || ''} onChange={e => handleChange(e.target.value, 'address')} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex mt-2\">\r\n                    <Button type=\"primary\" className=\"ml-auto w100\" onClick={save} disabled={ajxRequesting}>Save</Button>\r\n                </div>\r\n            </Spin>\r\n        </>\r\n    );\r\n}","export function If({cond, children}){\r\n    return cond ? children : <></>;\r\n}","import { Image, Divider, Button, Drawer, Space, Spin } from \"antd\";\r\nimport { forwardRef, useImperativeHandle, useRef, useState, useEffect } from 'react';\r\nimport service from \"../../../services/admin\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport { If } from \"../../../utils/controls\";\r\nimport moment from \"moment\";\r\n\r\nexport default function Profile() {\r\n    const [data, setData] = useState({});\r\n    const [loading, setLoading] = useState(true)\r\n    const drawerRef = useRef();\r\n\r\n    const list = (data) => {\r\n        setLoading(true);\r\n        service.details(data).then(res => {\r\n            setData(res.result?.data || {});\r\n            setLoading(false);\r\n            drawerRef.current.closeForm()\r\n        }).catch(err => {\r\n            setLoading(false);\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list()\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Spin spinning={loading} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                <EditProfileDrawer ref={drawerRef} {...{list}} />\r\n                <div className=\"p-2 d-flex w-100\">\r\n                    <div className=\"px-3\">\r\n                        <Image className=\"w200\" src={data.image?.url || ''} />\r\n                        <Button type=\"dashed\" className=\"w200\" onClick={() => { drawerRef.current.openForm() }}>Edit Profile</Button>\r\n                    </div>\r\n                    <div className=\"px-3 w-100\">\r\n                        <h5 className=\"text-secondary text-bold\">{data.name || ''} <span className=\"text-danger h6\">@{data.username || ''}</span></h5>\r\n                        <p className=\"text-info text-bold\">{data.user_type?.title || ''}</p>\r\n                        <Divider orientation=\"left\">Contact Info</Divider>\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Phone: </td>\r\n                                    <td className=\"text-info\">{data.mobile || ''}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Address: </td>\r\n                                    <td className=\"text-secondary\">{data.address || ''}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Email: </td>\r\n                                    <td className=\"text-info\">{data.email || ''}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <Divider orientation=\"left\">Basic Info</Divider>\r\n                        <table>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Birthday: </td>\r\n                                    <td className=\"text-info\">{moment(data.dob).format('MMMM D, YYYY')}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td className=\"w100 text-bold\">Gender: </td>\r\n                                    <td className=\"text-secondary\">{data.gender === 'male' ? 'Male' : data.gender === 'female' ? 'Female' : 'Other'}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </Spin>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst EditProfileDrawer = forwardRef((props, ref) => {\r\n    const {list} = props;\r\n    const [visible, setVisible] = useState(false);\r\n    useImperativeHandle(ref, () => ({\r\n        openForm() {\r\n            setVisible(true);\r\n        },\r\n        closeForm(){\r\n            setVisible(false);\r\n        }\r\n    }));\r\n    const onClose = () => {\r\n        setVisible(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Drawer\r\n                title=\"Update Profile\"\r\n                placement=\"right\"\r\n                width={700}\r\n                onClose={onClose}\r\n                visible={visible}\r\n                extra={\r\n                    <Space>\r\n                        <Button onClick={onClose}>Cancel</Button>\r\n                        <Button type=\"primary\" onClick={onClose}>\r\n                            OK\r\n                        </Button>\r\n                    </Space>\r\n                }\r\n            >\r\n                <If cond={visible}>\r\n                    <EditProfile {...{callback:list}} />\r\n                </If>\r\n            </Drawer>\r\n        </>\r\n    );\r\n});","import { Pagination, Tag, Button } from 'antd';\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nexport default function MyPagination(props) {\r\n    const { sdata, handleSData, setSData, csvData } = props;\r\n    const handleChange = (page, pp) => {\r\n        handleSData(page, 'page');\r\n        if (sdata.limit !== pp) {\r\n            setSData({ ...sdata, page: 1, limit: pp });\r\n        }\r\n    }\r\n    const showTotal = () => {\r\n        let start = (sdata.page - 1) * sdata.limit * 1 + 1;\r\n        let end = sdata.page * sdata.limit;\r\n        return <Tag color=\"magenta\">{'Showing ' + start + ' - ' + end + ' out of ' + sdata.total}</Tag>\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                sdata.total > 0\r\n                    ? <Pagination\r\n                        total={sdata.total}\r\n                        showTotal={showTotal}\r\n                        pageSize={sdata.limit}\r\n                        current={sdata.page}\r\n                        onChange={handleChange}\r\n                        showSizeChanger={true}\r\n                    />\r\n                    : null\r\n            }\r\n            {\r\n                Array.isArray(csvData) && csvData?.length\r\n                    ? <Button className=\"mx-1\" size=\"small\" type=\"link\">\r\n                        <CSVLink data={csvData}>Export To CSV</CSVLink>\r\n                    </Button>\r\n                    : null\r\n            }\r\n\r\n        </>\r\n\r\n    )\r\n};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Table, Input, Button } from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport MyPagination from './Pagination';\r\nimport { AntdSelect, AntdDatepicker } from '../../utils/Antd';\r\n\r\n\r\nexport default function MyTable(props) {\r\n    let { columns, data, parentSData, loading, formRef, list, filters, searchPlaceholder, addNew = true, addNewIcon = PlusOutlined, addNewText = 'Add New', csvData = [], allowSearch, allowDefaultSearch } = props;\r\n    let [sdata, setSData] = useState({ ...parentSData });\r\n    const handleSData = (v, k) => {\r\n        if (k === 'key') {\r\n            sdata.page = 1;\r\n        }\r\n        setSData({ ...sdata, [k]: v });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (parentSData.total) {\r\n            handleSData(parentSData.total, 'total')\r\n        }\r\n    }, [parentSData.total]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (sdata.total) {\r\n            list(sdata);\r\n        }\r\n    }, [sdata.page, sdata.limit]);\r\n\r\n    data = data?.map((v, i) => { return { index: i + 1, key: i, ...v } })\r\n    columns = [{ title: 'S/N', dataIndex: 'index', width: 45 }, ...columns]\r\n\r\n    const state = {\r\n        bordered: true,\r\n        loading,\r\n        size: 'small',\r\n        title: () => <><Search {...{ sdata, handleSData, formRef, list, filters, searchPlaceholder, addNew, addNewIcon, addNewText, allowSearch, allowDefaultSearch }} /></>,\r\n        showHeader: true,\r\n        footer: () => <MyPagination {...{ sdata, handleSData, setSData, csvData }} />,\r\n        scroll: undefined,\r\n        hasData: true,\r\n        tableLayout: undefined,\r\n        yScroll: 'calc(100vh - 316px)'\r\n    };\r\n\r\n    const { xScroll, yScroll } = state;\r\n    const scroll = {};\r\n    if (yScroll) {\r\n        scroll.y = yScroll;\r\n    }\r\n    if (xScroll) {\r\n        scroll.x = xScroll;\r\n    }\r\n    const tableColumns = columns.map(item => ({ ...item }));\r\n    if (xScroll === 'fixed') {\r\n        tableColumns[0].fixed = true;\r\n        tableColumns[tableColumns.length - 1].fixed = 'right';\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table\r\n                {...state}\r\n                pagination={{ position: ['none'], pageSize: sdata.limit }}\r\n                columns={tableColumns}\r\n                dataSource={state.hasData ? data : null}\r\n                scroll={scroll}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst Search = ({ sdata, handleSData, formRef, list, filters, searchPlaceholder, addNew, addNewIcon: AddNewIcon, addNewText, allowSearch = true, allowDefaultSearch = true }) => {\r\n    return <>\r\n        {\r\n            allowSearch\r\n                ? <div className=\"d-flex\">\r\n                    {\r\n                        typeof sdata.key !== 'undefined'\r\n                            ? <>\r\n                                {\r\n                                    allowDefaultSearch\r\n                                        ? <Input className=\"w200 mx-1\" allowClear placeholder={searchPlaceholder || \"Search\"} value={sdata.key || ''} onChange={(e) => { handleSData(e.target.value, 'key') }} />\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    typeof filters !== 'undefined'\r\n                                        ? filters.map((v, i) => (\r\n                                            <React.Fragment key={i}>\r\n                                                {\r\n                                                    v.type === 'dropdown'\r\n                                                        ? <AntdSelect style={v.style} placeholder={v.placeholder || 'Select'} className={v?.className} allowClear={true} options={v.options} value={sdata?.[v.key] || undefined} onChange={value => { handleSData(value, v.key) }} />\r\n                                                        : v.type === 'dropdownMultiple'\r\n                                                            ? <AntdSelect mode=\"multiple\" style={v.style} placeholder={v.placeholder || 'Select'} className={v?.className} allowClear={true} options={v.options} value={sdata?.[v.key] || undefined} onChange={value => { handleSData(value, v.key) }} />\r\n                                                            : v.type === 'datePicker'\r\n                                                                ? <AntdDatepicker format=\"MMMM D, YYYY\" className={v?.className} style={v.style} placeholder={v.placeholder || 'Choose Date'}\r\n                                                                    value={sdata?.[v.key]}\r\n                                                                    onChange={value => { \r\n                                                                        console.log(value, v.key);\r\n                                                                        handleSData(value, v.key);\r\n                                                                     }} />\r\n                                                                : null\r\n                                                }\r\n                                            </React.Fragment>\r\n                                        ))\r\n                                        : null\r\n                                }\r\n                                <Button type=\"primary\" onClick={() => { list(sdata) }} >Search</Button>\r\n                            </>\r\n                            : null\r\n                    }\r\n                    {\r\n                        addNew\r\n                            ? <Button type=\"primary\" className=\"ml-auto\">\r\n                                <span className=\"d-flex\" onClick={() => { formRef.current.openForm() }}>\r\n                                    {<AddNewIcon className=\"my-auto mx-1\" />}\r\n                                    {addNewText}\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                </div>\r\n                : null\r\n        }\r\n\r\n    </>\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class customer {\r\n\r\n    static baseURL = 'customer';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + '/list', { params: data, module });\r\n    }\r\n    static listAll(module) {\r\n        return axios.get(this.baseURL + \"/list/ALL\", { module });\r\n    }\r\n    static listAllIgnoreStatus(module) {\r\n        return axios.get(this.baseURL + \"/all/ignore-status\", { module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"/save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","import React, { forwardRef, useState } from 'react';\r\nimport { Upload, Modal, message } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = forwardRef((props, ref) => {\r\n    const { fileCount } = props;\r\n    let { files } = props;\r\n    if(files.length){\r\n        files = files?.map((v, i) => {\r\n            // if ( v ) {\r\n                return { uid: i, url: v.url, status: 'done', name: v.name };\r\n            // }\r\n        });\r\n    } else{\r\n        files = [];\r\n    }\r\n\r\n    const fileRef = ref;\r\n    const [fileList, setFileList] = useState( files );\r\n\r\n    const dummyRequest = ({ file, onSuccess }) => {\r\n        setTimeout(async() => {\r\n            onSuccess(\"ok\");\r\n            if (!fileRef.current.uploadingFiles) {\r\n                fileRef.current.uploadingFiles = [];\r\n            }\r\n            const base64 = await getBase64(file);\r\n            fileRef.current.uploadingFiles?.push({uid: file.uid, base64: base64});\r\n        }, 0);\r\n    };\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [previewTitle, setPreviewTitle] = useState('');\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewVisible(true);\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n    };\r\n\r\n    const handleChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div style={{ marginTop: 8 }}>Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <>\r\n            <Upload\r\n                // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                customRequest={dummyRequest}\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={(value) => {\r\n                    if (value.file.status === 'removed' || value.file.status ) {\r\n                        handleChange(value)\r\n                    }\r\n                }}\r\n                multiple={fileCount > 1 ? true : false}\r\n                onRemove={(e) => {\r\n                    if (!fileRef.current.deletingFiles) {\r\n                        fileRef.current.deletingFiles = [];\r\n                    }\r\n                    if (!e.thumbUrl) {\r\n                        fileRef.current.deletingFiles?.push(e.name);\r\n                    } else {\r\n                        fileRef.current.uploadingFiles = fileRef.current.uploadingFiles?.filter((v) => { return v.uid !== e.uid })\r\n                    }\r\n                }}\r\n                beforeUpload={\r\n                    (file) => {\r\n                        if (!file.type.includes('image/')) {\r\n                            message.error('Invalid file type');\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n            >\r\n                {fileList.length >= fileCount ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                title={previewTitle}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default UploadImage;","import axios from \"../utils/axios\";\r\n\r\nexport default class sdt {\r\n    static baseURL = 'sdt/';\r\n\r\n    static listSdt(module) {\r\n        return axios.get(this.baseURL + 'sdt', { module });\r\n    }\r\n\r\n    static listState(data, module=\"viewState\") {\r\n        return axios.get(this.baseURL + 'state/list', { params: data, module });\r\n    }\r\n    static listAllState(data, module=\"viewState\") {\r\n        return axios.get(this.baseURL + 'state/list/ALL', { params: data, module });\r\n    }\r\n    static saveState(data, module) {\r\n        return axios.post(this.baseURL + \"state/save\", data, { module });\r\n    }\r\n    static deleteState(id, module) {\r\n        return axios.delete(`${this.baseURL}/state/delete/${id}`, { module });\r\n    }\r\n\r\n    static listDistrict(data, module=\"viewDistrict\") {\r\n        return axios.get(this.baseURL + 'district/list', { params: data, module });\r\n    }\r\n    static listAllDistrict(data, module=\"viewDistrict\") {\r\n        return axios.get(this.baseURL + 'district/list/ALL', { params: data, module });\r\n    }\r\n    static saveDistrict(data, module) {\r\n        return axios.post(this.baseURL + \"district/save\", data, { module });\r\n    }\r\n    static deleteDistrict(id, module) {\r\n        return axios.delete(`${this.baseURL}/district/delete/${id}`, { module });\r\n    }\r\n\r\n    static listTaluk(data, module=\"viewTaluk\") {\r\n        return axios.get(this.baseURL + 'taluk/list', { params: data, module });\r\n    }\r\n    static listAllTaluk(data, module=\"viewTaluk\") {\r\n        return axios.get(this.baseURL + 'taluk/list/ALL', { params: data, module });\r\n    }\r\n    static saveTaluk(data, module) {\r\n        return axios.post(this.baseURL + \"taluk/save\", data, { module });\r\n    }\r\n    static deleteTaluk(id, module) {\r\n        return axios.delete(`${this.baseURL}/taluk/delete/${id}`, { module });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/customer\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewCustomer'),\r\n    add: util.getModules('addCustomer'),\r\n    edit: util.getModules('editCustomer'),\r\n    delete: util.getModules('deleteCustomer'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Customer() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (id, row) => row.firstName + ' ' + row.lastName,\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this admin?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Customer List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew11: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false)\r\n    const [visible, setVisible] = useState(false)\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt, } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt?._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Customer'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n})","import axios from \"../utils/axios\";\r\n\r\nexport default class onlyAdmin {\r\n    static baseURL = 'adm';\r\n\r\n    static listModules(data, module) {\r\n        return axios.get(this.baseURL + '/list-modules', { params: data, module });\r\n    }\r\n    static listModulesAll(data, module) {\r\n        return axios.get(this.baseURL + '/list-modules/ALL', { params: data, module });\r\n    }\r\n    static saveModule(data, module) {\r\n        return axios.post(this.baseURL + \"/save-module\", data, { module });\r\n    }\r\n    static deleteModule(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete-module/${id}`, { module });\r\n    }\r\n\r\n    static listAdminModules(data, module) {\r\n        return axios.get(this.baseURL + '/admin-modules', { params: data, module });\r\n    }\r\n\r\n    static saveAdminModules(data, module) {\r\n        return axios.post(this.baseURL + '/save-admin-modules', data, { module });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Modal, Tag, Spin } from \"antd\";\r\nimport { MultiChechBox } from \"../../../utils/Antd\";\r\nimport { EditOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport admService from \"../../../services/onlyAdmin\";\r\n\r\nexport default function AssignPermission() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [modules, setModules] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'User Type',\r\n            dataIndex: 'typeName',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'Granted Modules',\r\n            dataIndex: 'grantedModuleTitles',\r\n            render: (data, row) => (\r\n                data.map((v, i) => {\r\n                    return <Tag color={\r\n                        i % 4 === 0\r\n                            ? 'blue'\r\n                            : i % 4 === 1\r\n                                ? 'gold'\r\n                                : i % 4 === 2\r\n                                    ? 'cyan'\r\n                                    : 'pink'\r\n                    } key={row.grantedModules[i]}>{v.title}</Tag>\r\n                })\r\n            )\r\n        },\r\n        {\r\n            title: 'Action',\r\n            key: 'action',\r\n            width: 60,\r\n            render: (text, row) => (\r\n                <>\r\n                    <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                        <span className=\"d-flex\">\r\n                            <EditOutlined />\r\n                        </span>\r\n                    </Button>\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        admService.listAdminModules(data).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        admService.listModulesAll().then(res => { setModules(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Customer List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew: false }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, modules }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, modules } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false)\r\n    const [visible, setVisible] = useState(false)\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        admService.saveAdminModules(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Add / Remove Modules'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset>\r\n                            <div className=\"row mingap\">\r\n                                <div>\r\n                                    <div className=\"col-md-12 form-group\">\r\n                                        <div className=\"d-flex mb-2\">\r\n                                            <Button size=\"small\" danger className=\"ml-auto mx-2\" onClick={() => { handleChange([], 'grantedModules') }}> Uncheck All Modules</Button>\r\n                                            <Button size=\"small\" type=\"primary\" onClick={() => { handleChange(modules?.map(v=>v?._id), 'grantedModules') }}> Check All Modules</Button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-12 form-group\">\r\n                                        <MultiChechBox options={modules?.map(v=>({_id: v.key, label: v.title}))} value={data.grantedModules} onChange={v => { (!v?.length || handleChange(v, 'grantedModules')) }} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n})","const config = {\r\n\tuserType: '',\r\n}\r\n\r\nexport default config;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useState, useEffect } from \"react\";\r\nimport { AntdSelect } from \"../../utils/Antd\";\r\nimport config from \"../../rdx\";\r\n\r\nexport function UserTypeSelect({ data: parData, handleChange, key = 'type' }) {\r\n    const [data, setData] = useState({ ...parData });\r\n    const options = config.userType === 'superAdmin'\r\n        ? [{ value: 'stateAdmin', label: \"State Admin\" }, { value: 'districtAdmin', label: \"District Admin\" }, { value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n        : config.userType === 'stateAdmin'\r\n            ? [{ value: 'districtAdmin', label: \"District Admin\" }, { value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n            : config.userType === 'talukAdmin'\r\n                ? [{ value: 'talukAdmin', label: \"Taluk Admin\" }]\r\n                : [];\r\n\r\n    useEffect(() => {\r\n        setData({ ...parData });\r\n    }, [parData[key]]);\r\n\r\n    return (\r\n        <>\r\n            <AntdSelect\r\n                options={options}\r\n                value={data[key]}\r\n                onChange={v => { handleChange(v, key) }}\r\n            />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Divider } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/admin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport { UserTypeSelect } from \"../../components/ProComponent\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewUser'),\r\n    add: util.getModules('addUser'),\r\n    edit: util.getModules('editUser'),\r\n    delete: util.getModules('deleteUser'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Admin() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (id, row) => row.firstName + ' ' + row.lastName,\r\n        },\r\n        {\r\n            title: 'User Type',\r\n            dataIndex: 'type',\r\n            width: 150,\r\n            render: (text) =>\r\n                <Tag\r\n                    color={text === 'stateAdmin'\r\n                        ? 'geekblue'\r\n                        : text === 'districtAdmin'\r\n                            ? 'magenta'\r\n                            : text === 'talukAdmin'\r\n                                ? 'orange'\r\n                                : ''}\r\n                >\r\n                    {text === 'stateAdmin'\r\n                        ? 'State Admin'\r\n                        : text === 'districtAdmin'\r\n                            ? 'District Admin'\r\n                            : text === 'talukAdmin'\r\n                                ? 'Taluk Admin'\r\n                                : ''}\r\n                </Tag>\r\n\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this admin?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Admin List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'First Name or Last Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n    const adharCardImgRef = useRef();\r\n    const panCardImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            adharCardImgRef.current = {};\r\n            panCardImgRef.current = {};\r\n\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.adharCardPhoto = adharCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.panCardPhoto = panCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state])\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts])\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state])\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' User'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Type</label>\r\n                                    <UserTypeSelect {...{ data, handleChange }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Document Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Number</label>\r\n                                    <Input value={data.adharNo || ''} onChange={e => handleChange(e.target.value, 'adharNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Card photo</label>\r\n                                    <UploadImage ref={adharCardImgRef} {...{ fileCount: 1, files: data.adharCardImage ? [data.adharCardImage] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan No.</label>\r\n                                    <Input value={data.panNo || ''} onChange={e => handleChange(e.target.value, 'panNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan Card photo</label>\r\n                                    <UploadImage ref={panCardImgRef} {...{ fileCount: 1, files: data.panCardImage ? [data.panCardImage] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Spin } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/onlyAdmin\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\n\r\nexport default function Module() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Title',\r\n            dataIndex: 'title',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            render: (text, row) => (\r\n                <>\r\n                    <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                        <span className=\"d-flex\">\r\n                            <EditOutlined />\r\n                        </span>\r\n                    </Button>\r\n                    <Button type=\"danger\" size=\"small\">\r\n                        <span className=\"d-flex\">\r\n                            <Popconfirm\r\n                                title=\"Are you sure to delete this module?\"\r\n                                onConfirm={() => deleteConfirm(row._id)}\r\n                                okText=\"Yes\"\r\n                                cancelText=\"No\"\r\n                            >\r\n                                <DeleteOutlined />\r\n                            </Popconfirm>\r\n                        </span>\r\n                    </Button>\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listModules(data).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteModule(id).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Module List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveModule(data).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Module'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\">\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Title</label>\r\n                                    <Input value={data.title || ''} onChange={e => handleChange(e.target.value, 'title')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(e.target.value, 'key')} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { forwardRef, useState, useEffect } from \"react\";\r\nimport { useHistory, } from \"react-router-dom\";\r\nimport { Tabs } from \"antd\";\r\nimport util from \"../../../utils/util\";\r\nimport Module from \"./Module\";\r\n\r\n\r\nconst components = [\r\n    { component: Module, name: 'Module', key: 'module' },\r\n];\r\n\r\n\r\nexport default function Tabstest() {\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Bank List</span>\r\n            </div> */}\r\n            <div className=\"m-21 border p-2\">\r\n                <Detail />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nconst Detail = forwardRef(() => {\r\n    const { TabPane } = Tabs;\r\n    const history = useHistory();\r\n    const [activeTab, setActiveTab] = useState(util.queryStringToJSON(history.location?.search)?.tab || components[0].key);\r\n\r\n    useEffect(() => {\r\n        history.push({ search: `?tab=${activeTab}` });\r\n        document.querySelector('.ant-tabs-content-holder').scrollTop = 0;\r\n    }, [activeTab]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Tabs activeKey={activeTab} className=\"border overflow-y-auto\" type=\"card\" size=\"small\" onChange={(v) => { setActiveTab(v) }} >\r\n                {\r\n                    components.map(v => (\r\n                        <TabPane tab={v.name} key={v.key}>\r\n                            {\r\n                                activeTab === v.key\r\n                                    ? <v.component />\r\n                                    : null\r\n                            }\r\n                        </TabPane>\r\n                    ))\r\n                }\r\n            </Tabs>\r\n        </>\r\n    );\r\n})","import axios from \"../utils/axios\";\r\n\r\nexport default class vehicle {\r\n    static baseURL = 'vehicle/';\r\n\r\n    static listColor(data, module) {\r\n        return axios.get(this.baseURL + 'color/list', { params: data, module });\r\n    }\r\n    static listAllColor(data, module) {\r\n        return axios.get(this.baseURL + 'color/list/ALL', { params: data, module });\r\n    }\r\n    static saveColor(data, module) {\r\n        return axios.post(this.baseURL + \"color/save\", data, { module });\r\n    }\r\n    static deleteColor(id, module) {\r\n        return axios.delete(`${this.baseURL}color/delete/${id}`, { module });\r\n    }\r\n\r\n    static listMake(data, module) {\r\n        return axios.get(this.baseURL + 'make/list', { params: data, module });\r\n    }\r\n    static listAllMake(data, module) {\r\n        return axios.get(this.baseURL + 'make/list/ALL', { params: data, module });\r\n    }\r\n    static saveMake(data, module) {\r\n        return axios.post(this.baseURL + \"make/save\", data, { module });\r\n    }\r\n    static deleteMake(id, module) {\r\n        return axios.delete(`${this.baseURL}make/delete/${id}`, { module });\r\n    }\r\n\r\n    static listMakeModel(data, module) {\r\n        return axios.get(this.baseURL + 'make-model/list', { params: data, module });\r\n    }\r\n    static listAllMakeModel(data, module) {\r\n        return axios.get(this.baseURL + 'make-model/list/ALL', { params: data, module });\r\n    }\r\n    static saveMakeModel(data, module) {\r\n        return axios.post(this.baseURL + \"make-model/save\", data, { module });\r\n    }\r\n    static deleteMakeModel(id, module) {\r\n        return axios.delete(`${this.baseURL}make-model/delete/${id}`, { module });\r\n    }\r\n\r\n    static listCategory(data, module) {\r\n        return axios.get(this.baseURL + 'category/list', { params: data, module });\r\n    }\r\n    static listAllCategory(data, module) {\r\n        return axios.get(this.baseURL + 'category/list/ALL', { params: data, module });\r\n    }\r\n    static saveCategory(data, module) {\r\n        return axios.post(this.baseURL + \"category/save\", data, { module });\r\n    }\r\n    static deleteCategory(id, module) {\r\n        return axios.delete(`${this.baseURL}category/delete/${id}`, { module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class common {\r\n    static baseURL = 'common';\r\n\r\n    static listServiceType() {\r\n        return axios.get(this.baseURL + '/list-service-type', { module: 'ignoreModule' });\r\n    }\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Image } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport commonService from \"../../../services/common\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewVehicleCategory'),\r\n    add: util.getModules('addVehicleCategory'),\r\n    edit: util.getModules('editVehicleCategory'),\r\n    delete: util.getModules('deleteVehicleCategory'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Category() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => ( <Image height={30} preview={{mask: \"View\"}} src={v?.url} /> )\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Slug',\r\n            dataIndex: 'slug',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceTypeDetails',\r\n            width: 100,\r\n            render: (data, row) => {\r\n                if(data?.key === 'cargo'){\r\n                    return <Tag color='cyan'>{data?.name}</Tag>\r\n                } else if(data?.key === 'taxi'){\r\n                    return <Tag color='purple'>{data?.name}</Tag>\r\n                } else {\r\n                    return <Tag>{data?.name}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this category?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listCategory(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteCategory(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceTypes\r\n            },\r\n        ]);\r\n    }, [serviceTypes]);\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Vehicle Category List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Slug', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'slug'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveCategory(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Vehicle Category'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect options={serviceTypes} value={data.serviceType} onChange={v => { handleChange(v, 'serviceType') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Slug</label>\r\n                                    <Input value={data.slug || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'slug')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class ride {\r\n    static baseURL = 'ride/';\r\n\r\n    static listRideType(data, module) {\r\n        return axios.get(this.baseURL + 'type/list', { params: data, module });\r\n    }\r\n    static listAllRideType(data, module) {\r\n        return axios.get(this.baseURL + 'type/list/ALL', { params: data, module });\r\n    }\r\n    static saveRideType(data, module) {\r\n        return axios.post(this.baseURL + \"type/save\", data, { module });\r\n    }\r\n    // static deleteRideType(id, module) {\r\n    //     return axios.delete(`${this.baseURL}type/delete/${id}`, { module });\r\n    // }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class driver {\r\n    static baseURL = 'driver/';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n    static listWalletHistory(data, module) {\r\n        return axios.get(this.baseURL + 'list/wallet-history', { params: data, module });\r\n    }\r\n\r\n    static listAllWalletHistory(data, module) {\r\n        return axios.get(this.baseURL + 'list/wallet-history/ALL', { params: data, module });\r\n    }\r\n\r\n    static saveWalletHistory(data, module) {\r\n        return axios.post(this.baseURL + \"save/wallet-history\", data, { module });\r\n    }\r\n\r\n    static listLogins(data, module) {\r\n        return axios.get(this.baseURL + 'logins/list', { params: data, module });\r\n    }\r\n\r\n    static listLoginsAll(data, module) {\r\n        return axios.get(this.baseURL + 'logins/list/ALL', { params: data, module });\r\n    }\r\n\r\n    static listOnOff(data, module) {\r\n        return axios.get(this.baseURL + 'on-off/list', { params: data, module });\r\n    }\r\n\r\n    static listOnOffAll(data, module) {\r\n        return axios.get(this.baseURL + 'on-off/list/ALL', { params: data, module });\r\n    }\r\n\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class email {\r\n\r\n    static baseURL = 'email';\r\n\r\n    static listTeplates(data, module) {\r\n        return axios.get(this.baseURL + '/template/list', { params: data, module });\r\n    }\r\n    static listAllTeplates(module) {\r\n        return axios.get(this.baseURL + \"/template/list/ALL\", { module });\r\n    }\r\n    static saveTeplate(data, module) {\r\n        return axios.post(this.baseURL + \"/template/save\", data, { module });\r\n    }\r\n    static deleteTeplates(id, module) {\r\n        return axios.delete(`${this.baseURL}/template/delete/${id}`, { module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + '/list', { params: data, module });\r\n    }\r\n    static listAll(module) {\r\n        return axios.get(this.baseURL + \"/list/ALL\", { module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"/save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}/delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/driver\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewWallet'),\r\n    add: util.getModules('addWallet'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\n\r\n\r\nexport default function Wallet({driverId}) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const filters = [\r\n        {\r\n            type: 'dropdown',\r\n            key: 'transactionMethod',\r\n            placeholder: 'Transction Method',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'byAdmin', title: \"By Admin\"}, {_id: \"paytm\", title: \"Paytm\"}]\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            key: 'transactionType',\r\n            placeholder: 'Transction Type',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'debit', title: \"Debit\"}, {_id: \"credit\", title: \"Credit\"}]\r\n        },\r\n        {\r\n            type: 'dropdown',\r\n            key: 'status',\r\n            placeholder: 'Status',\r\n            className: \"w200 mx-1\",\r\n            options: [{_id: 'pending', title: \"Pending\"}, {_id: \"failed\", title: \"Failed\"}, {_id: \"completed\", title: \"Completed\"}]\r\n        },\r\n    ];\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, driverId });\r\n    const columns = [\r\n        {\r\n            title: 'Transaction Id',\r\n            dataIndex: 'transactionId',\r\n            width: 150\r\n        },\r\n        {\r\n            title: 'Transaction Method',\r\n            dataIndex: 'transactionMethod',\r\n            width: 150,\r\n            render: transactionMethod => {\r\n                if (transactionMethod === 'byAdmin') {\r\n                    return <Tag color='magenta'>By Admin</Tag>\r\n                } else if(transactionMethod === 'paytm') {\r\n                    return <Tag color='yellow'>Paytm</Tag>\r\n                } else {\r\n                    return <Tag color=''>{transactionMethod}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Transaction Type',\r\n            dataIndex: 'transactionType',\r\n            width: 150,\r\n            render: transactionType => {\r\n                if (transactionType === 'credit') {\r\n                    return <Tag color='green'>Credit</Tag>\r\n                } else if(transactionType === 'debit') {\r\n                    return <Tag color='red'>Debit</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Amount',\r\n            dataIndex: 'amount',\r\n            width: 150\r\n        },\r\n        {\r\n            title: 'Description',\r\n            dataIndex: 'description',\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            width: 80,\r\n            render: status => {\r\n                if (status === 'completed') {\r\n                    return <Tag color='green'>completed</Tag>\r\n                } else if(status === 'pending') {\r\n                    return <Tag color='yellow'>Pending</Tag>\r\n                } else if(status === 'failed') {\r\n                    return <Tag color='red'>Failed</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            width: 10,\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listWalletHistory(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Wallet History List</span>\r\n            </div> */}\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Transaction Id', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, driverId }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, driverId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ driverId });\r\n            handleVisible(true);\r\n            if (addAccess) {\r\n                setChangeForm(true);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveWalletHistory(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Add Wallet History'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Transaction Type</label>\r\n                                    <AntdSelect\r\n                                        options={[{ _id: 'debit', name: 'Debit' }, { _id: 'credit', name: 'Credit' }]}\r\n                                        value={data?.transactionType} onChange={v => { handleChange(v, 'transactionType') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Amount</label>\r\n                                    <Input value={data.amount || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'amount')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"\">Description</label>\r\n                                    <Input.TextArea value={data.description || ''} onChange={e => handleChange(e.target.value, 'description')} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import React, { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\n\r\nexport default function TinyMce(props) {\r\n    let { height = 400, menubar = false, plugins, toolbar, content_style, initialValue, onChange } = props;\r\n    if (!plugins) {\r\n        plugins = [\r\n            'advlist autolink lists link image charmap print preview anchor',\r\n            'searchreplace visualblocks code fullscreen',\r\n            'insertdatetime media table paste code help wordcount forecolor backcolor textcolor'\r\n        ];\r\n    }\r\n    if (!toolbar) {\r\n        // toolbar = 'undo redo | formatselect | bold italic backcolor | forecolor emoticons | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | image link | imageupload | fullscreen';\r\n        toolbar = 'undo redo | insert | styleselect | bold italic | fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | forecolor backcolor emoticons | bullist numlist outdent indent | link unlink | image responsivefilemanager table | removeformat code help | fullscreen'\r\n    }\r\n    if (!content_style) {\r\n        content_style = 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }';\r\n    }\r\n\r\n    const editorRef = useRef(null);\r\n    const editorContent = () => {\r\n        if (editorRef.current) {\r\n            onChange(editorRef.current.getContent())\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <Editor\r\n                onInit={(evt, editor) => editorRef.current = editor}\r\n                {...{ initialValue }}\r\n                init={{\r\n                    height, menubar, plugins, toolbar, content_style,\r\n\r\n                    file_browser_callback_types: 'image',\r\n                    file_picker_callback: function (cb, value, meta) {\r\n                        const input = document.createElement(\"input\");\r\n                        input.setAttribute(\"type\", \"file\");\r\n                        input.setAttribute(\"accept\", \"image/*\");\r\n                        input.onchange = function () {\r\n                            const file = this.files[0];\r\n                            const reader = new FileReader();\r\n                            reader.readAsDataURL(file);\r\n                            reader.onload = () => {cb(reader.result, {title: file.name});};\r\n                        };\r\n                        input.click();\r\n                    },\r\n                    deprecation_warnings: false\r\n                }}\r\n                onSelectionChange={editorContent}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Tooltip } from \"antd\";\r\nimport { LoadingOutlined, EyeOutlined, MailOutlined, SendOutlined, InfoOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/email\";\r\nimport customerService from \"../../../services/customer\";\r\nimport driverService from \"../../../services/driver\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\nimport adminService from \"../../../services/admin\";\r\nimport { AntdMsg, AntdSelect } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport TinyMce from \"../../components/TinyMce\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewSentEmail'),\r\n    add: util.getModules('sendEmail'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\n\r\n\r\nexport default function Email() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [templates, setTemplates] = useState([]);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [drivers, setDrivers] = useState([]);\r\n    const [admins, setAdmins] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Subject',\r\n            dataIndex: 'subject',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 60,\r\n            hidden: !addAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllTeplates('viewEmailTemplate').then(res => {\r\n            setTemplates([...(res.result.data || []), { _id: 'custom', subject: 'Custom' }]);\r\n        }).catch(err => {\r\n            AntdMsg('Email templates are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        customerService.listAll('viewCustomer').then(res => {\r\n            setCustomers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Customers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        driverService.listAll({}, 'viewDriver').then(res => {\r\n            setDrivers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Drivers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        adminService.listAll({}, 'viewAdmin').then(res => {\r\n            setAdmins(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Admins are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Sent Email List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Title or Key', addNew: addAccess, addNewIcon: MailOutlined, addNewText: 'Compose Email' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, templates, sdt, customers, drivers, admins, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nexport const AddForm = forwardRef((props, ref) => {\r\n    const { list, templates = [], sdt = [], customers = [], drivers = [], admins = [], serviceTypes = [] } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [userSelectMode, setUserSelectMode] = useState('multiple');\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [outerCall, setOuterCall] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (dt?.outerData) {\r\n                setOuterCall(true);\r\n                dt = dt.outerData;\r\n            }\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        if (outerCall) {\r\n            delete data._id;\r\n        }\r\n        service.save(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'manyCustomers') {\r\n            setAllUsers(customers.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'manyDrivers') {\r\n            setAllUsers(drivers.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk, serviceType: v?.vehicleDetails?.serviceType }\r\n            )) || []);\r\n        } else if (data.to === 'manyAdmins') {\r\n            setAllUsers(admins.map(v => (\r\n                { _id: v.email, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'custom') {\r\n            setAllUsers([]);\r\n        } else {\r\n            setAllUsers([]);\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => { setUsers(allUsers); }, [allUsers]);\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'custom') {\r\n            setUserSelectMode('tags');\r\n        } else {\r\n            setUserSelectMode('multiple');\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => {\r\n        if (!data._id) {\r\n            handleChange(null, 'emailIds');\r\n        }\r\n    }, [users]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n    useEffect(() => { const newDistricts = sdt.find(v => v._id === data.state)?.districts || []; setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || []); }, [data.state]);\r\n    useEffect(() => { const newTaluks = districts?.find(v => v.value === data.district)?.taluks || []; setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } })); }, [data.district, districts]);\r\n    useEffect(() => { if (!checkDistrictExist()) { handleChange('', 'district'); } }, [data.state]);\r\n    useEffect(() => { if (!checkTalukExist()) { handleChange('', 'taluk'); } }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (data.taluk) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.taluk === data?.taluk && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.taluk === data?.taluk\r\n                }\r\n            }));\r\n        } else if (data.district) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.district === data?.district && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.district === data?.district;\r\n                }\r\n            }));\r\n        } else if (data.state) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.state === data?.state && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.state === data?.state;\r\n                }\r\n            }));\r\n        } else if (data.serviceType) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (v.serviceType) {\r\n                    return v.serviceType === data.serviceType;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }));\r\n        } else {\r\n            setUsers(allUsers);\r\n        }\r\n    }, [data.serviceType, data.state, data.district, data.taluk, allUsers]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Send Email'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText={<div className=\"d-flex\">Send <SendOutlined className=\"my-auto mx-1\" /></div>}\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={outerCall ? 800 : 1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Email Template</label>\r\n                                    <AntdSelect\r\n                                        options={templates.map(v => ({ _id: v._id, title: v.subject })) || []}\r\n                                        value={data.emailTemplate}\r\n                                        onChange={v => { handleChange(v, 'emailTemplate') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                {\r\n                                    !outerCall\r\n                                        ? <>\r\n                                            <div className=\"col-md-4 form-group\">\r\n                                                <label className=\"req\">State</label>\r\n                                                <AntdSelect\r\n                                                    placeholder=\"All States\"\r\n                                                    allowClear\r\n                                                    options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                                    value={data.state}\r\n                                                    onChange={v => { handleChange(v, 'state') }}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-4 form-group\">\r\n                                                <label className=\"req\">District</label>\r\n                                                <AntdSelect\r\n                                                    placeholder=\"All Districts\"\r\n                                                    allowClear\r\n                                                    options={districts || []}\r\n                                                    value={data.district}\r\n                                                    onChange={v => { handleChange(v, 'district') }}\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"col-md-4 form-group\">\r\n                                                <label className=\"req\">Taluk</label>\r\n                                                <AntdSelect\r\n                                                    placeholder=\"All Taluks\"\r\n                                                    allowClear\r\n                                                    options={taluks || []}\r\n                                                    value={data.taluk}\r\n                                                    onChange={v => { handleChange(v, 'taluk') }}\r\n                                                />\r\n                                            </div>\r\n                                            <div></div>\r\n                                            <div className=\"col-md-4 form-group\">\r\n                                                <label className=\"req\">Send To</label>\r\n                                                <AntdSelect\r\n                                                    options={[\r\n                                                        { _id: 'manyCustomers', title: 'Many Customers' },\r\n                                                        { _id: 'manyDrivers', title: 'Many Drivers' },\r\n                                                        { _id: 'manyAdmins', title: 'Many Admins' },\r\n                                                        { _id: 'allCustomers', title: 'All Customers' },\r\n                                                        { _id: 'allDrivers', title: 'All Drivers' },\r\n                                                        { _id: 'allAdmins', title: 'All Admins' },\r\n                                                        { _id: 'custom', title: 'Custom' }\r\n                                                    ]}\r\n                                                    value={data.to}\r\n                                                    onChange={v => { handleChange(v, 'to') }}\r\n                                                />\r\n                                            </div>\r\n                                            {\r\n                                                ['manyDrivers', 'allDrivers'].includes(data.to)\r\n                                                    ? <div className=\"col-md-4 form-group\">\r\n                                                        <label className=\"req\">Service Type</label>\r\n                                                        <AntdSelect\r\n                                                            allowClear\r\n                                                            placeholder=\"All Service Types\"\r\n                                                            options={serviceTypes || []}\r\n                                                            value={data.serviceType}\r\n                                                            onChange={v => { handleChange(v, 'serviceType') }}\r\n                                                        />\r\n                                                    </div>\r\n                                                    : null\r\n                                            }\r\n                                            {\r\n                                                ['manyCustomers', 'manyDrivers', 'manyAdmins', 'custom'].includes(data.to)\r\n                                                    ? <div className=\"col-md-12 form-group\">\r\n                                                        <label className=\"req\">{data.to === 'custom' ? 'Enter Emails' : 'Select Users'}</label>\r\n                                                        <AntdSelect\r\n                                                            mode={userSelectMode}\r\n                                                            placeholder={data.to === 'custom' ? 'Enter Emails' : 'Select Users'}\r\n                                                            options={users || []}\r\n                                                            value={data.emailIds}\r\n                                                            onChange={v => { handleChange(v, 'emailIds') }}\r\n                                                        />\r\n                                                    </div>\r\n                                                    : null\r\n                                            }\r\n                                        </>\r\n                                        : null\r\n                                }\r\n\r\n\r\n\r\n                                {\r\n                                    data.emailTemplate === 'custom'\r\n                                        ? <>\r\n                                            <div></div>\r\n                                            <div className=\"col-md-12 form-group\">\r\n                                                <label className=\"req\">Subject</label>\r\n                                                <Input value={data.subject || ''} onChange={e => { handleChange(e.target.value, 'subject') }} />\r\n                                            </div>\r\n                                            <div className=\"col-md-12 form-group\">\r\n                                                <label className=\"req\">\r\n                                                    Template Design\r\n                                                    <Tooltip title={\r\n                                                        <table>\r\n                                                            <tbody>\r\n                                                                <tr>\r\n                                                                    <td>First Name: </td>\r\n                                                                    <td>{`<%= firstName %>`}</td>\r\n                                                                </tr>\r\n                                                                <tr>\r\n                                                                    <td>Last Name: </td>\r\n                                                                    <td>{`<%= lastName %>`}</td>\r\n                                                                </tr>\r\n                                                                <tr>\r\n                                                                    <td>Email: </td>\r\n                                                                    <td>{`<%= email %>`}</td>\r\n                                                                </tr>\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                    } color=\"cyan\">\r\n                                                        <Button size=\"small\" shape=\"circle\" icon={<InfoOutlined />} />\r\n                                                    </Tooltip>\r\n                                                </label>\r\n                                                <TinyMce {...{ height: 700 }} initialValue={data.html || ''} onChange={v => { handleChange(v, 'html', false) }} />\r\n                                            </div>\r\n                                        </>\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport service from \"../../../services/driver\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDriver'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\n\r\n\r\nexport default function Onoff({loginId, driverId}) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, driverId, loginId });\r\n    const columns = [\r\n        {\r\n            title: 'Start Time',\r\n            dataIndex: 'startTime',\r\n            // width: 300,\r\n            render: (text) => ( moment(text).calendar())\r\n        },\r\n        {\r\n            title: 'End Time',\r\n            dataIndex: 'endTime',\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listOnOff(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Wallet History List</span>\r\n            </div> */}\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, list, addNew: false, allowSearch: false }} />\r\n            </div>\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Modal, Button } from \"antd\";\r\nimport service from \"../../../services/driver\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\nimport Onoff from \"./Onoff\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDriver'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\n\r\n\r\nexport default function Logins({ driverId }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, driverId });\r\n    // const filters = [\r\n    //     {\r\n    //         type: 'datePicker',\r\n    //         key: 'from',\r\n    //         className: \"w200 mx-1\",\r\n    //         placeholder: 'From',\r\n    //     },\r\n    //     {\r\n    //         type: 'datePicker',\r\n    //         key: 'to',\r\n    //         className: \"w200 mx-1\",\r\n    //         placeholder: 'To',\r\n    //     },\r\n    // ];\r\n    const onoffModalRef = useRef();\r\n    const columns = [\r\n        {\r\n            title: 'Login Time',\r\n            dataIndex: 'loginTime',\r\n            width: 300,\r\n            render: (text) => (moment(text).calendar())\r\n        },\r\n        {\r\n            title: 'Logout Time',\r\n            dataIndex: 'logoutTime',\r\n        },\r\n        {\r\n            title: 'Logins',\r\n            dataIndex: '',\r\n            width: 100,\r\n            render: (walletDetails, row) => (\r\n                <Button size=\"small\" type=\"default\" className=\"mx-1\" onClick={() => { onoffModalRef.current.openForm(row) }}>On / Off</Button>\r\n            )\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listLogins(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"page-description text-white p-2\" >\r\n                <span>Wallet History List</span>\r\n            </div> */}\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, list, addNew: false, allowSearch: false }} />\r\n            </div>\r\n            <OnoffModal ref={onoffModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst OnoffModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>On / Off History</>}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={500}\r\n                footer={null}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Onoff {...{ driverId: data.driver, loginId: data._id }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Divider, Rate } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/driver\";\r\nimport emailService from \"../../../services/email\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\n// import vehicleService from \"../../../services/vehicle\";\r\nimport { AntdDatepicker } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\nimport Wallet from \"./Wallet\";\r\nimport { AddForm as Email } from \"../email/Email\";\r\nimport Logins from \"./Logins\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDriver'),\r\n    add: util.getModules('addDriver'),\r\n    edit: util.getModules('editDriver'),\r\n    delete: util.getModules('deleteDriver'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Driver({ vehicleData, setVisible: setVisibleParent }) {\r\n\r\n    const [data, setData] = useState();\r\n    const [csvData, setCsvData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    // const [vehicles, setVehicles] = useState([]);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [templates, setTemplates] = useState();\r\n    const [states, setStates] = useState([]);\r\n    // const [districts, setDistricts] = useState([]);\r\n    // const [taluks, setTaluks] = useState([]);\r\n\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    const walletModalRef = useRef();\r\n    const emailModalRef = useRef();\r\n    const loginsModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, vehicleId: vehicleData?._id });\r\n    const columns = [\r\n        {\r\n            title: 'Driver Id',\r\n            dataIndex: 'driverId',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'firstName',\r\n            render: (text, row) => (text + ' ' + row.lastName)\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Phone No',\r\n            dataIndex: 'phoneNo',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Wallet',\r\n            dataIndex: 'walletDetails',\r\n            hidden: !util.getModules('viewWallet'),\r\n            width: 100,\r\n            render: (walletDetails, row) => (\r\n                <Button size=\"small\" type=\"primary\" className=\"mx-1\" onClick={() => { walletModalRef.current.openForm(row) }}>Wallet  ({walletDetails?.[0]?.amount})</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Logins',\r\n            dataIndex: '',\r\n            width: 80,\r\n            render: (walletDetails, row) => (\r\n                <Button size=\"small\" type=\"default\" className=\"mx-1\" onClick={() => { loginsModalRef.current.openForm(row) }}>Logins</Button>\r\n            )\r\n        },\r\n        {\r\n            title: 'Rating',\r\n            dataIndex: 'ratingAverage',\r\n            width: 210,\r\n            render: (data, row) => (\r\n                <>\r\n                    ({data} / {row.ratingCount})<Rate disabled defaultValue={data} /> \r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: 'Approval Status',\r\n            dataIndex: 'isApproved',\r\n            width: 120,\r\n            render: isApproved => {\r\n                if (isApproved) {\r\n                    return <Tag color='green'>Approved</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Not Approved</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this driver?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (serviceType.length > 0) {\r\n            setFilters([...filters, {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            }]);\r\n        }\r\n    }, [serviceType]);\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        // vehicleService.listAll({}, 'viewVehicle').then(res => { setVehicles(res.result.data || []) });\r\n        emailService.listAllTeplates('viewEmailTemplate').then(res => {\r\n            setTemplates([...(res.result.data || []), { _id: 'custom', subject: 'Custom' }]);\r\n        }).catch(err => {\r\n            AntdMsg('Email templates are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        commonService.listServiceType().then(res => { setServiceType(res.result.data); });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (vehicleData && typeof data === \"object\") {\r\n            formRef.current.openForm(data?.[0] ? data?.[0] : { vehicle: vehicleData._id, isActive: true, isApproved: false });\r\n        }\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setCsvData(data.map(v => ({\r\n                \"First Name\": v.firstName,\r\n                \"Last Name\": v.lastName,\r\n                \"Email\": v.email,\r\n                \"Phone No\": v.phoneNo,\r\n                \"DOB\": moment(v.dob).format('MMMM D, YYYY'),\r\n                \"State\": v.stateDetails?.name,\r\n                \"District\": v.districtDetails?.name,\r\n                \"Taluk\": v.talukDetails?.name,\r\n                \"Address\": v.address,\r\n                \"Zip Code\": v.zipcode,\r\n                \"Driving Licence Number\": v.drivingLicenceNumber,\r\n                \"Driving Licence Number Expiry Date\": moment(v.drivingLicenceNumberExpiryDate).format('MMMM D, YYYY'),\r\n                \"Adhar No\": v.adharNo,\r\n                \"Pan No\": v.panNo,\r\n                \"Badge No\": v.badgeNo,\r\n                \"Approval Status\": v.isApproved ? \"Approved\" : \"Not Approved\",\r\n                \"Active Status\": v.isActive ? \"Active\" : \"Inactive\",\r\n            })));\r\n        }\r\n    }, [data]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (sdt.length) {\r\n            setStates(sdt.map(v => ({ _id: v._id, name: v.name, districts: v.districts })));\r\n        }\r\n    }, [sdt]);\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'isApproved',\r\n                className: \"w200 mx-1\",\r\n                placeholder: 'Approval Status',\r\n                options: [\r\n                    { id: 0, name: 'Not Approved' },\r\n                    { id: 1, name: 'Approved' },\r\n                ]\r\n            },\r\n            {\r\n                type: 'dropdown',\r\n                key: 'licence',\r\n                className: \"w200 mx-1\",\r\n                placeholder: 'Licence Status',\r\n                options: [\r\n                    { value: \"licenceExpired\", label: 'Licence Expired' },\r\n                    { value: \"licenceNotExpired\", label: 'Licence Not Expired' },\r\n                ]\r\n            },\r\n            {\r\n                type: 'dropdown',\r\n                key: 'state',\r\n                placeholder: 'State',\r\n                className: \"w200 mx-1\",\r\n                options: states\r\n            },\r\n        ]);\r\n    }, [states]);\r\n\r\n    return (\r\n        <>\r\n\r\n            {\r\n                !vehicleData\r\n                    ? <>\r\n                        <div className=\"page-description text-white p-2\" >\r\n                            <span>Driver List</span>\r\n                        </div>\r\n                        <div className=\"m-2 border p-2\">\r\n                            <MyTable {...{ data, csvData, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Driver Id or First Name or Last Name or Driver Id', addNew: false }} />\r\n                        </div>\r\n                    </>\r\n                    : null\r\n            }\r\n            <AddForm ref={formRef} {...{ list, sdt, setVisibleParent, emailModalRef }} />\r\n            <WalletModal ref={walletModalRef} />\r\n            <Email ref={emailModalRef} {...{ templates }} />\r\n            <LoginsModal ref={loginsModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nexport const AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, setVisibleParent, emailModalRef } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n    const licenceImgRef = useRef();\r\n    const adharCardImgRef = useRef();\r\n    const panCardImgRef = useRef();\r\n    const badgeImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n        if (setVisibleParent && !val) {\r\n            setVisibleParent(false);\r\n        }\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = {};\r\n            }\r\n            imgRef.current = {};\r\n            licenceImgRef.current = {};\r\n            adharCardImgRef.current = {};\r\n            panCardImgRef.current = {};\r\n            badgeImgRef.current = {};\r\n\r\n            dt.dob = moment(dt.dob).format('YYYY-MM-DD');\r\n            setData(dt ? { ...dt } : { isActive: true, isApproved: false });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.drivingLicencePhoto = licenceImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.adharCardPhoto = adharCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.panCardPhoto = panCardImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.badgePhoto = badgeImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Driver'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n                footer={[\r\n                    <Button key=\"sendEmail\" type=\"dashed\" onClick={() => {\r\n                        emailModalRef.current.openForm(\r\n                            { outerData: { _id: data._id, state: data.state, district: data.district, taluk: data.taluk, to: 'manyDrivers', emailIds: [data.email] } }\r\n                        )\r\n                    }}>Send Email</Button>,\r\n                    <Button key=\"cancel\" onClick={() => { handleVisible(false); }}>Cancel</Button>,\r\n                    <Button key=\"save\" type=\"primary\" onClick={save}>Save</Button>,\r\n                ]}\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                {/* <div><Divider orientation=\"left\" className=\"text-danger\">Vehicle</Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle</label> */}\r\n                                {/* <AntdSelect options={vehicles} disabled value={data.vehicle} onChange={v => { handleChange(v, 'vehicle') }} /> */}\r\n                                {/* <Input value={data?.vehicleDetails?.name || ''} disabled />\r\n                                </div> */}\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Personal Details </Divider></div>\r\n                                {/* <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driver Id</label>\r\n                                    <Input value={data.driverId || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'driverId')} />\r\n                                </div>\r\n                                <div></div> */}\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">First Name</label>\r\n                                    <Input value={data.firstName || ''} onChange={e => handleChange(e.target.value, 'firstName')} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Last Name</label>\r\n                                    <Input value={data.lastName || ''} onChange={e => handleChange(e.target.value, 'lastName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Email</label>\r\n                                    <Input value={data.email || ''} onChange={e => handleChange(e.target.value, 'email')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Phone No.</label>\r\n                                    <Input value={data.phoneNo || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'phoneNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">User Name</label>\r\n                                    <Input value={data.userName || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'userName')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Gender</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: 'male', label: \"Male\" }, { value: 'female', label: \"Female\" }, { value: 'other', label: \"Other\" }]}\r\n                                        value={data.gender}\r\n                                        onChange={v => { handleChange(v, 'gender') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className={data._id ? \"\" : \"req\"}>{data._id ? \"Update\" : \"Set\"} Password</label>\r\n                                    <Input value={data.password || ''} onChange={e => handleChange(e.target.value, 'password')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">DOB</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.dob || new Date()} onChange={value => { handleChange(value, 'dob') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Zip Code</label>\r\n                                    <Input value={data.zipcode || ''} onChange={e => { handleChange(util.handleInteger(e.target.value, 6), 'zipcode') }} />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Address</label>\r\n                                    <Input.TextArea value={data.address || ''} onChange={e => { handleChange(e.target.value, 'address') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Driving Licence Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driving Licence Number</label>\r\n                                    <Input value={data.drivingLicenceNumber || ''} onChange={e => handleChange(e.target.value, 'drivingLicenceNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Driving Licence Number Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" value={data.drivingLicenceNumberExpiryDate || new Date()} onChange={value => { handleChange(value, 'drivingLicenceNumberExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Driving Licence photo</label>\r\n                                    <UploadImage ref={licenceImgRef} {...{ fileCount: 1, files: data.drivingLicenceImage ? [data.drivingLicenceImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Adhar Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Number</label>\r\n                                    <Input value={data.adharNo || ''} onChange={e => handleChange(e.target.value, 'adharNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Adhar Card photo</label>\r\n                                    <UploadImage ref={adharCardImgRef} {...{ fileCount: 1, files: data.adharCardImage ? [data.adharCardImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Pan Card Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan No.</label>\r\n                                    <Input value={data.panNo || ''} onChange={e => handleChange(e.target.value, 'panNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Pan Card photo</label>\r\n                                    <UploadImage ref={panCardImgRef} {...{ fileCount: 1, files: data.panCardImage ? [data.panCardImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Badge Details </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Badge No.</label>\r\n                                    <Input value={data.badgeNo || ''} onChange={e => handleChange(e.target.value, 'badgeNo')} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Badge photo</label>\r\n                                    <UploadImage ref={badgeImgRef} {...{ fileCount: 1, files: data.badgeImage ? [data.badgeImage] : [] }} />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Status </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Approval Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Approved\" }, { value: false, label: \"Not Approved\" }]}\r\n                                        value={data.isApproved}\r\n                                        onChange={v => { handleChange(v, 'isApproved') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nexport const WalletModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Wallet History of <span className=\"text-danger\">{data.name}</span></>}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                footer={null}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Wallet driverId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst LoginsModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Login History</>}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={700}\r\n                footer={null}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Logins {...{driverId: data._id}} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin, Image, Divider } from \"antd\";\r\nimport { AntdSelect, MultiChechBox, AntdDatepicker } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined, CheckCircleOutlined, CloseCircleOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport commonService from \"../../../services/common\";\r\nimport rideService from \"../../../services/ride\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\nimport moment from \"moment\";\r\nimport Driver from \"../driver/Driver\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewVehicle'),\r\n    add: util.getModules('addVehicle'),\r\n    edit: util.getModules('editVehicle'),\r\n    delete: util.getModules('deleteVehicle'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Vehicle() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [rideTypes, setRideTypes] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const [makes, setMakes] = useState();\r\n    const [colors, setColors] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n    const [states, setStates] = useState([]);\r\n    // const [districts, setDistricts] = useState([]);\r\n    // const [taluks, setTaluks] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    const driverFormRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => (<Image height={30} preview={{ mask: \"View\" }} src={v?.url} />)\r\n        },\r\n        {\r\n            title: 'Vehicle Id',\r\n            dataIndex: 'vehicleId',\r\n            width: 80,\r\n        },\r\n        {\r\n            title: 'Vehicle Number',\r\n            dataIndex: 'vehicleNumber',\r\n            width: 120,\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Capacity',\r\n            dataIndex: 'availableCapacity',\r\n            width: 80,\r\n            render: (text, row) => {\r\n                if (text) {\r\n                    return text + \" Tons\";\r\n                } else {\r\n                    return row.availableSeats + \" Seats\";\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 120,\r\n            render: data => data?.name\r\n        },\r\n        {\r\n            title: 'Created At',\r\n            dataIndex: 'createdAt',\r\n            render: text => moment(text).format(\"MMMM D, YYYY\")\r\n        },\r\n        {\r\n            title: 'Driver',\r\n            dataIndex: '',\r\n            width: 120,\r\n            hidden: !util.getModules('viewDriver'),\r\n            render: (isActive, row) => {\r\n                return <Button size=\"small\" className=\"mx-1\" onClick={() => { driverFormRef.current.openForm(row) }}>\r\n                    <span className=\"d-flex\">\r\n                        <span>Driver</span>\r\n                        <span\r\n                            className={\"d-flex mx-1 \" + (\r\n                                ! row?.driverDetails\r\n                                    ? \"text-danger\"\r\n                                    : row?.driverDetails?.isApproved ? \"text-success\" : \"text-warning\"\r\n                            )}\r\n                        >\r\n                            {\r\n                                ! row?.driverDetails\r\n                                    ? <PlusCircleOutlined className=\"my-auto\" />\r\n                                    : row?.driverDetails?.isApproved\r\n                                        ? <CheckCircleOutlined className=\"my-auto\" />\r\n                                        : <CloseCircleOutlined className=\"my-auto\" />\r\n                            }\r\n\r\n                        </span>\r\n                    </span>\r\n                </Button>\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this vehicle?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res => { setServiceType(res.result.data); });\r\n        rideService.listAllRideType({}, 'viewRideType').then(res => { setRideTypes(res.result.data); });\r\n        service.listAllMake({ models: 1, active: 1, modelActive: 1 }, 'viewMake').then(res => { setMakes(res.result.data); });\r\n        service.listAllColor({}, 'viewColor').then(res => { setColors(res.result.data); });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        if(sdt.length){\r\n            setStates(sdt.map(v=> ({_id: v._id, name: v.name, districts: v.districts})));\r\n        }\r\n    }, [sdt]);\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            },\r\n            {\r\n                type: 'dropdown',\r\n                key: 'driverApproved',\r\n                placeholder: 'Driver Status',\r\n                className: \"w200 mx-1\",\r\n                options: [{ value: true, label: \"Approved\" }, { value: false, label: \"Not Approved\" }/* , { value: 'withoutDriver', label: \"Without Driver\" } */]\r\n            },\r\n            {\r\n                type: 'dropdown',\r\n                key: 'state',\r\n                placeholder: 'State',\r\n                className: \"w200 mx-1\",\r\n                options: states\r\n            },\r\n        ]);\r\n    }, [serviceType, states]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Vehicle List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Vehicle id or Name or Number', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceType, rideTypes, makes, colors, sdt }} />\r\n            <AddFormDriver ref={driverFormRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceType, rideTypes: parRideTypes, makes, colors, sdt } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [rideTypes, setRideTypes] = useState([]);\r\n    const [vehicleCategories, setVehicleCategories] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [models, setModels] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const primaryImgRef = useRef();\r\n    const otherImgRef = useRef();\r\n    const registrationImgRef = useRef();\r\n    const insuranceImgRef = useRef();\r\n    const permitImgRef = useRef();\r\n    const pollutionImgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = {};\r\n            }\r\n            primaryImgRef.current = {};\r\n            otherImgRef.current = {};\r\n            registrationImgRef.current = {};\r\n            insuranceImgRef.current = {};\r\n            permitImgRef.current = {};\r\n            pollutionImgRef.current = {};\r\n            dt.registrationExpiryDate = moment(dt.registrationExpiryDate).format('YYYY-MM-DD');\r\n            dt.insuranceExpiryDate = moment(dt.insuranceExpiryDate).format('YYYY-MM-DD');\r\n            dt.permitExpiryDate = moment(dt.permitExpiryDate).format('YYYY-MM-DD');\r\n            dt.pollutionExpiryDate = moment(dt.pollutionExpiryDate).format('YYYY-MM-DD');\r\n            setData(dt._id ? { ...dt } : { isActive: true, addedBy: 'admin', isApproved: false });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'slug'); }, [data.name]);\r\n    useEffect(() => {\r\n        const newRideTypes = parRideTypes?.filter(v => {\r\n            // if (v.serviceType._id === data.serviceType) {\r\n            //     return v.serviceType\r\n            // }\r\n            return v.serviceType._id === data.serviceType;\r\n        });\r\n\r\n        setRideTypes(newRideTypes || []);\r\n    }, [data.serviceType]);\r\n\r\n    useEffect(() => {\r\n        handleChange([], 'rideTypes');\r\n    }, [rideTypes]);\r\n\r\n    useEffect(() => {\r\n        let newVehicleCategories = parRideTypes?.filter(v => data.rideTypes?.includes(v._id));\r\n        newVehicleCategories = newVehicleCategories?.map(v => v.allowedVehicleCategoriesDetails)?.flat(1);\r\n        newVehicleCategories = newVehicleCategories?.filter((value, index, self) =>\r\n            index === self.findIndex((t) => t._id === value._id)\r\n        );\r\n\r\n        setVehicleCategories(newVehicleCategories);\r\n    }, [rideTypes, data.rideTypes]);\r\n\r\n    useEffect(() => {\r\n        const newModels = makes?.find(v => data.make === v._id)?.models || [];\r\n        setModels([...newModels]);\r\n    }, [data.make]);\r\n\r\n    useEffect(() => {\r\n        if (!models?.map(v => v._id)?.includes(data?.model)) {\r\n            handleChange('', 'model');\r\n        }\r\n    }, [models]);\r\n\r\n    useEffect(() => {\r\n        handleChange(\r\n            (makes?.find(v => v._id === data.make)?.name || '')\r\n            + \" - \" + (models?.find(v => v._id === data.model)?.name || '')\r\n            , 'name');\r\n    }, [data.make, data.model]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(vehicleCategories) && vehicleCategories.length > 0) {\r\n            const flagUpdate = vehicleCategories?.filter(v => v._id === data.vehicleCategory);\r\n            if (flagUpdate?.length === 0) { handleChange('', 'vehicleCategory'); }\r\n        }\r\n    }, [vehicleCategories]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state]);\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts]);\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state]);\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.primaryPhoto = primaryImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.otherPhotos = otherImgRef?.current?.uploadingFiles?.map(v => v.base64);\r\n        data.registrationPhoto = registrationImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.insurancePhoto = insuranceImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.permitPhoto = permitImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.pollutionPhoto = pollutionImgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        data.deletingFiles = otherImgRef?.current?.deletingFiles;\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Vehicle'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Added By</label>\r\n                                    <AntdSelect\r\n                                        disabled\r\n                                        options={[{ value: 'admin', label: \"Admin\" }, { value: 'driver', label: \"Driver\" }]}\r\n                                        value={data.addedBy}\r\n                                        onChange={v => { handleChange(v, 'addedBy') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\"></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Approved</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Yes\" }, { value: false, label: \"No\" }]}\r\n                                        value={data.isApproved}\r\n                                        onChange={v => { handleChange(v, 'isApproved') }}\r\n                                    />\r\n                                </div>\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Vehicle Id</Divider></div>\r\n\r\n                                {/* <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle Id</label>\r\n                                    <Input value={data.vehicleId || ''} onChange={e => handleChange(util.handleInteger(e.target.value), 'vehicleId')} />\r\n                                </div> */}\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Service Type </Divider></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect options={serviceType} value={data.serviceType} onChange={v => { handleChange(v, 'serviceType') }} />\r\n                                </div>\r\n                                {\r\n                                    rideTypes?.length\r\n                                        ? <div className=\"col-md-6 form-group\">\r\n                                            <label className=\"req\">Ride Types</label>\r\n                                            <MultiChechBox options={rideTypes} {...{ col: 4 }} value={data.rideTypes} onChange={v => { (!v?.length || handleChange(v, 'rideTypes')) }} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n                                {\r\n                                    vehicleCategories?.length\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Vehicle Categories</label>\r\n                                            <AntdSelect options={vehicleCategories} value={data.vehicleCategory || ''} onChange={v => { handleChange(v, 'vehicleCategory') }} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Make Details </Divider></div>\r\n\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Make</label>\r\n                                    <AntdSelect options={makes || []} value={data.make || ''} onChange={v => { handleChange(v, 'make') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Model</label>\r\n                                    <AntdSelect options={models || []} value={data.model || ''} onChange={v => { handleChange(v, 'model') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Color</label>\r\n                                    <AntdSelect options={colors} value={data.color || ''} onChange={v => { handleChange(v, 'color') }} />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Manufacturing Year</label>\r\n                                    <AntdDatepicker picker=\"year\" format=\"YYYY\" getFormat=\"YYYY\" disableUpcomingDate={true} value={data.manufacturingYear || new Date()} onChange={value => { handleChange(value, 'manufacturingYear') }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Basic Details</Divider></div>\r\n\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} disabled />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Vehicle Number</label>\r\n                                    <Input value={data.vehicleNumber || ''} onChange={e => handleChange(e.target.value, 'vehicleNumber')} />\r\n                                </div>\r\n                                {\r\n                                    serviceType?.find(v => v._id === data.serviceType)?.key === 'taxi'\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Available Seats</label>\r\n                                            <Input value={data.availableSeats || ''} onChange={e => handleChange(util.handleInteger(e.target.value, 2), 'availableSeats')} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    serviceType?.find(v => v._id === data.serviceType)?.key === 'cargo'\r\n                                        ? <div className=\"col-md-3 form-group\">\r\n                                            <label className=\"req\">Available Capacity (in tons)</label>\r\n                                            <Input value={data.availableCapacity || ''} onChange={e => handleChange(e.target.value, 'availableCapacity')} />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                <div></div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-3 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-2 form-group\">\r\n                                    <label className=\"req\">Primary Image</label>\r\n                                    <UploadImage ref={primaryImgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div className=\"col-md-10 form-group\">\r\n                                    <label className=\"req\">Images</label>\r\n                                    <UploadImage ref={otherImgRef} {...{ fileCount: 4, files: data.otherPhotos ? data.otherPhotos : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Registration</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Number</label>\r\n                                    <Input value={data.registrationNumber || ''} onChange={e => handleChange(e.target.value, 'registrationNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.registrationExpiryDate || new Date()} onChange={value => { handleChange(value, 'registrationExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Registration Image</label>\r\n                                    <UploadImage ref={registrationImgRef} {...{ fileCount: 1, files: data.registrationImage ? [data.registrationImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Insurance</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Number</label>\r\n                                    <Input value={data.insuranceNumber || ''} onChange={e => handleChange(e.target.value, 'insuranceNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.insuranceExpiryDate || new Date()} onChange={value => { handleChange(value, 'insuranceExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Insurance Image</label>\r\n                                    <UploadImage ref={insuranceImgRef} {...{ fileCount: 1, files: data.insuranceImage ? [data.insuranceImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Permit</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Number</label>\r\n                                    <Input value={data.permitNumber || ''} onChange={e => handleChange(e.target.value, 'permitNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.permitExpiryDate || new Date()} onChange={value => { handleChange(value, 'permitExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Permit Image</label>\r\n                                    <UploadImage ref={permitImgRef} {...{ fileCount: 1, files: data.permitImage ? [data.permitImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div><Divider orientation=\"left\" className=\"text-danger\">Pollution Certificate</Divider></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Number</label>\r\n                                    <Input value={data.pollutionNumber || ''} onChange={e => handleChange(e.target.value, 'pollutionNumber')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Expiry Date</label>\r\n                                    <AntdDatepicker format=\"MMMM D, YYYY\" disablePastDate={true} value={data.pollutionExpiryDate || new Date()} onChange={value => { handleChange(value, 'pollutionExpiryDate') }} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Pollution Certificate Image</label>\r\n                                    <UploadImage ref={pollutionImgRef} {...{ fileCount: 1, files: data.pollutionImage ? [data.pollutionImage] : [] }} />\r\n                                </div>\r\n\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst AddFormDriver = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt);\r\n            setVisible(true);\r\n        }\r\n    }));\r\n\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                onCancel={() => { setVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={200}\r\n                // bodyStyle={{display: \"none\"}}\r\n                closable={false}\r\n                footer={null}\r\n            >\r\n                <Spin spinning={true} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>Loading</Spin>\r\n                <Driver {...{ vehicleData: data, setVisible }} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Tag, Spin, Image } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/ride\";\r\nimport { AntdMsg, MultiChechBox } from \"../../../utils/Antd\";\r\nimport UploadImage from \"../../components/UploadImage\";\r\nimport util from \"../../../utils/util\";\r\nimport commonService from \"../../../services/common\";\r\nimport vehicleService from \"../../../services/vehicle\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewRideType'),\r\n    add: util.getModules('addRideType'),\r\n    edit: util.getModules('editRideType'),\r\n    delete: util.getModules('deleteRideType'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Type() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [serviceType, setServiceType] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n    const [vehicleCategories, setVehicleCategories] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Image',\r\n            dataIndex: 'image',\r\n            width: 100,\r\n            render: (v) => (<Image height={30} preview={{ mask: \"View\" }} src={v?.url} />)\r\n        },\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Allowed Vehicle Categories',\r\n            dataIndex: 'allowedVehicleCategoriesDetails',\r\n            render: (data, row) => (\r\n                data.map((v, i) => {\r\n                    return <Tag color={\r\n                        i % 4 === 0\r\n                            ? 'blue'\r\n                            : i % 4 === 1\r\n                                ? 'gold'\r\n                                : i % 4 === 2\r\n                                    ? 'cyan'\r\n                                    : 'pink'\r\n                    } key={i}>{v.name}</Tag>\r\n                })\r\n            )\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceType',\r\n            width: 100,\r\n            render: serviceType => {\r\n                if (serviceType.key === 'cargo') {\r\n                    return <Tag color=\"magenta\">{serviceType.name}</Tag>\r\n                } else {\r\n                    return <Tag color=\"orange\">{serviceType.name}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 60,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({serviceType: sdata?.serviceType, ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({serviceType: sdata?.serviceType, ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {/* {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this ride type?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    } */}\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listRideType(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    // const deleteConfirm = (id) => {\r\n    //     service.deleteRideType(id, deleteAccess).then(res => {\r\n    //         AntdMsg(res.message);\r\n    //         list();\r\n    //     }).catch(err => {\r\n    //         AntdMsg(err.message, 'error');\r\n    //     })\r\n    // }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res=>{setServiceType(res.result.data);});\r\n        vehicleService.listAllCategory({}, 'viewVehicleCategory').then(res=>{setVehicleCategories(res.result.data);});\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceType\r\n            }\r\n        ]);\r\n    }, [serviceType]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Ride Type List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, filters, loading, formRef, list, searchPlaceholder: 'Name or Slug', addNew: false }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceType, vehicleCategories }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceType, vehicleCategories } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    // useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveRideType(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Ride Type'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect\r\n                                        options={serviceType}\r\n                                        value={data?.serviceType?._id}\r\n                                        disabled={data._id}\r\n                                        onChange={v => { /*handleChange(v, 'serviceType')*/ }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Vehicle Categories</label>\r\n                                    <MultiChechBox options={vehicleCategories} value={data.allowedVehicleCategories} onChange={v => { (!v?.length || handleChange(v, 'allowedVehicleCategories')) }} />\r\n\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Image</label>\r\n                                    <UploadImage ref={imgRef} {...{ fileCount: 1, files: data.image ? [data.image] : [] }} />\r\n                                </div>\r\n                                <div></div>\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewMake'),\r\n    add: util.getModules('addMake'),\r\n    edit: util.getModules('editMake'),\r\n    delete: util.getModules('deleteMake'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Make() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this make?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listMake(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteMake(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Make List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveMake(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Make'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'key')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewMakeModel'),\r\n    add: util.getModules('addMakeModel'),\r\n    edit: util.getModules('editMakeModel'),\r\n    delete: util.getModules('deleteMakeModel'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function MakeModel() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [makes, setMakes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Make',\r\n            dataIndex: 'makeDetails',\r\n            width: 200,\r\n            render: data =>  <Tag>{data.name}</Tag>,\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this make model?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listMakeModel(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteMakeModel(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllMake().then(res=>{setMakes(res.result.data)});\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Make Model List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, makes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, makes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveMakeModel(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Make Model'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Make</label>\r\n                                    <AntdSelect options={makes} value={data.make} onChange={v => { handleChange(v, 'make') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} onChange={e => handleChange(util.removeSpecialChars(e.target.value), 'key')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/vehicle\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewColor'),\r\n    add: util.getModules('addColor'),\r\n    edit: util.getModules('editColor'),\r\n    delete: util.getModules('deleteColor'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Color() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Color',\r\n            dataIndex: 'code',\r\n            width: 60,\r\n            render: data => <Tag style={{backgroundColor: data}}>&nbsp;</Tag>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this color?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listColor(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteColor(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Color List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Code', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const imgRef = useRef();\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            imgRef.current = {};\r\n            setData(dt ? { ...dt } : { code: '#000000', isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        data.photo = imgRef?.current?.uploadingFiles?.[0]?.base64;\r\n        service.saveColor(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Color'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Code</label>\r\n                                    <Input type=\"color\" value={data.code || ''} onChange={e => handleChange((e.target.value), 'code')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class fare {\r\n    static baseURL = 'fare-management/';\r\n\r\n    static listPackage(data, module) {\r\n        return axios.get(this.baseURL + 'package/list', { params: data, module });\r\n    }\r\n    static listPackageAll(data, module) {\r\n        return axios.get(this.baseURL + 'package/list/ALL', { params: data, module });\r\n    }\r\n    static savePackage(data, module) {\r\n        return axios.post(this.baseURL + \"package/save\", data, { module });\r\n    }\r\n    static deletePackage(id, module) {\r\n        return axios.delete(`${this.baseURL}package/delete/${id}`, { module });\r\n    }\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Spin, Divider } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/fare\";\r\nimport commonService from \"../../../services/common\";\r\nimport rideService from \"../../../services/ride\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewFareManagement'),\r\n    add: util.getModules('addFareManagement'),\r\n    edit: util.getModules('editFareManagement'),\r\n    delete: util.getModules('deleteFareManagement'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function TaxiFareManagement({ activeServiceType = 'taxi' }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n    const [rideTypes, setRideTypes] = useState([]);\r\n    const [filters, setFilters] = useState([]);\r\n    const [packages, setPackages] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, serviceTypeKey: activeServiceType });\r\n    const columns = [\r\n        {\r\n            title: 'Fares',\r\n            dataIndex: '',\r\n            width: 260,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-success\">\r\n                                <td>Base Fare</td>\r\n                                <td>: {row.baseFare}</td>\r\n                            </tr>\r\n                            <tr className=\"text-primary\">\r\n                                <td>Booking Fare</td>\r\n                                <td>: {row.bookingFare}</td>\r\n                            </tr>\r\n                            {\r\n                                [\"taxi-rentals\", \"cargo-rentals\"].includes(row?.rideTypeDetails?.key)\r\n                                    ? <tr className=\"text-info\">\r\n                                        <td>Extra Per Minute Charge</td>\r\n                                        <td>: {row.extraPerMinuteCharge}</td>\r\n                                    </tr>\r\n                                    : <tr className=\"text-info\">\r\n                                        <td>Per Minute Fare</td>\r\n                                        <td>: {row.perMinuteFare}</td>\r\n                                    </tr>\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Charges',\r\n            dataIndex: '',\r\n            width: 180,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-danger\">\r\n                                <td>Cancel Charge</td>\r\n                                <td>: {row.cancelCharge}</td>\r\n                            </tr>\r\n                            <tr className=\"text-warning\">\r\n                                <td>Waiting Charge</td>\r\n                                <td>: {row.waitingCharge}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Admin Comission',\r\n            dataIndex: '',\r\n            width: 180,\r\n            render: (id, row) => (\r\n                <>\r\n                    <table className=\"text-uppercase\">\r\n                        <tbody>\r\n                            <tr className=\"text-secondary\">\r\n                                <td>Type</td>\r\n                                <td >: {row.adminCommissionType}</td>\r\n                            </tr>\r\n                            <tr className=\"text-primary\">\r\n                                <td>Value</td>\r\n                                <td>: {row.adminCommissionValue}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceTypeDetails',\r\n            width: 100,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Ride Type',\r\n            dataIndex: 'rideTypeDetails',\r\n            width: 120,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Vehicle Category',\r\n            dataIndex: 'vehicleCategoryDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 150,\r\n            render: (data, row) => data.name,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this fare?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => setServiceTypes(res.result.data || []));\r\n        rideService.listAllRideType({}, 'viewRideType').then(res => setRideTypes(res.result.data || []));\r\n        service.listPackageAll({}, 'ignoreModule').then(res => { setPackages(res.result.data || []) });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const tempRT = rideTypes.filter(v => v.serviceType?.key === activeServiceType);\r\n        if (tempRT.length) {\r\n            setFilters([...filters, {\r\n                type: 'dropdown',\r\n                key: 'rideType',\r\n                placeholder: 'Ride Type',\r\n                className: \"w200 mx-1\",\r\n                options: tempRT\r\n            }]);\r\n        }\r\n    }, [rideTypes]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Fare List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Search', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt, activeServiceType, serviceTypes, rideTypes, packages }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, activeServiceType, serviceTypes, rideTypes, packages } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [activeRideTypes, setActiveRideTypes] = useState([]);\r\n    const [activeVehicleCategories, setActiveVehicleCategories] = useState([]);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if (!dt) {\r\n                dt = { isActive: true, serviceType: serviceTypes?.find(v => v.key === activeServiceType)?._id };\r\n                dt.perKMCharges = [{}];\r\n                dt.extraPerKMCharges = [{}];\r\n            }\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => {\r\n        let varDt = data;\r\n        let keys = k.split('.');\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (i + 1 === keys.length) {\r\n                varDt[keys[i]] = v;\r\n            } else {\r\n                if (typeof varDt[keys[i]] === 'undefined') {\r\n                    if (parseInt(keys[i + 1]) * 1 >= 0) {\r\n                        varDt[keys[i]] = [];\r\n                    } else {\r\n                        varDt[keys[i]] = {};\r\n                    }\r\n                } varDt = varDt[keys[i]];\r\n            }\r\n        }\r\n        setData({ ...data });\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setActiveRideTypes(rideTypes.filter(v => v.serviceType?.key === activeServiceType));\r\n    }, [rideTypes]);\r\n\r\n    useEffect(() => {\r\n        const tempVC = activeRideTypes.find(v => v._id === data.rideType)?.allowedVehicleCategoriesDetails || [];\r\n        if (!tempVC.find(v => v._id === data.vehicleCategory)) {\r\n            handleChange('', 'vehicleCategory');\r\n        }\r\n        setActiveVehicleCategories(tempVC);\r\n    }, [data.rideType, activeRideTypes]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district)\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk)\r\n    useEffect(() => {\r\n        const newDistricts = sdt.find(v => v._id === data.state)?.districts || [];\r\n        setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || [])\r\n    }, [data.state])\r\n    useEffect(() => {\r\n        const newTaluks = districts?.find(v => v.value === data.district)?.taluks || [];\r\n        setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } }))\r\n    }, [data.district, districts])\r\n    useEffect(() => {\r\n        if (!checkDistrictExist()) {\r\n            handleChange('', 'district');\r\n        }\r\n    }, [data.state])\r\n    useEffect(() => {\r\n        if (!checkTalukExist()) {\r\n            handleChange('', 'taluk');\r\n        }\r\n    }, [data.district, districts])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Fare Management'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={900}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect\r\n                                        options={serviceTypes}\r\n                                        value={data.serviceType}\r\n                                        onChange={v => { handleChange(v, 'serviceType') }}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Ride Type</label>\r\n                                    <AntdSelect\r\n                                        options={activeRideTypes}\r\n                                        value={data.rideType}\r\n                                        onChange={v => { handleChange(v, 'rideType') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Vehicle Category</label>\r\n                                    <AntdSelect\r\n                                        options={activeVehicleCategories}\r\n                                        value={data.vehicleCategory}\r\n                                        onChange={v => { handleChange(v, 'vehicleCategory') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    [\"taxi-rentals\", \"cargo-rentals\"].includes(activeRideTypes?.find(v => v._id === data.rideType)?.key)\r\n                                        ? <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Package</label>\r\n                                            <AntdSelect\r\n                                                options={packages?.filter(v => v?.serviceTypeDetails?.key === activeServiceType)}\r\n                                                value={data.package}\r\n                                                onChange={v => { handleChange(v, 'package') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Base Fare(In ₹)</label>\r\n                                    <Input value={data.baseFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'baseFare')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Booking Fare(In ₹)</label>\r\n                                    <Input value={data.bookingFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'bookingFare')} />\r\n                                </div>\r\n                                {\r\n                                    [\"taxi-rentals\", \"cargo-rentals\"].includes(activeRideTypes?.find(v => v._id === data.rideType)?.key)\r\n                                        ? <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Extra Per Minute Charge(In ₹)</label>\r\n                                            <Input value={data.extraPerMinuteCharge || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'extraPerMinuteCharge')} />\r\n                                        </div>\r\n                                        : <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Per Minute Fare(In ₹)</label>\r\n                                            <Input value={data.perMinuteFare || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'perMinuteFare')} />\r\n                                        </div>\r\n                                }\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Cancel Charge(In ₹)</label>\r\n                                    <Input value={data.cancelCharge || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'cancelCharge')} />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Waiting Charge(Per Minute)(In ₹)</label>\r\n                                    <Input value={data.waitingCharge || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'waitingCharge')} />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Admin Commission Type</label>\r\n                                    <AntdSelect\r\n                                        options={[{ _id: 'flat', title: 'FLAT' }, { _id: 'percentage', title: 'PERCENTAGE' }]}\r\n                                        value={data.adminCommissionType}\r\n                                        onChange={v => { handleChange(v, 'adminCommissionType') }}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Admin Commission Value</label>\r\n                                    <Input value={data.adminCommissionValue || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'adminCommissionValue')} />\r\n                                </div>\r\n                                {\r\n\r\n                                    [\"taxi-pickup-drop\", \"cargo-daily-ride\"].includes(activeRideTypes?.find(v => v._id === data.rideType)?.key)\r\n                                        ? <PerKMCharges {...{ perKMCharges: data.perKMCharges, parentKay: 'perKMCharges', handleChange }} />\r\n                                        : [\"taxi-rentals\", \"cargo-rentals\"].includes(activeRideTypes?.find(v => v._id === data.rideType)?.key)\r\n                                            ? <PerKMCharges {...{ perKMCharges: data.extraPerKMCharges, parentKay: 'extraPerKMCharges', handleChange }} />\r\n                                            : null\r\n                                }\r\n\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nfunction PerKMCharges({ perKMCharges: data, parentKay, handleChange }) {\r\n\r\n    useEffect(() => {\r\n        console.log(parentKay, parentKay === 'extraPerKMCharges');\r\n    }, [parentKay])\r\n\r\n    return (\r\n        <>\r\n            <div><Divider orientation=\"left\">{parentKay === 'extraPerKMCharges' ? \"Extra Per KM Charge\" : \"Per KM Charge\"}</Divider></div>\r\n            <div className=\"col-md-2 form-group\">\r\n                <label className=\"req\">Min KM</label>\r\n            </div>\r\n            <div className=\"col-md-2 form-group\">\r\n                <label className=\"req\">Max KM</label>\r\n            </div>\r\n            <div className=\"col-md-4 form-group\">\r\n                <label className=\"req\">Per KM Charge(In ₹)</label>\r\n            </div>\r\n            <div></div>\r\n            {\r\n                data?.map((v, i) => (\r\n                    <React.Fragment key={i}>\r\n                        <div className=\"col-md-2 form-group\">\r\n                            <Input placeholder=\"Min KM\" value={i === 0 ? 0 : (data[i - 1].maxKM)} disabled />\r\n                        </div>\r\n                        <div className=\"col-md-2 form-group\">\r\n                            <Input placeholder=\"Max KM\" value={v.maxKM || ''} onChange={(e) => { handleChange(util.handleInteger(e.target.value), `${parentKay}.${i}.maxKM`) }} />\r\n                        </div>\r\n                        <div className=\"col-md-4 form-group\">\r\n                            <Input placeholder=\"Per KM Charge\" value={v.charge || ''} onChange={(e) => { handleChange(util.handleFloat(e.target.value), `${parentKay}.${i}.charge`) }} />\r\n                        </div>\r\n                        <div className=\"col-md-4 form-group\">\r\n                            {\r\n                                i + 1 === data.length\r\n                                    ? <Button type=\"dashed\" onClick={() => {\r\n                                        if (v.maxKM && v.maxKM > (i === 0 ? 0 : (data[i - 1].maxKM)) && v.charge) {\r\n                                            handleChange([...data, {}], parentKay);\r\n                                        } else {\r\n                                            AntdMsg(`Max KM must be greater than ${i === 0 ? 0 : (data[i - 1].maxKM)} and Per KM charge is required`, 'error');\r\n                                        }\r\n                                    }}>Add</Button>\r\n                                    : null\r\n                            }\r\n                            {\r\n                                i + 1 === data.length && i !== 0\r\n                                    ? <Button type=\"dashed\" className=\"mx-2\" danger onClick={() => {\r\n                                        data.pop();\r\n                                        handleChange([...data], parentKay);\r\n                                    }}>Remove</Button>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </React.Fragment>\r\n                ))\r\n            }\r\n        </>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Popconfirm } from \"antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/email\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport TinyMce from \"../../components/TinyMce\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewEmailTemplate'),\r\n    add: util.getModules('addEmailTemplate'),\r\n    edit: util.getModules('editEmailTemplate'),\r\n    delete: util.getModules('deleteEmailTemplate'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Template() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Subject',\r\n            dataIndex: 'subject',\r\n        },\r\n        {\r\n            title: 'Key',\r\n            dataIndex: 'key',\r\n            width: 200,\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 100,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        row.deletable && deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this email template?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listTeplates(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteTeplates(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Email Template List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Title or Key', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveTeplate(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => { !data.deletable || handleChange(util.removeSpecialChars(data.subject || ''), 'key'); }, [data.subject]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Email Template'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Subject</label>\r\n                                    <Input value={data.subject || ''} onChange={e => { handleChange(e.target.value, 'subject') }} />\r\n                                </div>\r\n                                <div className=\"col-md-6 form-group\">\r\n                                    <label className=\"req\">Key</label>\r\n                                    <Input value={data.key || ''} disabled={!data.deletable} onChange={e => { !data.deletable || handleChange(util.removeSpecialChars(e.target.value), 'key') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Template Design</label>\r\n                                    <TinyMce {...{ height: 700 }} initialValue={data.html || ''} onChange={v => { handleChange(v, 'html', false) }} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","import axios from \"../utils/axios\";\r\n\r\nexport default class notification {\r\n    static baseURL = 'notification/';\r\n\r\n    static list(data, module) {\r\n        return axios.get(this.baseURL + 'list', { params: data, module });\r\n    }\r\n    static listAll(data, module) {\r\n        return axios.get(this.baseURL + 'list/ALL', { params: data, module });\r\n    }\r\n    static save(data, module) {\r\n        return axios.post(this.baseURL + \"save\", data, { module });\r\n    }\r\n    static delete(id, module) {\r\n        return axios.delete(`${this.baseURL}delete/${id}`, { module });\r\n    }\r\n\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Input, Modal, Spin, Popconfirm } from \"antd\";\r\nimport { EditOutlined, LoadingOutlined, EyeOutlined, DeleteOutlined, SendOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/notification\";\r\nimport customerService from \"../../../services/customer\";\r\nimport driverService from \"../../../services/driver\";\r\nimport sdtService from \"../../../services/sdt\";\r\nimport commonService from \"../../../services/common\";\r\nimport adminService from \"../../../services/admin\";\r\nimport { AntdMsg, AntdSelect } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewNotification'),\r\n    add: util.getModules('addNotification'),\r\n    edit: util.getModules('editNotification'),\r\n    delete: util.getModules('deleteNotification'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Notification() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [drivers, setDrivers] = useState([]);\r\n    const [admins, setAdmins] = useState([]);\r\n    const [sdt, setSdt] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'To',\r\n            dataIndex: 'to',\r\n            width: 150,\r\n            render: (text) => {\r\n                if (text === 'manyCustomers') {\r\n                    return \"Many Customers\";\r\n                } else if (text === 'manyDrivers') {\r\n                    return \"Many Drivers\";\r\n                } else if (text === 'manyAdmins') {\r\n                    return \"Many Admins\";\r\n                } else if (text === 'allCustomers') {\r\n                    return \"All Customers\";\r\n                } else if (text === 'allDrivers') {\r\n                    return \"All Drivers\";\r\n                } else if (text === 'allAdmins') {\r\n                    return \"All Admins\";\r\n                } else {\r\n                    return text;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: 'Content',\r\n            dataIndex: 'content',\r\n        },\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'stateDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'District',\r\n            dataIndex: 'districtDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Taluk',\r\n            dataIndex: 'talukDetails',\r\n            width: 250,\r\n            render: (data) => data?.name\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 100,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm({ ...text }) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this notification?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.list(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.delete(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        customerService.listAll('viewCustomer').then(res => {\r\n            setCustomers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Customers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        driverService.listAll({}, 'viewDriver').then(res => {\r\n            setDrivers(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Drivers are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        adminService.listAll({}, 'viewAdmin').then(res => {\r\n            setAdmins(res.result.data || []);\r\n        }).catch(err => {\r\n            AntdMsg('Admins are not loaded! Contact super admin if you have any permission error', 'error');\r\n        });\r\n        sdtService.listSdt('ignoreModule').then(res => { setSdt(res.result.data || []) });\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Notification List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Content', addNew: addAccess, addNewIcon: SendOutlined, addNewText: 'Send New' }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, sdt, customers, drivers, admins, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, sdt, customers, drivers, admins, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    let [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n    const [taluks, setTaluks] = useState([]);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { deletable: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k, updateState = true) => {\r\n        if (changeForm) {\r\n            updateState ? setData({ ...data, [k]: v }) : data = { ...data, [k]: v }\r\n        }\r\n    }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.save(data, addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'manyCustomers' || data.to === 'allCustomers') {\r\n            setAllUsers(customers.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else if (data.to === 'manyDrivers' || data.to === 'allDrivers') {\r\n            setAllUsers(drivers.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk, serviceType: v?.vehicleDetails?.serviceType }\r\n            )) || []);\r\n        } else if (data.to === 'manyAdmins' || data.to === 'allAdmins') {\r\n            setAllUsers(admins.map(v => (\r\n                { _id: v._id, title: v.firstName + ' ' + v?.lastName + ` - (${v.email})`, state: v.state, district: v.district, taluk: v.taluk }\r\n            )) || []);\r\n        } else {\r\n            setAllUsers([]);\r\n        }\r\n    }, [data.to]);\r\n\r\n    useEffect(() => { setUsers(allUsers); }, [allUsers]);\r\n\r\n    useEffect(() => {\r\n        if (data.to === 'allCustomers' || data.to === 'allDrivers' || data.to === 'allAdmins') {\r\n            const tempUserIds = users.map(v => v._id);\r\n            handleChange(tempUserIds, 'userIds');\r\n        } else {\r\n            handleChange(null, 'userIds');\r\n        }\r\n    }, [users]);\r\n\r\n    const checkDistrictExist = () => sdt?.find(v => v._id === data.state)?.districts.map(v => v._id)?.includes(data.district);\r\n    const checkTalukExist = () => sdt?.find(v => v._id === data.state)?.districts.find(v => v._id === data.district)?.taluks?.map(v => v._id)?.includes(data.taluk);\r\n    useEffect(() => { const newDistricts = sdt.find(v => v._id === data.state)?.districts || []; setDistricts(newDistricts?.map(v => ({ value: v._id, label: v.name, taluks: v.taluks })) || []); }, [data.state]);\r\n    useEffect(() => { const newTaluks = districts?.find(v => v.value === data.district)?.taluks || []; setTaluks(newTaluks?.map(v => { return { value: v._id, label: v.name } })); }, [data.district, districts]);\r\n    useEffect(() => { if (!checkDistrictExist()) { handleChange(null, 'district'); } }, [data.state]);\r\n    useEffect(() => { if (!checkTalukExist()) { handleChange(null, 'taluk'); } }, [data.district, districts]);\r\n\r\n    useEffect(() => {\r\n        if (data.taluk) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.taluk === data?.taluk && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.taluk === data?.taluk\r\n                }\r\n            }));\r\n        } else if (data.district) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.district === data?.district && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.district === data?.district;\r\n                }\r\n            }));\r\n        } else if (data.state) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (data.serviceType && v.serviceType) {\r\n                    return v?.state === data?.state && v.serviceType === data.serviceType;\r\n                } else {\r\n                    return v?.state === data?.state;\r\n                }\r\n            }));\r\n        } else if (data.serviceType) {\r\n            setUsers(allUsers.filter(v => {\r\n                if (v.serviceType) {\r\n                    return v.serviceType === data.serviceType;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }));\r\n        } else {\r\n            setUsers(allUsers);\r\n        }\r\n    }, [data.serviceType, data.state, data.district, data.taluk, allUsers]);\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={'Send Notification'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText={<div className=\"d-flex\">Send <SendOutlined className=\"my-auto mx-1\" /></div>}\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All States\"\r\n                                        allowClear\r\n                                        options={sdt.map(v => ({ value: v._id, label: v.name }))}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Districts\"\r\n                                        allowClear\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Taluk</label>\r\n                                    <AntdSelect\r\n                                        placeholder=\"All Taluks\"\r\n                                        allowClear\r\n                                        options={taluks || []}\r\n                                        value={data.taluk}\r\n                                        onChange={v => { handleChange(v, 'taluk') }}\r\n                                    />\r\n                                </div>\r\n                                <div></div>\r\n                                <div className=\"col-md-4 form-group\">\r\n                                    <label className=\"req\">Send To</label>\r\n                                    <AntdSelect\r\n                                        options={[\r\n                                            { _id: 'manyCustomers', title: 'Many Customers' },\r\n                                            { _id: 'manyDrivers', title: 'Many Drivers' },\r\n                                            { _id: 'manyAdmins', title: 'Many Admins' },\r\n                                            { _id: 'allCustomers', title: 'All Customers' },\r\n                                            { _id: 'allDrivers', title: 'All Drivers' },\r\n                                            { _id: 'allAdmins', title: 'All Admins' },\r\n                                        ]}\r\n                                        value={data.to}\r\n                                        onChange={v => { handleChange(v, 'to') }}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    ['manyDrivers', 'allDrivers'].includes(data.to)\r\n                                        ? <div className=\"col-md-4 form-group\">\r\n                                            <label className=\"req\">Service Type</label>\r\n                                            <AntdSelect\r\n                                                allowClear\r\n                                                placeholder=\"All Service Types\"\r\n                                                options={serviceTypes || []}\r\n                                                value={data.serviceType}\r\n                                                onChange={v => { handleChange(v, 'serviceType') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                {\r\n                                    ['manyCustomers', 'manyDrivers', 'manyAdmins'].includes(data.to)\r\n                                        ? <div className=\"col-md-12 form-group\">\r\n                                            <label className=\"req\">Select Users</label>\r\n                                            <AntdSelect\r\n                                                mode={'multiple'}\r\n                                                placeholder={'Select Users'}\r\n                                                options={users || []}\r\n                                                value={data.userIds}\r\n                                                onChange={v => { handleChange(v, 'userIds') }}\r\n                                            />\r\n                                        </div>\r\n                                        : null\r\n                                }\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Content</label>\r\n                                    <Input.TextArea value={data.content} onChange={e => { handleChange(e.target.value, 'content') }} />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewTaluk'),\r\n    add: util.getModules('addTaluk'),\r\n    edit: util.getModules('editTaluk'),\r\n    delete: util.getModules('deleteTaluk'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Taluk({ districtId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [states, setStates] = useState([]);\r\n    const [districts, setDistricts] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, district: districtId });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this taluk?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listTaluk(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteTaluk(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllState().then(res => { setStates(res.result.data || []) });\r\n        service.listAllDistrict().then(res => { setDistricts(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !districtId\r\n                    ? <div className=\"page-description text-white p-2\" >\r\n                        <span>Taluk List</span>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, states, districts, districtId }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, states, districts: parentDistricts, districtId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [districts, setDistricts] = useState([]);\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            if(dt){\r\n                // dt.state = parentDistricts.find(v => v._id === dt.district)?.state;\r\n            } else{\r\n                dt = {};\r\n                dt.isActive = true;\r\n                dt.state = parentDistricts.find(v => v._id === districtId)?.state;\r\n                dt.district = districtId;\r\n            }\r\n            setData({ ...dt });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    useEffect(() => {\r\n        if (data.state) {\r\n            setDistricts(parentDistricts?.filter(v => v.state === data.state))\r\n        } else {\r\n            setDistricts([]);\r\n        }\r\n    }, [data.state]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveTaluk(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Taluk'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        disabled={districtId}\r\n                                        options={states || []}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">District</label>\r\n                                    <AntdSelect\r\n                                        disabled={districtId}\r\n                                        options={districts || []}\r\n                                        value={data.district}\r\n                                        onChange={v => { handleChange(v, 'district') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport Taluk from \"./Taluk\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewDistrict'),\r\n    add: util.getModules('addDistrict'),\r\n    edit: util.getModules('editDistrict'),\r\n    delete: util.getModules('deleteDistrict'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function District({ stateId = null }) {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [states, setStates] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    const talukModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0, state: stateId });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Taluks',\r\n            dataIndex: 'name',\r\n            width: 100,\r\n            render: (text, row) => <Button size=\"small\" className=\"mx-1\" onClick={() => { talukModalRef.current.openForm(row) }}>Taluks</Button>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this district?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listDistrict(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteDistrict(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n        service.listAllState().then(res => { setStates(res.result.data || []) });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !stateId\r\n                    ? <div className=\"page-description text-white p-2\" >\r\n                        <span>District List</span>\r\n                    </div>\r\n                    : null\r\n            }\r\n\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, states, stateId }} />\r\n            <TalukModal ref={talukModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, states, stateId } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true, state: stateId });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveDistrict(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' District'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">State</label>\r\n                                    <AntdSelect\r\n                                        disabled={stateId}\r\n                                        options={states || []}\r\n                                        value={data.state}\r\n                                        onChange={v => { handleChange(v, 'state') }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst TalukModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>Taluk list of <span className=\"text-danger\">{data.name}</span></> }\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                footer={null}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1200}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Taluk districtId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/sdt\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\nimport District from \"./District\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewState'),\r\n    add: util.getModules('addState'),\r\n    edit: util.getModules('editState'),\r\n    delete: util.getModules('deleteState'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function State() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const formRef = useRef();\r\n    const districtModalRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Districts',\r\n            dataIndex: 'name',\r\n            width: 100,\r\n            render: (text, row) => <Button size=\"small\" className=\"mx-1\" onClick={() => { districtModalRef.current.openForm(row) }}>Districts</Button>\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: (!addAccess && !editAccess && !deleteAccess && !viewAccess) || !util.isSuperAdmin(),\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this state?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listState(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deleteState(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        list();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>State List</span>\r\n            </div>\r\n            <div className=\"m-2 p-2\">\r\n                <MyTable {...{ data, columns, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name', addNew: addAccess && util.isSuperAdmin() }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list }} />\r\n            <DistrictModal ref={districtModalRef} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    useEffect(() => { handleChange(util.removeSpecialChars(data.name || ''), 'key'); }, [data.name]);\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.saveState(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' State'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});\r\n\r\nconst DistrictModal = forwardRef((props, ref) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={<>District list of <span className=\"text-danger\">{data.name}</span></> }\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                footer={null}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={1600}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <District stateId={data._id} />\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, forwardRef, useState, useImperativeHandle, useEffect } from \"react\";\r\nimport MyTable from \"../../components/MyTable\";\r\nimport { Button, Popconfirm, Input, Modal, Tag, Spin } from \"antd\";\r\nimport { AntdSelect } from \"../../../utils/Antd\";\r\nimport { EditOutlined, DeleteOutlined, LoadingOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport service from \"../../../services/fare\";\r\nimport commonService from \"../../../services/common\";\r\nimport { AntdMsg } from \"../../../utils/Antd\";\r\nimport util from \"../../../utils/util\";\r\n\r\nexport const modules = {\r\n    view: util.getModules('viewPackage'),\r\n    add: util.getModules('addPackage'),\r\n    edit: util.getModules('editPackage'),\r\n    delete: util.getModules('deletePackage'),\r\n};\r\n\r\nconst viewAccess = modules.view;\r\nconst addAccess = modules.add;\r\nconst editAccess = modules.edit;\r\nconst deleteAccess = modules.delete;\r\n\r\n\r\nexport default function Package() {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [serviceTypes, setServiceTypes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const formRef = useRef();\r\n    let [sdata, setSData] = useState({ key: '', page: 1, limit: 20, total: 0 });\r\n    const columns = [\r\n        {\r\n            title: 'Service Name',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: 'Distance',\r\n            dataIndex: 'distance',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Time',\r\n            dataIndex: 'time',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'Service Type',\r\n            dataIndex: 'serviceTypeDetails',\r\n            width: 100,\r\n            render: (data, row) => {\r\n                if(data?.key === 'cargo'){\r\n                    return <Tag color='cyan'>{data?.name}</Tag>\r\n                } else if(data?.key === 'taxi'){\r\n                    return <Tag color='purple'>{data?.name}</Tag>\r\n                } else {\r\n                    return <Tag>{data?.name}</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Status',\r\n            dataIndex: 'isActive',\r\n            width: 80,\r\n            render: isActive => {\r\n                if (isActive) {\r\n                    return <Tag color='green'>Active</Tag>\r\n                } else {\r\n                    return <Tag color='red'>Inactive</Tag>\r\n                }\r\n            },\r\n        },\r\n        {\r\n            title: 'Action',\r\n            width: 90,\r\n            hidden: !addAccess && !editAccess && !deleteAccess && !viewAccess,\r\n            render: (text, row) => (\r\n                <>\r\n                    {\r\n                        editAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EditOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        !editAccess && viewAccess\r\n                            ? <Button size=\"small\" className=\"mx-1\" onClick={() => { formRef.current.openForm(text) }}>\r\n                                <span className=\"d-flex\">\r\n                                    <EyeOutlined />\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n                    {\r\n                        deleteAccess\r\n                            ? <Button type=\"danger\" size=\"small\">\r\n                                <span className=\"d-flex\">\r\n                                    <Popconfirm\r\n                                        title=\"Are you sure to delete this package?\"\r\n                                        onConfirm={() => deleteConfirm(row._id)}\r\n                                        okText=\"Yes\"\r\n                                        cancelText=\"No\"\r\n                                    >\r\n                                        <DeleteOutlined />\r\n                                    </Popconfirm>\r\n                                </span>\r\n                            </Button>\r\n                            : null\r\n                    }\r\n\r\n\r\n                </>\r\n            ),\r\n        },\r\n    ].filter(item => !item.hidden);\r\n\r\n    const list = (data) => {\r\n        if (typeof data === 'undefined') {\r\n            data = sdata;\r\n        }\r\n        setLoading(true);\r\n        service.listPackage(data, viewAccess).then(res => {\r\n            let dt = data;\r\n            dt.total = res.result?.total || 0;\r\n            setSData({ ...dt });\r\n            setData(res.result?.data || []);\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })\r\n    }\r\n\r\n    const deleteConfirm = (id) => {\r\n        service.deletePackage(id, deleteAccess).then(res => {\r\n            AntdMsg(res.message);\r\n            list();\r\n        }).catch(err => {\r\n            AntdMsg(err.message, 'error');\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFilters([\r\n            {\r\n                type: 'dropdown',\r\n                key: 'serviceType',\r\n                placeholder: 'Service Type',\r\n                className: \"w200 mx-1\",\r\n                options: serviceTypes\r\n            },\r\n        ]);\r\n    }, [serviceTypes]);\r\n\r\n    useEffect(() => {\r\n        list();\r\n        commonService.listServiceType().then(res => { setServiceTypes(res.result.data); });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"page-description text-white p-2\" >\r\n                <span>Package List</span>\r\n            </div>\r\n            <div className=\"m-2 border p-2\">\r\n                <MyTable {...{ data, columns, filters, parentSData: sdata, loading, formRef, list, searchPlaceholder: 'Name or Slug', addNew: addAccess }} />\r\n            </div>\r\n            <AddForm ref={formRef} {...{ list, serviceTypes }} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst AddForm = forwardRef((props, ref) => {\r\n    const { list, serviceTypes } = props;\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [data, setData] = useState({});\r\n    const [changeForm, setChangeForm] = useState(false);\r\n\r\n    const handleVisible = (val) => {\r\n        setVisible(val);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openForm(dt) {\r\n            setData(dt ? { ...dt } : { isActive: true });\r\n            handleVisible(true);\r\n            if (!dt?._id && addAccess) {\r\n                setChangeForm(true);\r\n            } else if (dt._id && editAccess) {\r\n                setChangeForm(true);\r\n            } else {\r\n                setChangeForm(false);\r\n            }\r\n        }\r\n    }));\r\n\r\n    const handleChange = (v, k) => { setData({ ...data, [k]: v }); }\r\n\r\n    const save = () => {\r\n        setAjxRequesting(true);\r\n        service.savePackage(data, data._id ? editAccess : addAccess).then((res) => {\r\n            AntdMsg(res.message);\r\n            handleVisible(false);\r\n            list();\r\n        }).catch(err => {\r\n            if (typeof err.message === 'object') {\r\n                let dt = err.message[Object.keys(err.message)[0]];\r\n                AntdMsg(dt, 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error');\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title={(!data._id ? 'Add' : 'Edit') + ' Package'}\r\n                style={{ top: 20 }}\r\n                visible={visible}\r\n                okText=\"Save\"\r\n                onOk={save}\r\n                okButtonProps={{ disabled: ajxRequesting || (!changeForm), style: { display: !changeForm ? 'none' : 'inline-block' } }}\r\n                onCancel={() => { handleVisible(false); }}\r\n                destroyOnClose\r\n                maskClosable={false}\r\n                width={400}\r\n                className=\"app-modal-body-overflow\"\r\n            >\r\n                <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n                    <form onSubmit={e => { e.preventDefault(); save() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <fieldset className=\"\" disabled={!changeForm}>\r\n                            <div className=\"row mingap\">\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Service Type</label>\r\n                                    <AntdSelect options={serviceTypes} value={data.serviceType} onChange={v => { handleChange(v, 'serviceType') }} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Package Name</label>\r\n                                    <Input value={data.name || ''} onChange={e => handleChange(e.target.value, 'name')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Distance (In KM)</label>\r\n                                    <Input value={data.distance || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'distance')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Time (In Hour)</label>\r\n                                    <Input value={data.time || ''} onChange={e => handleChange(util.handleFloat(e.target.value), 'time')} />\r\n                                </div>\r\n                                <div className=\"col-md-12 form-group\">\r\n                                    <label className=\"req\">Status</label>\r\n                                    <AntdSelect\r\n                                        options={[{ value: true, label: \"Active\" }, { value: false, label: \"Inactive\" }]}\r\n                                        value={data.isActive}\r\n                                        onChange={v => { handleChange(v, 'isActive') }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </form>\r\n                </Spin>\r\n            </Modal>\r\n        </>\r\n    );\r\n});","/* eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }] */\r\nimport { DashboardOutlined, TeamOutlined, KeyOutlined, CarOutlined, MailOutlined, NotificationOutlined, EnvironmentOutlined } from '@ant-design/icons';\r\nimport { Avatar } from 'antd';\r\nimport Dashboard from './views/pages/Dashboard';\r\nimport Profile from './views/pages/user/Profile';\r\nimport Customer, { modules as customerModules } from './views/pages/customer/Customer';\r\nimport AssignPermission from './views/pages/roleAndPermissions/AssignPermission';\r\nimport User, { modules as userModules } from './views/pages/admin/User';\r\nimport TabsVehicle from './views/pages/tabs/Tabs';\r\nimport Category, {modules as categoryModules} from './views/pages/vehicle/Category';\r\nimport Vehicle, {modules as vehicleModules} from './views/pages/vehicle/Vehicle';\r\nimport Type, {modules as typeModules} from './views/pages/ride/Type';\r\nimport util from './utils/util';\r\nimport Driver, {modules as driverModules} from './views/pages/driver/Driver';\r\nimport Module from './views/pages/tabs/Module';\r\nimport Make, {modules as makeModules} from './views/pages/vehicle/Make';\r\nimport MakeModel, {modules as makeModelModules} from './views/pages/vehicle/MakeModel';\r\nimport Color, {modules as colorModules} from './views/pages/vehicle/Color';\r\nimport TaxiFareManagement, {modules as taxiFareManagementModules} from './views/pages/fare/TaxiFareManagement';\r\nimport Template, {modules as templateModules} from './views/pages/email/Template';\r\nimport Email, {modules as emailModules} from './views/pages/email/Email';\r\nimport Notification, {modules as notificationModules} from './views/pages/notification/Notification';\r\nimport State, {modules as stateModules} from './views/pages/sdt/State';\r\nimport District, {modules as districtModules} from './views/pages/sdt/District';\r\nimport Taluk, {modules as talukModules} from './views/pages/sdt/Taluk';\r\nimport Package, {modules as packageModules} from './views/pages/fare/Package';\r\n\r\nconst allModules = util.getModules();\r\nconst isSuperAdmin = util.isSuperAdmin();\r\n\r\nArray.prototype.includesAny = function (arr = []) {\r\n    return this.some(function (element) {\r\n        return arr.includes(element);\r\n    });\r\n}\r\n\r\nconst routes = {\r\n    leftNav: [\r\n        { name: 'Dashboard', icon: () => <DashboardOutlined />, url: '/', component: Dashboard },\r\n        { name: 'Modules', icon: () => <DashboardOutlined />, url: '/modules', component: Module },\r\n        { name: 'Tabs', url: '/vehicles', icon: () => <CarOutlined />, component: TabsVehicle },\r\n        {\r\n            name: 'States, Districts & Taluks',\r\n            baseURL: '/sdt',\r\n            modules: [colorModules.view, makeModules.view, makeModelModules.view, categoryModules.view, vehicleModules.view ],\r\n            icon: () => <EnvironmentOutlined />,\r\n            subMenus: [\r\n                { name: 'States', url: '/states', component: State, modules: [stateModules.view] },\r\n                { name: 'Districts', url: '/districts', component: District, modules: [districtModules.view] },\r\n                { name: 'Taluks', url: '/taluks', component: Taluk, modules: [talukModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Vehicle',\r\n            baseURL: '/vehicle',\r\n            modules: [colorModules.view, makeModules.view, makeModelModules.view, categoryModules.view, vehicleModules.view ],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Color', url: '/color', component: Color, modules: [colorModules.view] },\r\n                { name: 'Make', url: '/make', component: Make, modules: [makeModules.view] },\r\n                { name: 'Make Model', url: '/make-model', component: MakeModel, modules: [makeModelModules.view] },\r\n                { name: 'Category', url: '/category', component: Category, modules: [categoryModules.view] },\r\n                { name: 'Vehicle', url: '/vehicle', component: Vehicle, modules: [vehicleModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Ride',\r\n            baseURL: '/ride',\r\n            modules: [typeModules.view],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Type', url: '/type', component: Type, modules: [typeModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        {\r\n            name: 'Fare Management',\r\n            baseURL: '/fare-management',\r\n            modules: [taxiFareManagementModules.view],\r\n            icon: () => <CarOutlined />,\r\n            subMenus: [\r\n                { name: 'Rental Package', url: '/rental-package', component: Package, modules: [packageModules.view] },\r\n                { name: 'Taxi Fare Management', url: '/taxi', component: TaxiFareManagement, modules: [taxiFareManagementModules.view] },\r\n                { name: 'Cargo Fare Management', url: '/cargo', component: ()=>{return TaxiFareManagement({activeServiceType: 'cargo'})}, modules: [taxiFareManagementModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        { name: 'Drivers', url: '/drivers', icon: () => <TeamOutlined />, component: Driver, modules: [driverModules.view] },\r\n        { name: 'Admins', url: '/users', icon: () => <TeamOutlined />, component: User, modules: [userModules.view] },\r\n        { name: 'Customers', url: '/customers', icon: () => <TeamOutlined />, component: Customer, modules: [customerModules.view] },\r\n        { name: 'User Permissions', url: '/user-permissions', icon: () => <KeyOutlined />, component: AssignPermission },\r\n        {\r\n            name: 'Email',\r\n            baseURL: '/email',\r\n            modules: [templateModules.view, emailModules.view],\r\n            icon: () => <MailOutlined />,\r\n            subMenus: [\r\n                { name: 'Template', url: '/template', component: Template, modules: [templateModules.view] },\r\n                { name: 'Email', url: '/email', component: Email, modules: [emailModules.view] },\r\n            ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n        },\r\n        { name: 'Notifications', url: '/notifications', icon: () => <NotificationOutlined />, component: Notification, modules: [notificationModules.view] },\r\n    ].filter(v => isSuperAdmin || v.modules?.includesAny(allModules)),\r\n\r\n    topNav: [\r\n        {\r\n            name: 'Your Profile',\r\n            icon: () => <Avatar style={{ marginRight: 8 }} size={30} src=\"images/avatar-1.jpg\" />,\r\n            url: '/profile',\r\n            component: Profile\r\n        },\r\n    ]\r\n}\r\n\r\nexport default routes;","export default function Dashboard() {\r\n    return (\r\n        <>\r\n            <div style={{ height: '100vh' }}>\r\n                <div className=\"page-description text-white p-2\" >\r\n                    <span>Dashboard</span>\r\n                </div>\r\n                <h2 className=\"text-secondary\">Dashboard Comming Soon...</h2>\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useState, Fragment } from 'react';\r\nimport { Menu } from 'antd';\r\nimport routes from '../../Route';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function Sider() {\r\n    let location = useLocation();\r\n    const [selectedKey, setSelectedKey] = useState(location.pathname);\r\n\r\n    const handleClick = e => {\r\n        setSelectedKey(e.key);\r\n    };\r\n\r\n    return (\r\n        <>\r\n             <Menu\r\n                onClick={handleClick}\r\n                style={{ width: 256 }}\r\n                defaultOpenKeys={['sub1']}\r\n                selectedKeys={selectedKey}\r\n                mode=\"inline\"\r\n                // theme=\"dark\"\r\n                id=\"left-menu-bar\"\r\n            >\r\n                {\r\n                    routes.leftNav.map((v, i) => (\r\n                        <Fragment key={i}>\r\n                            {v.subMenus?.length ?\r\n                                <SubMenu key={v.name.replace(/ /g, '')} icon={<v.icon />} title={v.name}>\r\n                                    {\r\n                                        v.subMenus.map((subMenu) => (\r\n                                            <Menu.Item key={subMenu.module || subMenu.url}>\r\n                                                <Link className=\"text-d-none\" to={(v.baseURL || '') + subMenu.url}>{subMenu.name}</Link>\r\n                                            </Menu.Item>\r\n                                        ))\r\n                                    }\r\n                                </SubMenu> :\r\n                                <Menu.Item key={v.url} icon={<v.icon />}>\r\n                                    <Link className=\"text-d-none\" to={v.url}>{v.name}</Link>    \r\n                                </Menu.Item>\r\n                            }\r\n                        </Fragment>\r\n                    ))\r\n                }\r\n            </Menu>\r\n        </>\r\n    )\r\n}","export function Sun() {\r\n    return (\r\n        <svg focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n            <rect fill=\"none\" height=\"24\" width=\"24\"></rect>\r\n            <path d=\"M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function Moon() {\r\n    return (\r\n        <svg focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            enableBackground=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n            <rect fill=\"none\" height=\"24\" width=\"24\"></rect>\r\n            <path fill=\"white\" d=\"M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, Fragment } from 'react';\r\nimport { Menu, Image } from 'antd';\r\nimport routes from '../../Route';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { PoweroffOutlined, MenuOutlined } from '@ant-design/icons';\r\nimport util from '../../utils/util';\r\nimport { Moon, Sun } from '../components/svgIcons';\r\nimport { If } from '../../utils/controls';\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function Sider() {\r\n    const location = useLocation();\r\n\r\n    const [selectedKey, setSelectedKey] = useState(location.pathname);\r\n    const [theme, setTheme] = useState(typeof util.getTheme === 'undefined' ? util.setTheme('light') : util.getTheme());\r\n\r\n    const handleClick = e => {\r\n        setSelectedKey(e.key);\r\n    };\r\n\r\n    const handleTheme = ($theme) => {\r\n        setTheme($theme);\r\n        util.setTheme($theme);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Menu\r\n                onClick={handleClick}\r\n                selectedKeys={selectedKey}\r\n                mode=\"horizontal\"\r\n            // theme=\"dark\"\r\n            >\r\n                <Menu.Item id=\"menu-bar-logo\" className='d-flex' key=\"mail\" style={{ width: 256 }}>\r\n                    <Image preview={false} style={{ height: '24px', width: '36px' }} src=\"images/logo-thumb.png\" />\r\n                </Menu.Item>\r\n                <Menu.Item key=\"menu\" className=\"mr-auto\" onClick={() => {\r\n                    document.querySelector('#left-menu-bar')?.classList?.toggle('d-none')\r\n                    document.querySelector('#menu-bar-logo')?.classList?.toggle('d-none')\r\n                }}>\r\n                    <MenuOutlined />\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"light\" icon={\r\n                    <>\r\n                        <If cond={theme === 'light'}>\r\n                            <Sun />\r\n                        </If>\r\n                        <If cond={theme === 'dark'}>\r\n                            <Moon />\r\n                        </If>\r\n                    </>\r\n                }\r\n                    onClick={() => {\r\n                        handleTheme(theme === 'light' ? 'dark' : 'light')\r\n                    }\r\n                    }>\r\n                </Menu.Item>\r\n\r\n                {\r\n                    routes.topNav.map((v, i) => (\r\n                        <Fragment key={i}>\r\n                            {v.subMenus?.length ?\r\n                                <SubMenu key={v.name.replace(/ /g, '')} icon={<v.icon />} title={v.name}>\r\n                                    {\r\n                                        v.subMenus.map((subMenu) => (\r\n                                            <Menu.Item key={subMenu.url}>\r\n                                                <Link className=\"text-d-none\" to={(v.baseURL || '') + subMenu.url}>{subMenu.name}</Link>\r\n                                            </Menu.Item>\r\n                                        ))\r\n                                    }\r\n                                </SubMenu> :\r\n                                <Menu.Item key={v.url} icon={<v.icon />}>\r\n                                    <Link className=\"text-d-none\" to={v.url}>{v.name}</Link>\r\n                                </Menu.Item>\r\n                            }\r\n                        </Fragment>\r\n                    ))\r\n                }\r\n                <Menu.Item key=\"logout\" icon={<PoweroffOutlined />} onClick={() => { util.logout() }}>\r\n                    Logout\r\n                </Menu.Item>\r\n\r\n            </Menu>\r\n        </>\r\n    )\r\n}","import { Result, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Error404() {\r\n    return (\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Link to=\"/\"><Button type=\"primary\">Back Home</Button></Link>}\r\n        />\r\n    );\r\n}\r\n\r\n","import Leftnav from \"./Leftnav\";\r\nimport Topnav from \"./Topnav\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport routes from \"../../Route\";\r\nimport Error404 from \"../pages/errors/Error404\";\r\nexport default function layout() {\r\n    return (\r\n        <>\r\n            <Topnav />\r\n            <div className=\"d-flex\">\r\n                <div className=\"nav-overflow\">\r\n                    <Leftnav />\r\n                </div>\r\n                <div className=\"content-data\">\r\n                    <Switch>\r\n                        {\r\n                            routes.leftNav.map((v, i) => (\r\n                                v.subMenus?.length ?\r\n                                    v.subMenus.map((subMenu) => (\r\n                                        <Route key={subMenu.module || subMenu.url} exact={true} path={v.baseURL + subMenu.url}><subMenu.component /></Route>\r\n                                    )) :\r\n                                    <Route key={v.module || v.url} exact={true} path={v.url}><v.component /></Route>\r\n                            ))\r\n                        }\r\n                        {\r\n                            routes.topNav.map((v, i) => (\r\n                                v.subMenus?.length ?\r\n                                    v.subMenus.map((subMenu) => (\r\n                                        <Route key={subMenu.module || subMenu.url} exact={true} path={v.baseURL + subMenu.url}><subMenu.component /></Route>\r\n                                    )) :\r\n                                    <Route key={v.module || v.url} exact={true} path={v.url}><v.component /></Route>\r\n                            ))\r\n                        }\r\n                        <Route path=\"*\">\r\n                            <Error404 />\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}","import axios from \"../utils/axios\";\r\n\r\nexport default class auth{\r\n    static login(data){\r\n        return axios.post(\"user/login\", data, {module: 'ignoreModule'});\r\n    }\r\n    static validateToken(data){\r\n        return axios.post(\"user/validate-token\", data, {module: 'ignoreModule'});\r\n    }\r\n}","import { Input, Button, Spin } from 'antd';\r\nimport { UserOutlined, LockOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\nimport auth from '../services/auth';\r\nimport { AntdMsg } from '../utils/Antd';\r\nimport util from '../utils/util';\r\n\r\nexport default function Login() {\r\n    const [userName, setUserName] = useState(/* 'superadmin@test.com' */);\r\n    const [password, setPassword] = useState(/* '123456' */);\r\n    const [ajxRequesting, setAjxRequesting] = useState(false);\r\n    const [passwordVisible, setPasswordVisible] = useState(false);\r\n\r\n    const login = () => {\r\n        setAjxRequesting(true);\r\n\r\n        auth.login({ email: userName, password: password }).then(res => {\r\n            AntdMsg(res.message);\r\n            util.setUserData(res.data);\r\n            window.location.reload();\r\n        }).catch((err) => {\r\n            if (typeof err.message !== 'string') {\r\n                AntdMsg(err.message[Object.keys(err.message)[0]][0], 'error');\r\n            } else {\r\n                AntdMsg(err.message, 'error')\r\n            }\r\n        }).finally(() => {\r\n            setAjxRequesting(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Spin spinning={ajxRequesting} indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />}>\r\n            <div className=\"d-flex h100vh bg-light1\">\r\n                <div className=\"w280 mx-auto mt-5 border p-4 bg-white1 h280\">\r\n                    <form onSubmit={e => { e.preventDefault(); login() }} autoComplete=\"off\" spellCheck=\"false\">\r\n                        <h5 className=\"text-secondary text-center\">Cargo Admin Panel</h5>\r\n                        <div className=\"ant-image w-100 mb-3\">\r\n                            <img className=\"ant-image-img w60 h40 mx-auto\" src=\"images/logo-thumb.png\" alt=\"Logo\" />\r\n                        </div>\r\n                        <Input className=\"mb-2\"\r\n                            prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                            value={userName}\r\n                            onChange={(e) => { setUserName(e.target.value) }}\r\n                            placeholder=\"Username\" />\r\n                        <Input className=\"mb-2\"\r\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            value={password}\r\n                            onChange={(e) => { setPassword(e.target.value) }}\r\n                            type={!passwordVisible ? \"password\" : \"text\"}\r\n                            suffix={<Button type=\"text\" shape=\"circle\" icon={<EyeOutlined />} onClick={() => setPasswordVisible(!passwordVisible)} />}\r\n                            placeholder=\"Password\" />\r\n                        <Button className=\"login-form-button w-100\" type=\"primary\" htmlType=\"submit\" onClick={login}>Log in</Button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    );\r\n};","import './App.css';\r\nimport { useEffect, useState, createContext } from 'react';\r\nimport Layout from './views/layouts/Layout';\r\nimport Login from './views/Login';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { If } from './utils/controls';\r\nimport util from './utils/util';\r\nimport auth from './services/auth';\r\nimport config from './rdx';\r\n\r\nexport const IsSuperAdminContext = createContext();\r\n\r\nfunction App() {\r\n\tconst [isLoggedin, setIsLoggedin] = useState(util.isLogged());\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tauth.validateToken().then(res => {\r\n\t\t\tsetIsLoggedin(true);\r\n\t\t\tconfig.userType = res.type;\r\n\t\t}).catch(err => {\r\n\t\t\tsetIsLoggedin(false);\r\n\t\t\twindow.localStorage.clear();\r\n\t\t})\r\n\t}, [])\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BrowserRouter basename=\"/cargo/admin/build\">\r\n\t\t\t\t<If cond={isLoggedin}>\r\n\t\t\t\t\t<Layout />\r\n\t\t\t\t</If>\r\n\t\t\t\t<If cond={!isLoggedin}>\r\n\t\t\t\t\t<Login />\r\n\t\t\t\t</If>\r\n\t\t\t</BrowserRouter>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import 'antd/dist/antd.min.css';\r\n// import 'antd/dist/antd.dark.min.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport util from './utils/util';\r\n// import Test from './views/components/Test';\r\n\r\n(async () => {\r\n  if (util.getTheme() === 'dark') {\r\n    await util.setTheme('dark');\r\n  } else {\r\n    await util.setTheme('light');\r\n  }\r\n  ReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n  );\r\n})();\r\n\r\n\r\n// ReactDOM.render(\r\n//     <Test />,\r\n//   document.getElementById('root')\r\n// );\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}