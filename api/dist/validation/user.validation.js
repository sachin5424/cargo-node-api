"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.userRegisterValidation = exports.userRefreshTokenValidation = exports.userLoginValidation = exports.check_params = void 0;

var _expressValidator = require("express-validator");

var _index = require("../data-base/index");

var _helper = require("../utls/_helper");

const validationMessage = {
  required: "This feild is required",
  invalidEmail: "Invalid email addresss",
  invalidPassword: "Invalid email password"
};
const userRegisterValidation = [(0, _expressValidator.check)('firstName').notEmpty().withMessage(validationMessage.required).isString(), (0, _expressValidator.check)('lastName').notEmpty().withMessage(validationMessage.required).isString(), (0, _expressValidator.check)('email').notEmpty().withMessage(validationMessage.required).isEmail().withMessage(validationMessage.invalidEmail).custom(async (value, {
  req
}) => {
  return _index.UserModel.findOne({
    email: value
  }).then(email => {
    if (email) {
      throw new Error('try unique email');
    }
  });
}), (0, _expressValidator.check)('password').notEmpty().withMessage(validationMessage.required).isString().withMessage(validationMessage.invalidPassword), (0, _expressValidator.check)('confim_password').notEmpty().withMessage(validationMessage.required).isString().withMessage(validationMessage.required).custom((value, {
  req
}) => {
  if (value !== req.body.password) {
    throw new Error('Password confirmation does not match password');
  }

  return true;
})];
exports.userRegisterValidation = userRegisterValidation;
const userLoginValidation = [(0, _expressValidator.check)('email').notEmpty().withMessage(validationMessage.required).isEmail().withMessage(validationMessage.required).custom(async input => {
  const data = await _index.UserModel.findOne({
    email: input,
    isActive: true
  });
  if (!data) throw Error('Email address not register');
  if (data.emailVerified === false) throw new Error('Eamil address not verfiy');
}), (0, _expressValidator.check)('password').notEmpty().withMessage(validationMessage.required).isString().withMessage(validationMessage.invalidPassword).custom(async (input, {
  req
}) => {
  try {
    const match = await (0, _helper.matchPassword)(req.body.email, input);

    if (match == false) {
      throw new Error('invalid user credentials');
    }
  } catch (err) {
    if (err) {
      throw new Error('invalid user credentials');
    }
  }
})];
exports.userLoginValidation = userLoginValidation;
const userRefreshTokenValidation = [(0, _expressValidator.check)('email').notEmpty().withMessage(validationMessage.required).isEmail().custom(async input => {
  return _index.UserTokenModel.findOne({
    email: input
  }).then(data => {
    if (!data) {
      throw new Error('invalid user Refresh Token');
    }
  });
}), (0, _expressValidator.check)('refreshToken').notEmpty().withMessage(validationMessage.required).isString().custom(async (input, {
  req
}) => {
  return _index.UserTokenModel.findOne({
    refreshToken: input,
    email: req.body.email
  }).then(data => {
    if (!data) {
      throw new Error('invalid user Refresh Token');
    }
  });
})];
exports.userRefreshTokenValidation = userRefreshTokenValidation;
const check_params = [(0, _expressValidator.param)('id').notEmpty().withMessage('required param').custom(async id => {
  const data = await _index.UserModel.findOne({
    _id: id
  });

  if (!data) {
    throw new Error('Invalid param Id');
  }
})];
exports.check_params = check_params;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWxpZGF0aW9uL3VzZXIudmFsaWRhdGlvbi5qcyJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uTWVzc2FnZSIsInJlcXVpcmVkIiwiaW52YWxpZEVtYWlsIiwiaW52YWxpZFBhc3N3b3JkIiwidXNlclJlZ2lzdGVyVmFsaWRhdGlvbiIsIm5vdEVtcHR5Iiwid2l0aE1lc3NhZ2UiLCJpc1N0cmluZyIsImlzRW1haWwiLCJjdXN0b20iLCJ2YWx1ZSIsInJlcSIsIlVzZXJNb2RlbCIsImZpbmRPbmUiLCJlbWFpbCIsInRoZW4iLCJFcnJvciIsImJvZHkiLCJwYXNzd29yZCIsInVzZXJMb2dpblZhbGlkYXRpb24iLCJpbnB1dCIsImRhdGEiLCJpc0FjdGl2ZSIsImVtYWlsVmVyaWZpZWQiLCJtYXRjaCIsImVyciIsInVzZXJSZWZyZXNoVG9rZW5WYWxpZGF0aW9uIiwiVXNlclRva2VuTW9kZWwiLCJyZWZyZXNoVG9rZW4iLCJjaGVja19wYXJhbXMiLCJpZCIsIl9pZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBLE1BQU1BLGlCQUFpQixHQUFHO0FBQ3RCQyxFQUFBQSxRQUFRLEVBQUUsd0JBRFk7QUFFdEJDLEVBQUFBLFlBQVksRUFBRSx3QkFGUTtBQUd0QkMsRUFBQUEsZUFBZSxFQUFFO0FBSEssQ0FBMUI7QUFLQSxNQUFNQyxzQkFBc0IsR0FBRyxDQUMzQiw2QkFBTSxXQUFOLEVBQW1CQyxRQUFuQixHQUE4QkMsV0FBOUIsQ0FBMENOLGlCQUFpQixDQUFDQyxRQUE1RCxFQUFzRU0sUUFBdEUsRUFEMkIsRUFFM0IsNkJBQU0sVUFBTixFQUFrQkYsUUFBbEIsR0FBNkJDLFdBQTdCLENBQXlDTixpQkFBaUIsQ0FBQ0MsUUFBM0QsRUFBcUVNLFFBQXJFLEVBRjJCLEVBRzNCLDZCQUFNLE9BQU4sRUFBZUYsUUFBZixHQUEwQkMsV0FBMUIsQ0FBc0NOLGlCQUFpQixDQUFDQyxRQUF4RCxFQUFrRU8sT0FBbEUsR0FBNEVG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IHsgY2hlY2ssIHBhcmFtIH0gZnJvbSBcImV4cHJlc3MtdmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFVzZXJNb2RlbCwgVXNlclRva2VuTW9kZWwgfSBmcm9tIFwiLi4vZGF0YS1iYXNlL2luZGV4XCI7XHJcbmltcG9ydCB7IG1hdGNoUGFzc3dvcmQgfSBmcm9tIFwiLi4vdXRscy9faGVscGVyXCI7XHJcbmNvbnN0IHZhbGlkYXRpb25NZXNzYWdlID0ge1xyXG4gICAgcmVxdWlyZWQ6IFwiVGhpcyBmZWlsZCBpcyByZXF1aXJlZFwiLFxyXG4gICAgaW52YWxpZEVtYWlsOiBcIkludmFsaWQgZW1haWwgYWRkcmVzc3NcIixcclxuICAgIGludmFsaWRQYXNzd29yZDogXCJJbnZhbGlkIGVtYWlsIHBhc3N3b3JkXCIsXHJcbn07XHJcbmNvbnN0IHVzZXJSZWdpc3RlclZhbGlkYXRpb24gPSBbXHJcbiAgICBjaGVjaygnZmlyc3ROYW1lJykubm90RW1wdHkoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5yZXF1aXJlZCkuaXNTdHJpbmcoKSxcclxuICAgIGNoZWNrKCdsYXN0TmFtZScpLm5vdEVtcHR5KCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UucmVxdWlyZWQpLmlzU3RyaW5nKCksXHJcbiAgICBjaGVjaygnZW1haWwnKS5ub3RFbXB0eSgpLndpdGhNZXNzYWdlKHZhbGlkYXRpb25NZXNzYWdlLnJlcXVpcmVkKS5pc0VtYWlsKCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UuaW52YWxpZEVtYWlsKS5jdXN0b20oYXN5bmMgKHZhbHVlLCB7IHJlcSB9KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IHZhbHVlIH0pLnRoZW4oKGVtYWlsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0cnkgdW5pcXVlIGVtYWlsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pLFxyXG4gICAgY2hlY2soJ3Bhc3N3b3JkJykubm90RW1wdHkoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5yZXF1aXJlZCkuaXNTdHJpbmcoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5pbnZhbGlkUGFzc3dvcmQpLFxyXG4gICAgY2hlY2soJ2NvbmZpbV9wYXNzd29yZCcpLm5vdEVtcHR5KCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UucmVxdWlyZWQpLmlzU3RyaW5nKCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UucmVxdWlyZWQpLmN1c3RvbSgodmFsdWUsIHsgcmVxIH0pID0+IHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHJlcS5ib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGFzc3dvcmQgY29uZmlybWF0aW9uIGRvZXMgbm90IG1hdGNoIHBhc3N3b3JkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSlcclxuXTtcclxuY29uc3QgdXNlckxvZ2luVmFsaWRhdGlvbiA9IFtcclxuICAgIGNoZWNrKCdlbWFpbCcpLm5vdEVtcHR5KCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UucmVxdWlyZWQpLmlzRW1haWwoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5yZXF1aXJlZCkuY3VzdG9tKGFzeW5jIChpbnB1dCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBpbnB1dCwgaXNBY3RpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgaWYgKCFkYXRhKVxyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRW1haWwgYWRkcmVzcyBub3QgcmVnaXN0ZXInKTtcclxuICAgICAgICBpZiAoZGF0YS5lbWFpbFZlcmlmaWVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYW1pbCBhZGRyZXNzIG5vdCB2ZXJmaXknKTtcclxuICAgIH0pLFxyXG4gICAgY2hlY2soJ3Bhc3N3b3JkJykubm90RW1wdHkoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5yZXF1aXJlZCkuaXNTdHJpbmcoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5pbnZhbGlkUGFzc3dvcmQpLmN1c3RvbShhc3luYyAoaW5wdXQsIHsgcmVxIH0pID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGF3YWl0IG1hdGNoUGFzc3dvcmQocmVxLmJvZHkuZW1haWwsIGlucHV0KTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdXNlciBjcmVkZW50aWFscycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHVzZXIgY3JlZGVudGlhbHMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pLFxyXG5dO1xyXG5jb25zdCB1c2VyUmVmcmVzaFRva2VuVmFsaWRhdGlvbiA9IFtcclxuICAgIGNoZWNrKCdlbWFpbCcpLm5vdEVtcHR5KCkud2l0aE1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UucmVxdWlyZWQpLmlzRW1haWwoKS5jdXN0b20oYXN5bmMgKGlucHV0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFVzZXJUb2tlbk1vZGVsLmZpbmRPbmUoeyBlbWFpbDogaW5wdXQgfSkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB1c2VyIFJlZnJlc2ggVG9rZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSksXHJcbiAgICBjaGVjaygncmVmcmVzaFRva2VuJykubm90RW1wdHkoKS53aXRoTWVzc2FnZSh2YWxpZGF0aW9uTWVzc2FnZS5yZXF1aXJlZCkuaXNTdHJpbmcoKS5jdXN0b20oYXN5bmMgKGlucHV0LCB7IHJlcSB9KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFVzZXJUb2tlbk1vZGVsLmZpbmRPbmUoeyByZWZyZXNoVG9rZW46IGlucHV0LCBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB1c2VyIFJlZnJlc2ggVG9rZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSksXHJcbl07XHJcbmNvbnN0IGNoZWNrX3BhcmFtcyA9IFtcclxuICAgIHBhcmFtKCdpZCcpLm5vdEVtcHR5KCkud2l0aE1lc3NhZ2UoJ3JlcXVpcmVkIHBhcmFtJykuY3VzdG9tKGFzeW5jIChpZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogaWQgfSk7XHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXJhbSBJZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLFxyXG5dO1xyXG5leHBvcnQgeyB1c2VyUmVnaXN0ZXJWYWxpZGF0aW9uLCB1c2VyTG9naW5WYWxpZGF0aW9uLCB1c2VyUmVmcmVzaFRva2VuVmFsaWRhdGlvbiwgY2hlY2tfcGFyYW1zIH07XHJcbiJdfQ==