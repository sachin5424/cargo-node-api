"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.notificationValidation = void 0;

var _import = require("../settings/import");

var _notification = _interopRequireDefault(require("../data-base/models/notification"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const notificationValidation = [(0, _import.check)('_id').optional().notEmpty().withMessage("Provide / Select a valid data").custom(async v => {
  try {
    const r = await _notification.default.findOne({
      _id: v
    });

    if (!r) {
      throw new Error("Data not found");
    }
  } catch (e) {
    throw new Error("This data does not exit. Please check or refresh");
  }
}), (0, _import.check)('to').notEmpty().withMessage("The 'Send To' field is required").isIn(['manyCustomers', 'manyDrivers', 'manyAdmins', 'allCustomers', 'allDrivers', 'allAdmins']).withMessage("The 'Send To' field is not valid"), (0, _import.check)('content').notEmpty().withMessage("The 'Content' field is required").isString().withMessage("The 'Content' field is not valid")];
exports.notificationValidation = notificationValidation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWxpZGF0aW9uL05vdGlmaWNhdGlvblZhbGlkYXRpb25zLmpzIl0sIm5hbWVzIjpbIm5vdGlmaWNhdGlvblZhbGlkYXRpb24iLCJvcHRpb25hbCIsIm5vdEVtcHR5Iiwid2l0aE1lc3NhZ2UiLCJjdXN0b20iLCJ2IiwiciIsIk5vdGlmaWNhdGlvbk1vZGVsIiwiZmluZE9uZSIsIl9pZCIsIkVycm9yIiwiZSIsImlzSW4iLCJpc1N0cmluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRU8sTUFBTUEsc0JBQXNCLEdBQUcsQ0FFbEMsbUJBQU0sS0FBTixFQUNLQyxRQURMLEdBRUtDLFFBRkwsR0FFZ0JDLFdBRmhCLENBRTRCLCtCQUY1QixFQUdLQyxNQUhMLENBR1ksTUFBT0MsQ0FBUCxJQUFhO0FBQ2pCLE1BQUk7QUFDQSxVQUFNQyxDQUFDLEdBQUcsTUFBTUMsc0JBQWtCQyxPQUFsQixDQUEwQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUVKO0FBQU4sS0FBMUIsQ0FBaEI7O0FBQ0EsUUFBSSxDQUFDQyxDQUFMLEVBQVE7QUFDSixZQUFNLElBQUlJLEtBQUosQ0FBVSxnQkFBVixDQUFOO0FBQ0g7QUFDSixHQUxELENBS0UsT0FBT0MsQ0FBUCxFQUFVO0FBQ1IsVUFBTSxJQUFJRCxLQUFKLENBQVUsa0RBQVYsQ0FBTjtBQUNIO0FBQ0osQ0FaTCxDQUZrQyxFQWdCbEMsbUJBQU0sSUFBTixFQUNLUixRQURMLEdBQ2dCQyxXQURoQixDQUM0QixpQ0FENUIsRUFFS1MsSUFGTCxDQUVVLENBQUMsZUFBRCxFQUFrQixhQUFsQixFQUFpQyxZQUFqQyxFQUErQyxjQUEvQyxFQUErRCxZQUEvRCxFQUE2RSxXQUE3RSxDQUZWLEVBRXFHVCxXQUZyRyxDQUVpSCxrQ0FGakgsQ0FoQmtDLEVBb0JsQyxtQkFBTSxTQUFOLEVBQ1NELFFBRFQsR0FDb0JDLFdBRHBCLENBQ2dDLGlDQURoQyxFQUVTVSxRQUZULEdBRW9CVixXQUZwQixDQUVnQyxrQ0FGaEMsQ0FwQmtDLENBQS9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICcuLi9zZXR0aW5ncy9pbXBvcnQnO1xyXG5pbXBvcnQgTm90aWZpY2F0aW9uTW9kZWwgZnJvbSAnLi4vZGF0YS1iYXNlL21vZGVscy9ub3RpZmljYXRpb24nO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblZhbGlkYXRpb24gPSBbXHJcblxyXG4gICAgY2hlY2soJ19pZCcpXHJcbiAgICAgICAgLm9wdGlvbmFsKClcclxuICAgICAgICAubm90RW1wdHkoKS53aXRoTWVzc2FnZShcIlByb3ZpZGUgLyBTZWxlY3QgYSB2YWxpZCBkYXRhXCIpXHJcbiAgICAgICAgLmN1c3RvbShhc3luYyAodikgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IE5vdGlmaWNhdGlvbk1vZGVsLmZpbmRPbmUoe19pZDogdn0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgZGF0YSBkb2VzIG5vdCBleGl0LiBQbGVhc2UgY2hlY2sgb3IgcmVmcmVzaFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIFxyXG4gICAgY2hlY2soJ3RvJylcclxuICAgICAgICAubm90RW1wdHkoKS53aXRoTWVzc2FnZShcIlRoZSAnU2VuZCBUbycgZmllbGQgaXMgcmVxdWlyZWRcIilcclxuICAgICAgICAuaXNJbihbJ21hbnlDdXN0b21lcnMnLCAnbWFueURyaXZlcnMnLCAnbWFueUFkbWlucycsICdhbGxDdXN0b21lcnMnLCAnYWxsRHJpdmVycycsICdhbGxBZG1pbnMnXSkud2l0aE1lc3NhZ2UoXCJUaGUgJ1NlbmQgVG8nIGZpZWxkIGlzIG5vdCB2YWxpZFwiKSxcclxuXHJcbiAgICBjaGVjaygnY29udGVudCcpXHJcbiAgICAgICAgICAgIC5ub3RFbXB0eSgpLndpdGhNZXNzYWdlKFwiVGhlICdDb250ZW50JyBmaWVsZCBpcyByZXF1aXJlZFwiKVxyXG4gICAgICAgICAgICAuaXNTdHJpbmcoKS53aXRoTWVzc2FnZShcIlRoZSAnQ29udGVudCcgZmllbGQgaXMgbm90IHZhbGlkXCIpLFxyXG5cclxuXTsiXX0=